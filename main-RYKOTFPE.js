import{b as A_,c as k_,f as UM,g as R_}from"./chunk-EA6DTDFA.js";import{a as A,b as Z,d as Sn,f as O_,g as BM}from"./chunk-WMVSLYLA.js";var DE=Sn((Ed,EE)=>{"use strict";(function(e,n){typeof Ed=="object"&&typeof EE<"u"?n(Ed):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.leaflet={}))})(Ed,function(e){"use strict";var n="1.9.4";function t(o){var l,c,f,p;for(c=1,f=arguments.length;c<f;c++){p=arguments[c];for(l in p)o[l]=p[l]}return o}var r=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function i(o,l){var c=Array.prototype.slice;if(o.bind)return o.bind.apply(o,c.call(arguments,1));var f=c.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(c.call(arguments)):arguments)}}var s=0;function a(o){return"_leaflet_id"in o||(o._leaflet_id=++s),o._leaflet_id}function u(o,l,c){var f,p,m,y;return y=function(){f=!1,p&&(m.apply(c,p),p=!1)},m=function(){f?p=arguments:(o.apply(c,arguments),setTimeout(y,l),f=!0)},m}function d(o,l,c){var f=l[1],p=l[0],m=f-p;return o===f&&c?o:((o-p)%m+m)%m+p}function h(){return!1}function g(o,l){if(l===!1)return o;var c=Math.pow(10,l===void 0?6:l);return Math.round(o*c)/c}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function w(o){return v(o).split(/\s+/)}function _(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var c in l)o.options[c]=l[c];return o.options}function D(o,l,c){var f=[];for(var p in o)f.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(o[p]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function T(o,l){return o.replace(I,function(c,f){var p=l[f];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(l)),p})}var N=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Ae(o,l){for(var c=0;c<o.length;c++)if(o[c]===l)return c;return-1}var me="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function et(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var tt=0;function Il(o){var l=+new Date,c=Math.max(0,16-(l-tt));return tt=l+c,window.setTimeout(o,c)}var Ef=window.requestAnimationFrame||et("RequestAnimationFrame")||Il,yv=window.cancelAnimationFrame||et("CancelAnimationFrame")||et("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Dt(o,l,c){if(c&&Ef===Il)o.call(l);else return Ef.call(window,i(o,l))}function qt(o){o&&yv.call(window,o)}var px={__proto__:null,extend:t,create:r,bind:i,get lastId(){return s},stamp:a,throttle:u,wrapNum:d,falseFn:h,formatNum:g,trim:v,splitWords:w,setOptions:_,getParamString:D,template:T,isArray:N,indexOf:Ae,emptyImageUrl:me,requestFn:Ef,cancelFn:yv,requestAnimFrame:Dt,cancelAnimFrame:qt};function Kn(){}Kn.extend=function(o){var l=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=l.__super__=this.prototype,f=r(c);f.constructor=l,l.prototype=f;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(l[p]=this[p]);return o.statics&&t(l,o.statics),o.includes&&(gx(o.includes),t.apply(null,[f].concat(o.includes))),t(f,o),delete f.statics,delete f.includes,f.options&&(f.options=c.options?r(c.options):{},t(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=f._initHooks.length;m<y;m++)f._initHooks[m].call(this)}},l},Kn.include=function(o){var l=this.prototype.options;return t(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},Kn.mergeOptions=function(o){return t(this.prototype.options,o),this},Kn.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),c=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function gx(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=N(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ft={on:function(o,l,c){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=w(o);for(var p=0,m=o.length;p<m;p++)this._on(o[p],l,c)}return this},off:function(o,l,c){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=w(o);for(var p=arguments.length===1,m=0,y=o.length;m<y;m++)p?this._off(o[m]):this._off(o[m],l,c)}return this},_on:function(o,l,c,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,c)===!1){c===this&&(c=void 0);var p={fn:l,ctx:c};f&&(p.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(p)}},_off:function(o,l,c){var f,p,m;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(p=0,m=f.length;p<m;p++)f[p].fn=h;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var y=this._listens(o,l,c);if(y!==!1){var E=f[y];this._firingCount&&(E.fn=h,this._events[o]=f=f.slice()),f.splice(y,1)}}},fire:function(o,l,c){if(!this.listens(o,c))return this;var f=t({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var p=this._events[o];if(p){this._firingCount=this._firingCount+1||1;for(var m=0,y=p.length;m<y;m++){var E=p[m],x=E.fn;E.once&&this.off(o,x,E.ctx),x.call(E.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(o,l,c,f){typeof o!="string"&&console.warn('"string" type argument expected');var p=l;typeof l!="function"&&(f=!!l,p=void 0,c=void 0);var m=this._events&&this._events[o];if(m&&m.length&&this._listens(o,p,c)!==!1)return!0;if(f){for(var y in this._eventParents)if(this._eventParents[y].listens(o,l,c,f))return!0}return!1},_listens:function(o,l,c){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;c===this&&(c=void 0);for(var p=0,m=f.length;p<m;p++)if(f[p].fn===l&&f[p].ctx===c)return p;return!1},once:function(o,l,c){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=w(o);for(var p=0,m=o.length;p<m;p++)this._on(o[p],l,c,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[a(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[a(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,t({layer:o.target,propagatedFrom:o.target},o),!0)}};Ft.addEventListener=Ft.on,Ft.removeEventListener=Ft.clearAllEventListeners=Ft.off,Ft.addOneTimeEventListener=Ft.once,Ft.fireEvent=Ft.fire,Ft.hasEventListeners=Ft.listens;var bs=Kn.extend(Ft);function X(o,l,c){this.x=c?Math.round(o):o,this.y=c?Math.round(l):l}var wv=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(o){return this.clone()._add(G(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(G(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new X(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new X(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=wv(this.x),this.y=wv(this.y),this},distanceTo:function(o){o=G(o);var l=o.x-this.x,c=o.y-this.y;return Math.sqrt(l*l+c*c)},equals:function(o){return o=G(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=G(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function G(o,l,c){return o instanceof X?o:N(o)?new X(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new X(o.x,o.y):new X(o,l,c)}function Ne(o,l){if(o)for(var c=l?[o,l]:o,f=0,p=c.length;f<p;f++)this.extend(c[f])}Ne.prototype={extend:function(o){var l,c;if(!o)return this;if(o instanceof X||typeof o[0]=="number"||"x"in o)l=c=G(o);else if(o=xt(o),l=o.min,c=o.max,!l||!c)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=c.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(o){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,c;return typeof o[0]=="number"||o instanceof X?o=G(o):o=xt(o),o instanceof Ne?(l=o.min,c=o.max):l=c=o,l.x>=this.min.x&&c.x<=this.max.x&&l.y>=this.min.y&&c.y<=this.max.y},intersects:function(o){o=xt(o);var l=this.min,c=this.max,f=o.min,p=o.max,m=p.x>=l.x&&f.x<=c.x,y=p.y>=l.y&&f.y<=c.y;return m&&y},overlaps:function(o){o=xt(o);var l=this.min,c=this.max,f=o.min,p=o.max,m=p.x>l.x&&f.x<c.x,y=p.y>l.y&&f.y<c.y;return m&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,c=this.max,f=Math.abs(l.x-c.x)*o,p=Math.abs(l.y-c.y)*o;return xt(G(l.x-f,l.y-p),G(c.x+f,c.y+p))},equals:function(o){return o?(o=xt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function xt(o,l){return!o||o instanceof Ne?o:new Ne(o,l)}function Mt(o,l){if(o)for(var c=l?[o,l]:o,f=0,p=c.length;f<p;f++)this.extend(c[f])}Mt.prototype={extend:function(o){var l=this._southWest,c=this._northEast,f,p;if(o instanceof Ce)f=o,p=o;else if(o instanceof Mt){if(f=o._southWest,p=o._northEast,!f||!p)return this}else return o?this.extend(ve(o)||We(o)):this;return!l&&!c?(this._southWest=new Ce(f.lat,f.lng),this._northEast=new Ce(p.lat,p.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(o){var l=this._southWest,c=this._northEast,f=Math.abs(l.lat-c.lat)*o,p=Math.abs(l.lng-c.lng)*o;return new Mt(new Ce(l.lat-f,l.lng-p),new Ce(c.lat+f,c.lng+p))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ce||"lat"in o?o=ve(o):o=We(o);var l=this._southWest,c=this._northEast,f,p;return o instanceof Mt?(f=o.getSouthWest(),p=o.getNorthEast()):f=p=o,f.lat>=l.lat&&p.lat<=c.lat&&f.lng>=l.lng&&p.lng<=c.lng},intersects:function(o){o=We(o);var l=this._southWest,c=this._northEast,f=o.getSouthWest(),p=o.getNorthEast(),m=p.lat>=l.lat&&f.lat<=c.lat,y=p.lng>=l.lng&&f.lng<=c.lng;return m&&y},overlaps:function(o){o=We(o);var l=this._southWest,c=this._northEast,f=o.getSouthWest(),p=o.getNorthEast(),m=p.lat>l.lat&&f.lat<c.lat,y=p.lng>l.lng&&f.lng<c.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=We(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function We(o,l){return o instanceof Mt?o:new Mt(o,l)}function Ce(o,l,c){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,c!==void 0&&(this.alt=+c)}Ce.prototype={equals:function(o,l){if(!o)return!1;o=ve(o);var c=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return c<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+g(this.lat,o)+", "+g(this.lng,o)+")"},distanceTo:function(o){return Er.distance(this,ve(o))},wrap:function(){return Er.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,c=l/Math.cos(Math.PI/180*this.lat);return We([this.lat-l,this.lng-c],[this.lat+l,this.lng+c])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function ve(o,l,c){return o instanceof Ce?o:N(o)&&typeof o[0]!="object"?o.length===3?new Ce(o[0],o[1],o[2]):o.length===2?new Ce(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ce(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new Ce(o,l,c)}var Jn={latLngToPoint:function(o,l){var c=this.projection.project(o),f=this.scale(l);return this.transformation._transform(c,f)},pointToLatLng:function(o,l){var c=this.scale(l),f=this.transformation.untransform(o,c);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,c=this.scale(o),f=this.transformation.transform(l.min,c),p=this.transformation.transform(l.max,c);return new Ne(f,p)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?d(o.lng,this.wrapLng,!0):o.lng,c=this.wrapLat?d(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new Ce(c,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),c=this.wrapLatLng(l),f=l.lat-c.lat,p=l.lng-c.lng;if(f===0&&p===0)return o;var m=o.getSouthWest(),y=o.getNorthEast(),E=new Ce(m.lat-f,m.lng-p),x=new Ce(y.lat-f,y.lng-p);return new Mt(E,x)}},Er=t({},Jn,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var c=Math.PI/180,f=o.lat*c,p=l.lat*c,m=Math.sin((l.lat-o.lat)*c/2),y=Math.sin((l.lng-o.lng)*c/2),E=m*m+Math.cos(f)*Math.cos(p)*y*y,x=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*x}}),bv=6378137,Df={R:bv,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,o.lat),-c),p=Math.sin(f*l);return new X(this.R*o.lng*l,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(o){var l=180/Math.PI;return new Ce((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=bv*Math.PI;return new Ne([-o,-o],[o,o])}()};function xf(o,l,c,f){if(N(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=c,this._d=f}xf.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new X((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Cs(o,l,c,f){return new xf(o,l,c,f)}var Mf=t({},Er,{code:"EPSG:3857",projection:Df,transformation:function(){var o=.5/(Math.PI*Df.R);return Cs(o,.5,-o,.5)}()}),mx=t({},Mf,{code:"EPSG:900913"});function Cv(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ev(o,l){var c="",f,p,m,y,E,x;for(f=0,m=o.length;f<m;f++){for(E=o[f],p=0,y=E.length;p<y;p++)x=E[p],c+=(p?"L":"M")+x.x+" "+x.y;c+=l?B.svg?"z":"x":""}return c||"M0 0"}var If=document.documentElement.style,Sl="ActiveXObject"in window,vx=Sl&&!document.addEventListener,Dv="msLaunchUri"in navigator&&!("documentMode"in document),Sf=Dn("webkit"),xv=Dn("android"),Mv=Dn("android 2")||Dn("android 3"),_x=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),yx=xv&&Dn("Google")&&_x<537&&!("AudioNode"in window),Tf=!!window.opera,Iv=!Dv&&Dn("chrome"),Sv=Dn("gecko")&&!Sf&&!Tf&&!Sl,wx=!Iv&&Dn("safari"),Tv=Dn("phantom"),Pv="OTransition"in If,bx=navigator.platform.indexOf("Win")===0,Ov=Sl&&"transition"in If,Pf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mv,Av="MozPerspective"in If,Cx=!window.L_DISABLE_3D&&(Ov||Pf||Av)&&!Pv&&!Tv,Es=typeof orientation<"u"||Dn("mobile"),Ex=Es&&Sf,Dx=Es&&Pf,kv=!window.PointerEvent&&window.MSPointerEvent,Rv=!!(window.PointerEvent||kv),Nv="ontouchstart"in window||!!window.TouchEvent,xx=!window.L_NO_TOUCH&&(Nv||Rv),Mx=Es&&Tf,Ix=Es&&Sv,Sx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tx=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",h,l),window.removeEventListener("testPassiveEventSupport",h,l)}catch{}return o}(),Px=function(){return!!document.createElement("canvas").getContext}(),Of=!!(document.createElementNS&&Cv("svg").createSVGRect),Ox=!!Of&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ax=!Of&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),kx=navigator.platform.indexOf("Mac")===0,Rx=navigator.platform.indexOf("Linux")===0;function Dn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var B={ie:Sl,ielt9:vx,edge:Dv,webkit:Sf,android:xv,android23:Mv,androidStock:yx,opera:Tf,chrome:Iv,gecko:Sv,safari:wx,phantom:Tv,opera12:Pv,win:bx,ie3d:Ov,webkit3d:Pf,gecko3d:Av,any3d:Cx,mobile:Es,mobileWebkit:Ex,mobileWebkit3d:Dx,msPointer:kv,pointer:Rv,touch:xx,touchNative:Nv,mobileOpera:Mx,mobileGecko:Ix,retina:Sx,passiveEvents:Tx,canvas:Px,svg:Of,vml:Ax,inlineSvg:Ox,mac:kx,linux:Rx},Lv=B.msPointer?"MSPointerDown":"pointerdown",Fv=B.msPointer?"MSPointerMove":"pointermove",jv=B.msPointer?"MSPointerUp":"pointerup",Vv=B.msPointer?"MSPointerCancel":"pointercancel",Af={touchstart:Lv,touchmove:Fv,touchend:jv,touchcancel:Vv},Bv={touchstart:Bx,touchmove:Tl,touchend:Tl,touchcancel:Tl},Ki={},Uv=!1;function Nx(o,l,c){return l==="touchstart"&&Vx(),Bv[l]?(c=Bv[l].bind(this,c),o.addEventListener(Af[l],c,!1),c):(console.warn("wrong event specified:",l),h)}function Lx(o,l,c){if(!Af[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Af[l],c,!1)}function Fx(o){Ki[o.pointerId]=o}function jx(o){Ki[o.pointerId]&&(Ki[o.pointerId]=o)}function $v(o){delete Ki[o.pointerId]}function Vx(){Uv||(document.addEventListener(Lv,Fx,!0),document.addEventListener(Fv,jx,!0),document.addEventListener(jv,$v,!0),document.addEventListener(Vv,$v,!0),Uv=!0)}function Tl(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var c in Ki)l.touches.push(Ki[c]);l.changedTouches=[l],o(l)}}function Bx(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ft(l),Tl(o,l)}function Ux(o){var l={},c,f;for(f in o)c=o[f],l[f]=c&&c.bind?c.bind(o):c;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var $x=200;function zx(o,l){o.addEventListener("dblclick",l);var c=0,f;function p(m){if(m.detail!==1){f=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=Wv(m);if(!(y.some(function(x){return x instanceof HTMLLabelElement&&x.attributes.for})&&!y.some(function(x){return x instanceof HTMLInputElement||x instanceof HTMLSelectElement}))){var E=Date.now();E-c<=$x?(f++,f===2&&l(Ux(m))):f=1,c=E}}}return o.addEventListener("click",p),{dblclick:l,simDblclick:p}}function Hx(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var kf=Al(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=Al(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zv=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function Hv(o){return typeof o=="string"?document.getElementById(o):o}function xs(o,l){var c=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);c=f?f[l]:null}return c==="auto"?null:c}function ye(o,l,c){var f=document.createElement(o);return f.className=l||"",c&&c.appendChild(f),f}function Le(o){var l=o.parentNode;l&&l.removeChild(o)}function Pl(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ji(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Qi(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Rf(o,l){if(o.classList!==void 0)return o.classList.contains(l);var c=Ol(o);return c.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(c)}function oe(o,l){if(o.classList!==void 0)for(var c=w(l),f=0,p=c.length;f<p;f++)o.classList.add(c[f]);else if(!Rf(o,l)){var m=Ol(o);Nf(o,(m?m+" ":"")+l)}}function Be(o,l){o.classList!==void 0?o.classList.remove(l):Nf(o,v((" "+Ol(o)+" ").replace(" "+l+" "," ")))}function Nf(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Ol(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Gt(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&qx(o,l)}function qx(o,l){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),c?(c.Enabled=l!==100,c.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function Al(o){for(var l=document.documentElement.style,c=0;c<o.length;c++)if(o[c]in l)return o[c];return!1}function Qr(o,l,c){var f=l||new X(0,0);o.style[kf]=(B.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Ze(o,l){o._leaflet_pos=l,B.any3d?Qr(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Xr(o){return o._leaflet_pos||new X(0,0)}var Ms,Is,Lf;if("onselectstart"in document)Ms=function(){ee(window,"selectstart",ft)},Is=function(){Me(window,"selectstart",ft)};else{var Ss=Al(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ms=function(){if(Ss){var o=document.documentElement.style;Lf=o[Ss],o[Ss]="none"}},Is=function(){Ss&&(document.documentElement.style[Ss]=Lf,Lf=void 0)}}function Ff(){ee(window,"dragstart",ft)}function jf(){Me(window,"dragstart",ft)}var kl,Vf;function Bf(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Rl(),kl=o,Vf=o.style.outlineStyle,o.style.outlineStyle="none",ee(window,"keydown",Rl))}function Rl(){kl&&(kl.style.outlineStyle=Vf,kl=void 0,Vf=void 0,Me(window,"keydown",Rl))}function qv(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Uf(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var Gx={__proto__:null,TRANSFORM:kf,TRANSITION:Ds,TRANSITION_END:zv,get:Hv,getStyle:xs,create:ye,remove:Le,empty:Pl,toFront:Ji,toBack:Qi,hasClass:Rf,addClass:oe,removeClass:Be,setClass:Nf,getClass:Ol,setOpacity:Gt,testProp:Al,setTransform:Qr,setPosition:Ze,getPosition:Xr,get disableTextSelection(){return Ms},get enableTextSelection(){return Is},disableImageDrag:Ff,enableImageDrag:jf,preventOutline:Bf,restoreOutline:Rl,getSizedParentNode:qv,getScale:Uf};function ee(o,l,c,f){if(l&&typeof l=="object")for(var p in l)zf(o,p,l[p],c);else{l=w(l);for(var m=0,y=l.length;m<y;m++)zf(o,l[m],c,f)}return this}var xn="_leaflet_events";function Me(o,l,c,f){if(arguments.length===1)Gv(o),delete o[xn];else if(l&&typeof l=="object")for(var p in l)Hf(o,p,l[p],c);else if(l=w(l),arguments.length===2)Gv(o,function(E){return Ae(l,E)!==-1});else for(var m=0,y=l.length;m<y;m++)Hf(o,l[m],c,f);return this}function Gv(o,l){for(var c in o[xn]){var f=c.split(/\d/)[0];(!l||l(f))&&Hf(o,f,null,null,c)}}var $f={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zf(o,l,c,f){var p=l+a(c)+(f?"_"+a(f):"");if(o[xn]&&o[xn][p])return this;var m=function(E){return c.call(f||o,E||window.event)},y=m;!B.touchNative&&B.pointer&&l.indexOf("touch")===0?m=Nx(o,l,m):B.touch&&l==="dblclick"?m=zx(o,m):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener($f[l]||l,m,B.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(m=function(E){E=E||window.event,Gf(o,E)&&y(E)},o.addEventListener($f[l],m,!1)):o.addEventListener(l,y,!1):o.attachEvent("on"+l,m),o[xn]=o[xn]||{},o[xn][p]=m}function Hf(o,l,c,f,p){p=p||l+a(c)+(f?"_"+a(f):"");var m=o[xn]&&o[xn][p];if(!m)return this;!B.touchNative&&B.pointer&&l.indexOf("touch")===0?Lx(o,l,m):B.touch&&l==="dblclick"?Hx(o,m):"removeEventListener"in o?o.removeEventListener($f[l]||l,m,!1):o.detachEvent("on"+l,m),o[xn][p]=null}function ei(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function qf(o){return zf(o,"wheel",ei),this}function Ts(o){return ee(o,"mousedown touchstart dblclick contextmenu",ei),o._leaflet_disable_click=!0,this}function ft(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ti(o){return ft(o),ei(o),this}function Wv(o){if(o.composedPath)return o.composedPath();for(var l=[],c=o.target;c;)l.push(c),c=c.parentNode;return l}function Zv(o,l){if(!l)return new X(o.clientX,o.clientY);var c=Uf(l),f=c.boundingClientRect;return new X((o.clientX-f.left)/c.x-l.clientLeft,(o.clientY-f.top)/c.y-l.clientTop)}var Wx=B.linux&&B.chrome?window.devicePixelRatio:B.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yv(o){return B.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Wx:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Gf(o,l){var c=l.relatedTarget;if(!c)return!0;try{for(;c&&c!==o;)c=c.parentNode}catch{return!1}return c!==o}var Zx={__proto__:null,on:ee,off:Me,stopPropagation:ei,disableScrollPropagation:qf,disableClickPropagation:Ts,preventDefault:ft,stop:ti,getPropagationPath:Wv,getMousePosition:Zv,getWheelDelta:Yv,isExternalTarget:Gf,addListener:ee,removeListener:Me},Kv=bs.extend({run:function(o,l,c,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Xr(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Dt(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,c=this._duration*1e3;l<c?this._runFrame(this._easeOut(l/c),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var c=this._startPos.add(this._offset.multiplyBy(o));l&&c._round(),Ze(this._el,c),this.fire("step")},_complete:function(){qt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),_e=bs.extend({options:{crs:Mf,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=_(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ve(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&B.any3d&&!B.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,zv,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,c){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(ve(o),l,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=t({animate:c.animate},c.zoom),c.pan=t({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,c.zoom):this._tryAnimatedPan(o,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,c.pan&&c.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,c){var f=this.getZoomScale(l),p=this.getSize().divideBy(2),m=o instanceof X?o:this.latLngToContainerPoint(o),y=m.subtract(p).multiplyBy(1-1/f),E=this.containerPointToLatLng(p.add(y));return this.setView(E,l,{zoom:c})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():We(o);var c=G(l.paddingTopLeft||l.padding||[0,0]),f=G(l.paddingBottomRight||l.padding||[0,0]),p=this.getBoundsZoom(o,!1,c.add(f));if(p=typeof l.maxZoom=="number"?Math.min(l.maxZoom,p):p,p===1/0)return{center:o.getCenter(),zoom:p};var m=f.subtract(c).divideBy(2),y=this.project(o.getSouthWest(),p),E=this.project(o.getNorthEast(),p),x=this.unproject(y.add(E).divideBy(2).add(m),p);return{center:x,zoom:p}},fitBounds:function(o,l){if(o=We(o),!o.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(o,l);return this.setView(c.center,c.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=G(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Kv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){oe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,c,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,c){if(c=c||{},c.animate===!1||!B.any3d)return this.setView(o,l,c);this._stop();var f=this.project(this.getCenter()),p=this.project(o),m=this.getSize(),y=this._zoom;o=ve(o),l=l===void 0?y:l;var E=Math.max(m.x,m.y),x=E*this.getZoomScale(y,l),S=p.distanceTo(f)||1,k=1.42,H=k*k;function de(Ye){var Gl=Ye?-1:1,LM=Ye?x:E,FM=x*x-E*E+Gl*H*H*S*S,jM=2*LM*H*S,rh=FM/jM,P_=Math.sqrt(rh*rh+1)-rh,VM=P_<1e-9?-18:Math.log(P_);return VM}function yt(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function lt(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function Zt(Ye){return yt(Ye)/lt(Ye)}var It=de(0);function io(Ye){return E*(lt(It)/lt(It+k*Ye))}function AM(Ye){return E*(lt(It)*Zt(It+k*Ye)-yt(It))/H}function kM(Ye){return 1-Math.pow(1-Ye,1.5)}var RM=Date.now(),S_=(de(1)-It)/k,NM=c.duration?1e3*c.duration:1e3*S_*.8;function T_(){var Ye=(Date.now()-RM)/NM,Gl=kM(Ye)*S_;Ye<=1?(this._flyToFrame=Dt(T_,this),this._move(this.unproject(f.add(p.subtract(f).multiplyBy(AM(Gl)/S)),y),this.getScaleZoom(E/io(Gl),y),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),T_.call(this),this},flyToBounds:function(o,l){var c=this._getBoundsCenterZoom(o,l);return this.flyTo(c.center,c.zoom,l)},setMaxBounds:function(o){return o=We(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,We(o));return c.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var c=G(l.paddingTopLeft||l.padding||[0,0]),f=G(l.paddingBottomRight||l.padding||[0,0]),p=this.project(this.getCenter()),m=this.project(o),y=this.getPixelBounds(),E=xt([y.min.add(c),y.max.subtract(f)]),x=E.getSize();if(!E.contains(m)){this._enforcingBounds=!0;var S=m.subtract(E.getCenter()),k=E.extend(m).getSize().subtract(x);p.x+=S.x<0?-k.x:k.x,p.y+=S.y<0?-k.y:k.y,this.panTo(this.unproject(p),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=t({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=l.divideBy(2).round(),p=c.divideBy(2).round(),m=f.subtract(p);return!m.x&&!m.y?this:(o.animate&&o.pan?this.panBy(m):(o.pan&&this._rawPanBy(m),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=t({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=i(this._handleGeolocationResponse,this),c=i(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,c,o):navigator.geolocation.getCurrentPosition(l,c,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,c=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,c=o.coords.longitude,f=new Ce(l,c),p=f.toBounds(o.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(p);this.setView(f,m.maxZoom?Math.min(y,m.maxZoom):y)}var E={latlng:f,bounds:p,timestamp:o.timestamp};for(var x in o.coords)typeof o.coords[x]=="number"&&(E[x]=o.coords[x]);this.fire("locationfound",E)}},addHandler:function(o,l){if(!l)return this;var c=this[o]=new l(this);return this._handlers.push(c),this.options[o]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(qt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Le(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var c="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=ye("div",c,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),c=this.unproject(o.getTopRight());return new Mt(l,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,c){o=We(o),c=G(c||[0,0]);var f=this.getZoom()||0,p=this.getMinZoom(),m=this.getMaxZoom(),y=o.getNorthWest(),E=o.getSouthEast(),x=this.getSize().subtract(c),S=xt(this.project(E,f),this.project(y,f)).getSize(),k=B.any3d?this.options.zoomSnap:1,H=x.x/S.x,de=x.y/S.y,yt=l?Math.max(H,de):Math.min(H,de);return f=this.getScaleZoom(yt,f),k&&(f=Math.round(f/(k/100))*(k/100),f=l?Math.ceil(f/k)*k:Math.floor(f/k)*k),Math.max(p,Math.min(m,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var c=this._getTopLeftPoint(o,l);return new Ne(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var c=this.options.crs;return l=l===void 0?this._zoom:l,c.scale(o)/c.scale(l)},getScaleZoom:function(o,l){var c=this.options.crs;l=l===void 0?this._zoom:l;var f=c.zoom(o*c.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ve(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(G(o),l)},layerPointToLatLng:function(o){var l=G(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(ve(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ve(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(We(o))},distance:function(o,l){return this.options.crs.distance(ve(o),ve(l))},containerPointToLayerPoint:function(o){return G(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return G(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(G(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(o)))},mouseEventToContainerPoint:function(o){return Zv(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=Hv(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(l,"scroll",this._onScroll,this),this._containerId=a(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&B.any3d,oe(o,"leaflet-container"+(B.touch?" leaflet-touch":"")+(B.retina?" leaflet-retina":"")+(B.ielt9?" leaflet-oldie":"")+(B.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=xs(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ze(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(oe(o.markerPane,"leaflet-zoom-hide"),oe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,c){Ze(this._mapPane,new X(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var p=this._zoom!==l;this._moveStart(p,c)._move(o,l)._moveEnd(p),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,c,f){l===void 0&&(l=this._zoom);var p=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return qt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ze(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[a(this._container)]=this;var l=o?Me:ee;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),B.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){qt(this._resizeRequest),this._resizeRequest=Dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var c=[],f,p=l==="mouseout"||l==="mouseover",m=o.target||o.srcElement,y=!1;m;){if(f=this._targets[a(m)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){y=!0;break}if(f&&f.listens(l,!0)&&(p&&!Gf(m,o)||(c.push(f),p))||m===this._container)break;m=m.parentNode}return!c.length&&!y&&!p&&this.listens(l,!0)&&(c=[this]),c},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var c=o.type;c==="mousedown"&&Bf(l),this._fireDOMEvent(o,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,c){if(o.type==="click"){var f=t({},o);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var p=this._findEventTargets(o,l);if(c){for(var m=[],y=0;y<c.length;y++)c[y].listens(l,!0)&&m.push(c[y]);p=m.concat(p)}if(p.length){l==="contextmenu"&&ft(o);var E=p[0],x={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var S=E.getLatLng&&(!E._radius||E._radius<=10);x.containerPoint=S?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(o),x.layerPoint=this.containerPointToLayerPoint(x.containerPoint),x.latlng=S?E.getLatLng():this.layerPointToLatLng(x.layerPoint)}for(y=0;y<p.length;y++)if(p[y].fire(l,x,!0),x.originalEvent._stopped||p[y].options.bubblingMouseEvents===!1&&Ae(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Xr(this._mapPane)||new X(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var c=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var c=this.getSize()._divideBy(2);return this.project(o,l)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,c){var f=this._getNewPixelOrigin(c,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,c){var f=this._getNewPixelOrigin(c,l);return xt([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,c){if(!c)return o;var f=this.project(o,l),p=this.getSize().divideBy(2),m=new Ne(f.subtract(p),f.add(p)),y=this._getBoundsOffset(m,c,l);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?o:this.unproject(f.add(y),l)},_limitOffset:function(o,l){if(!l)return o;var c=this.getPixelBounds(),f=new Ne(c.min.add(o),c.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,c){var f=xt(this.project(l.getNorthEast(),c),this.project(l.getSouthWest(),c)),p=f.min.subtract(o.min),m=f.max.subtract(o.max),y=this._rebound(p.x,-m.x),E=this._rebound(p.y,-m.y);return new X(y,E)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),c=this.getMaxZoom(),f=B.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(c,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var c=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,l),!0)},_createAnimProxy:function(){var o=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var c=kf,f=this._proxy.style[c];Qr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Qr(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),p=this._getCenterOffset(o)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(p)?!1:(Dt(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yx(o,l){return new _e(o,l)}var an=Kn.extend({options:{position:"topright"},initialize:function(o){_(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),c=this.getPosition(),f=o._controlCorners[c];return oe(l,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ps=function(o){return new an(o)};_e.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",c=this._controlContainer=ye("div",l+"control-container",this._container);function f(p,m){var y=l+p+" "+l+m;o[p+m]=ye("div",y,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Le(this._controlCorners[o]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Jv=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,c,f){return c<f?-1:f<c?1:0}},initialize:function(o,l,c){_(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return an.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(a(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=ye("div",o),c=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ts(l),qf(l);var f=this._section=ye("section",o+"-list");c&&(this._map.on("click",this.collapse,this),ee(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=ye("a",o+"-toggle",l);p.href="#",p.title="Layers",p.setAttribute("role","button"),ee(p,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){ft(m),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ye("div",o+"-base",f),this._separator=ye("div",o+"-separator",f),this._overlaysList=ye("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&a(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,c){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:c}),this.options.sortLayers&&this._layers.sort(i(function(f,p){return this.options.sortFunction(f.layer,p.layer,f.name,p.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pl(this._baseLayersList),Pl(this._overlaysList),this._layerControlInputs=[];var o,l,c,f,p=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,p+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&p>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(a(o.target)),c=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;c&&this._map.fire(c,l)},_createRadioElement:function(o,l){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(o){var l=document.createElement("label"),c=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+a(this),c),this._layerControlInputs.push(f),f.layerId=a(o.layer),ee(f,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+o.name;var m=document.createElement("span");l.appendChild(m),m.appendChild(f),m.appendChild(p);var y=o.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,c,f=[],p=[];this._handlingClick=!0;for(var m=o.length-1;m>=0;m--)l=o[m],c=this._getLayer(l.layerId).layer,l.checked?f.push(c):l.checked||p.push(c);for(m=0;m<p.length;m++)this._map.hasLayer(p[m])&&this._map.removeLayer(p[m]);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])||this._map.addLayer(f[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,c,f=this._map.getZoom(),p=o.length-1;p>=0;p--)l=o[p],c=this._getLayer(l.layerId).layer,l.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ee(o,"click",ft),this.expand();var l=this;setTimeout(function(){Me(o,"click",ft),l._preventClick=!1})}}),Kx=function(o,l,c){return new Jv(o,l,c)},Wf=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",c=ye("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",c,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,c,f,p){var m=ye("a",c,f);return m.innerHTML=o,m.href="#",m.title=l,m.setAttribute("role","button"),m.setAttribute("aria-label",l),Ts(m),ee(m,"click",ti),ee(m,"click",p,this),ee(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Be(this._zoomInButton,l),Be(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(oe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(oe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});_e.mergeOptions({zoomControl:!0}),_e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wf,this.addControl(this.zoomControl))});var Jx=function(o){return new Wf(o)},Qv=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",c=ye("div",l),f=this.options;return this._addScales(f,l+"-line",c),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),c},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,c){o.metric&&(this._mScale=ye("div",l,c)),o.imperial&&(this._iScale=ye("div",l,c))},_update:function(){var o=this._map,l=o.getSize().y/2,c=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(c)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),c=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,c,l/o)},_updateImperial:function(o){var l=o*3.2808399,c,f,p;l>5280?(c=l/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(p=this._getRoundNum(l),this._updateScale(this._iScale,p+" ft",p/l))},_updateScale:function(o,l,c){o.style.width=Math.round(this.options.maxWidth*c)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),c=o/l;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,l*c}}),Qx=function(o){return new Qv(o)},Xx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zf=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(B.inlineSvg?Xx+" ":"")+"Leaflet</a>"},initialize:function(o){_(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),Ts(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var c=[];this.options.prefix&&c.push(this.options.prefix),o.length&&c.push(o.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});_e.mergeOptions({attributionControl:!0}),_e.addInitHook(function(){this.options.attributionControl&&new Zf().addTo(this)});var eM=function(o){return new Zf(o)};an.Layers=Jv,an.Zoom=Wf,an.Scale=Qv,an.Attribution=Zf,Ps.layers=Kx,Ps.zoom=Jx,Ps.scale=Qx,Ps.attribution=eM;var Mn=Kn.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(o,l){return o.addHandler(l,this),this};var tM={Events:Ft},Xv=B.touch?"touchstart mousedown":"mousedown",Dr=bs.extend({options:{clickTolerance:3},initialize:function(o,l,c,f){_(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=c},enable:function(){this._enabled||(ee(this._dragStartTarget,Xv,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dr._dragging===this&&this.finishDrag(!0),Me(this._dragStartTarget,Xv,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Rf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Dr._dragging===this&&this.finishDrag();return}if(!(Dr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Dr._dragging=this,this._preventOutline&&Bf(this._element),Ff(),Ms(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,c=qv(this._element);this._startPoint=new X(l.clientX,l.clientY),this._startPos=Xr(this._element),this._parentScale=Uf(c);var f=o.type==="mousedown";ee(document,f?"mousemove":"touchmove",this._onMove,this),ee(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,c=new X(l.clientX,l.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ft(o),this._moved||(this.fire("dragstart"),this._moved=!0,oe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ze(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Be(document.body,"leaflet-dragging"),this._lastTarget&&(Be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Me(document,"mousemove touchmove",this._onMove,this),Me(document,"mouseup touchend touchcancel",this._onUp,this),jf(),Is();var l=this._moved&&this._moving;this._moving=!1,Dr._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function e_(o,l,c){var f,p=[1,4,2,8],m,y,E,x,S,k,H,de;for(m=0,k=o.length;m<k;m++)o[m]._code=ni(o[m],l);for(E=0;E<4;E++){for(H=p[E],f=[],m=0,k=o.length,y=k-1;m<k;y=m++)x=o[m],S=o[y],x._code&H?S._code&H||(de=Nl(S,x,H,l,c),de._code=ni(de,l),f.push(de)):(S._code&H&&(de=Nl(S,x,H,l,c),de._code=ni(de,l),f.push(de)),f.push(x));o=f}return o}function t_(o,l){var c,f,p,m,y,E,x,S,k;if(!o||o.length===0)throw new Error("latlngs not passed");Wt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var H=ve([0,0]),de=We(o),yt=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());yt<1700&&(H=Yf(o));var lt=o.length,Zt=[];for(c=0;c<lt;c++){var It=ve(o[c]);Zt.push(l.project(ve([It.lat-H.lat,It.lng-H.lng])))}for(E=x=S=0,c=0,f=lt-1;c<lt;f=c++)p=Zt[c],m=Zt[f],y=p.y*m.x-m.y*p.x,x+=(p.x+m.x)*y,S+=(p.y+m.y)*y,E+=y*3;E===0?k=Zt[0]:k=[x/E,S/E];var io=l.unproject(G(k));return ve([io.lat+H.lat,io.lng+H.lng])}function Yf(o){for(var l=0,c=0,f=0,p=0;p<o.length;p++){var m=ve(o[p]);l+=m.lat,c+=m.lng,f++}return ve([l/f,c/f])}var nM={__proto__:null,clipPolygon:e_,polygonCenter:t_,centroid:Yf};function n_(o,l){if(!l||!o.length)return o.slice();var c=l*l;return o=oM(o,c),o=iM(o,c),o}function r_(o,l,c){return Math.sqrt(Os(o,l,c,!0))}function rM(o,l,c){return Os(o,l,c)}function iM(o,l){var c=o.length,f=typeof Uint8Array<"u"?Uint8Array:Array,p=new f(c);p[0]=p[c-1]=1,Kf(o,p,l,0,c-1);var m,y=[];for(m=0;m<c;m++)p[m]&&y.push(o[m]);return y}function Kf(o,l,c,f,p){var m=0,y,E,x;for(E=f+1;E<=p-1;E++)x=Os(o[E],o[f],o[p],!0),x>m&&(y=E,m=x);m>c&&(l[y]=1,Kf(o,l,c,f,y),Kf(o,l,c,y,p))}function oM(o,l){for(var c=[o[0]],f=1,p=0,m=o.length;f<m;f++)sM(o[f],o[p])>l&&(c.push(o[f]),p=f);return p<m-1&&c.push(o[m-1]),c}var i_;function o_(o,l,c,f,p){var m=f?i_:ni(o,c),y=ni(l,c),E,x,S;for(i_=y;;){if(!(m|y))return[o,l];if(m&y)return!1;E=m||y,x=Nl(o,l,E,c,p),S=ni(x,c),E===m?(o=x,m=S):(l=x,y=S)}}function Nl(o,l,c,f,p){var m=l.x-o.x,y=l.y-o.y,E=f.min,x=f.max,S,k;return c&8?(S=o.x+m*(x.y-o.y)/y,k=x.y):c&4?(S=o.x+m*(E.y-o.y)/y,k=E.y):c&2?(S=x.x,k=o.y+y*(x.x-o.x)/m):c&1&&(S=E.x,k=o.y+y*(E.x-o.x)/m),new X(S,k,p)}function ni(o,l){var c=0;return o.x<l.min.x?c|=1:o.x>l.max.x&&(c|=2),o.y<l.min.y?c|=4:o.y>l.max.y&&(c|=8),c}function sM(o,l){var c=l.x-o.x,f=l.y-o.y;return c*c+f*f}function Os(o,l,c,f){var p=l.x,m=l.y,y=c.x-p,E=c.y-m,x=y*y+E*E,S;return x>0&&(S=((o.x-p)*y+(o.y-m)*E)/x,S>1?(p=c.x,m=c.y):S>0&&(p+=y*S,m+=E*S)),y=o.x-p,E=o.y-m,f?y*y+E*E:new X(p,m)}function Wt(o){return!N(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function s_(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wt(o)}function a_(o,l){var c,f,p,m,y,E,x,S;if(!o||o.length===0)throw new Error("latlngs not passed");Wt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var k=ve([0,0]),H=We(o),de=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());de<1700&&(k=Yf(o));var yt=o.length,lt=[];for(c=0;c<yt;c++){var Zt=ve(o[c]);lt.push(l.project(ve([Zt.lat-k.lat,Zt.lng-k.lng])))}for(c=0,f=0;c<yt-1;c++)f+=lt[c].distanceTo(lt[c+1])/2;if(f===0)S=lt[0];else for(c=0,m=0;c<yt-1;c++)if(y=lt[c],E=lt[c+1],p=y.distanceTo(E),m+=p,m>f){x=(m-f)/p,S=[E.x-x*(E.x-y.x),E.y-x*(E.y-y.y)];break}var It=l.unproject(G(S));return ve([It.lat+k.lat,It.lng+k.lng])}var aM={__proto__:null,simplify:n_,pointToSegmentDistance:r_,closestPointOnSegment:rM,clipSegment:o_,_getEdgeIntersection:Nl,_getBitCode:ni,_sqClosestPointOnSegment:Os,isFlat:Wt,_flat:s_,polylineCenter:a_},Jf={project:function(o){return new X(o.lng,o.lat)},unproject:function(o){return new Ce(o.y,o.x)},bounds:new Ne([-180,-90],[180,90])},Qf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,c=this.R,f=o.lat*l,p=this.R_MINOR/c,m=Math.sqrt(1-p*p),y=m*Math.sin(f),E=Math.tan(Math.PI/4-f/2)/Math.pow((1-y)/(1+y),m/2);return f=-c*Math.log(Math.max(E,1e-10)),new X(o.lng*l*c,f)},unproject:function(o){for(var l=180/Math.PI,c=this.R,f=this.R_MINOR/c,p=Math.sqrt(1-f*f),m=Math.exp(-o.y/c),y=Math.PI/2-2*Math.atan(m),E=0,x=.1,S;E<15&&Math.abs(x)>1e-7;E++)S=p*Math.sin(y),S=Math.pow((1-S)/(1+S),p/2),x=Math.PI/2-2*Math.atan(m*S)-y,y+=x;return new Ce(y*l,o.x*l/c)}},lM={__proto__:null,LonLat:Jf,Mercator:Qf,SphericalMercator:Df},cM=t({},Er,{code:"EPSG:3395",projection:Qf,transformation:function(){var o=.5/(Math.PI*Qf.R);return Cs(o,.5,-o,.5)}()}),l_=t({},Er,{code:"EPSG:4326",projection:Jf,transformation:Cs(1/180,1,-1/180,.5)}),uM=t({},Jn,{projection:Jf,transformation:Cs(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var c=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(c*c+f*f)},infinite:!0});Jn.Earth=Er,Jn.EPSG3395=cM,Jn.EPSG3857=Mf,Jn.EPSG900913=mx,Jn.EPSG4326=l_,Jn.Simple=uM;var ln=bs.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[a(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[a(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var c=this.getEvents();l.on(c,this),this.once("remove",function(){l.off(c,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});_e.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=a(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=a(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return a(o)in this._layers},eachLayer:function(o,l){for(var c in this._layers)o.call(l,this._layers[c]);return this},_addLayers:function(o){o=o?N(o)?o:[o]:[];for(var l=0,c=o.length;l<c;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[a(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=a(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var p=this._zoomBoundLayers[f].options;o=p.minZoom===void 0?o:Math.min(o,p.minZoom),l=p.maxZoom===void 0?l:Math.max(l,p.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xi=ln.extend({initialize:function(o,l){_(this,l),this._layers={};var c,f;if(o)for(c=0,f=o.length;c<f;c++)this.addLayer(o[c])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var c in this._layers)o.call(l,this._layers[c]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return a(o)}}),dM=function(o,l){return new Xi(o,l)},Qn=Xi.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Xi.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Xi.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Mt;for(var l in this._layers){var c=this._layers[l];o.extend(c.getBounds?c.getBounds():c.getLatLng())}return o}}),fM=function(o,l){return new Qn(o,l)},eo=Kn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){_(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var c=this._getIconUrl(o);if(!c){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var c=this.options,f=c[l+"Size"];typeof f=="number"&&(f=[f,f]);var p=G(f),m=G(l==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(c.className||""),m&&(o.style.marginLeft=-m.x+"px",o.style.marginTop=-m.y+"px"),p&&(o.style.width=p.x+"px",o.style.height=p.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return B.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function hM(o){return new eo(o)}var As=eo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof As.imagePath!="string"&&(As.imagePath=this._detectIconPath()),(this.options.imagePath||As.imagePath)+eo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(c,f,p){var m=f.exec(c);return m&&m[p]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ye("div","leaflet-default-icon-path",document.body),l=xs(o,"background-image")||xs(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),c_=Mn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Dr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),oe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,c=l._map,f=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,m=Xr(l._icon),y=c.getPixelBounds(),E=c.getPixelOrigin(),x=xt(y.min._subtract(E).add(p),y.max._subtract(E).subtract(p));if(!x.contains(m)){var S=G((Math.max(x.max.x,m.x)-x.max.x)/(y.max.x-x.max.x)-(Math.min(x.min.x,m.x)-x.min.x)/(y.min.x-x.min.x),(Math.max(x.max.y,m.y)-x.max.y)/(y.max.y-x.max.y)-(Math.min(x.min.y,m.y)-x.min.y)/(y.min.y-x.min.y)).multiplyBy(f);c.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),Ze(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Dt(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(qt(this._panRequest),this._panRequest=Dt(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,c=l._shadow,f=Xr(l._icon),p=l._map.layerPointToLatLng(f);c&&Ze(c,f),l._latlng=p,o.latlng=p,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){qt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ll=ln.extend({options:{icon:new As,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){_(this,l),this._latlng=ve(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=ve(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=o.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(c.title=o.title),c.tagName==="IMG"&&(c.alt=o.alt||"")),oe(c,l),o.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(c,"focus",this._panOnFocus,this);var p=o.icon.createShadow(this._shadow),m=!1;p!==this._shadow&&(this._removeShadow(),m=!0),p&&(oe(p,l),p.alt=""),this._shadow=p,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&m&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ze(this._icon,o),this._shadow&&Ze(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),c_)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new c_(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Gt(this._icon,o),this._shadow&&Gt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,c=l.iconSize?G(l.iconSize):G(0,0),f=l.iconAnchor?G(l.iconAnchor):G(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pM(o,l){return new Ll(o,l)}var xr=ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return _(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fl=xr.extend({options:{fill:!0,radius:10},initialize:function(o,l){_(this,l),this._latlng=ve(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=ve(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return xr.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,c=this._clickTolerance(),f=[o+c,l+c];this._pxBounds=new Ne(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gM(o,l){return new Fl(o,l)}var Xf=Fl.extend({initialize:function(o,l,c){if(typeof l=="number"&&(l=t({},c,{radius:l})),_(this,l),this._latlng=ve(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Mt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:xr.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===Er.distance){var p=Math.PI/180,m=this._mRadius/Er.R/p,y=c.project([l+m,o]),E=c.project([l-m,o]),x=y.add(E).divideBy(2),S=c.unproject(x).lat,k=Math.acos((Math.cos(m*p)-Math.sin(l*p)*Math.sin(S*p))/(Math.cos(l*p)*Math.cos(S*p)))/p;(isNaN(k)||k===0)&&(k=m/Math.cos(Math.PI/180*l)),this._point=x.subtract(c.getPixelOrigin()),this._radius=isNaN(k)?0:x.x-c.project([S,o-k]).x,this._radiusY=x.y-y.y}else{var H=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(H).x}this._updateBounds()}});function mM(o,l,c){return new Xf(o,l,c)}var Xn=xr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){_(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,c=null,f=Os,p,m,y=0,E=this._parts.length;y<E;y++)for(var x=this._parts[y],S=1,k=x.length;S<k;S++){p=x[S-1],m=x[S];var H=f(o,p,m,!0);H<l&&(l=H,c=f(o,p,m))}return c&&(c.distance=Math.sqrt(l)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return a_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=ve(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Mt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],c=Wt(o),f=0,p=o.length;f<p;f++)c?(l[f]=ve(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new Ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new X(o,o);this._rawPxBounds&&(this._pxBounds=new Ne([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,c){var f=o[0]instanceof Ce,p=o.length,m,y;if(f){for(y=[],m=0;m<p;m++)y[m]=this._map.latLngToLayerPoint(o[m]),c.extend(y[m]);l.push(y)}else for(m=0;m<p;m++)this._projectLatlngs(o[m],l,c)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,c,f,p,m,y,E,x;for(c=0,p=0,m=this._rings.length;c<m;c++)for(x=this._rings[c],f=0,y=x.length;f<y-1;f++)E=o_(x[f],x[f+1],o,f,!0),E&&(l[p]=l[p]||[],l[p].push(E[0]),(E[1]!==x[f+1]||f===y-2)&&(l[p].push(E[1]),p++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,c=0,f=o.length;c<f;c++)o[c]=n_(o[c],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var c,f,p,m,y,E,x=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(c=0,m=this._parts.length;c<m;c++)for(E=this._parts[c],f=0,y=E.length,p=y-1;f<y;p=f++)if(!(!l&&f===0)&&r_(o,E[p],E[f])<=x)return!0;return!1}});function vM(o,l){return new Xn(o,l)}Xn._flat=s_;var to=Xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return t_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Xn.prototype._convertLatLngs.call(this,o),c=l.length;return c>=2&&l[0]instanceof Ce&&l[0].equals(l[c-1])&&l.pop(),l},_setLatLngs:function(o){Xn.prototype._setLatLngs.call(this,o),Wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,c=new X(l,l);if(o=new Ne(o.min.subtract(c),o.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,p=this._rings.length,m;f<p;f++)m=e_(this._rings[f],o,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,c,f,p,m,y,E,x,S;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,x=this._parts.length;m<x;m++)for(c=this._parts[m],y=0,S=c.length,E=S-1;y<S;E=y++)f=c[y],p=c[E],f.y>o.y!=p.y>o.y&&o.x<(p.x-f.x)*(o.y-f.y)/(p.y-f.y)+f.x&&(l=!l);return l||Xn.prototype._containsPoint.call(this,o,!0)}});function _M(o,l){return new to(o,l)}var er=Qn.extend({initialize:function(o,l){_(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=N(o)?o:o.features,c,f,p;if(l){for(c=0,f=l.length;c<f;c++)p=l[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var m=this.options;if(m.filter&&!m.filter(o))return this;var y=jl(o,m);return y?(y.feature=Ul(o),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(o,y),this.addLayer(y)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=t({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function jl(o,l){var c=o.type==="Feature"?o.geometry:o,f=c?c.coordinates:null,p=[],m=l&&l.pointToLayer,y=l&&l.coordsToLatLng||eh,E,x,S,k;if(!f&&!c)return null;switch(c.type){case"Point":return E=y(f),u_(m,o,E,l);case"MultiPoint":for(S=0,k=f.length;S<k;S++)E=y(f[S]),p.push(u_(m,o,E,l));return new Qn(p);case"LineString":case"MultiLineString":return x=Vl(f,c.type==="LineString"?0:1,y),new Xn(x,l);case"Polygon":case"MultiPolygon":return x=Vl(f,c.type==="Polygon"?1:2,y),new to(x,l);case"GeometryCollection":for(S=0,k=c.geometries.length;S<k;S++){var H=jl({geometry:c.geometries[S],type:"Feature",properties:o.properties},l);H&&p.push(H)}return new Qn(p);case"FeatureCollection":for(S=0,k=c.features.length;S<k;S++){var de=jl(c.features[S],l);de&&p.push(de)}return new Qn(p);default:throw new Error("Invalid GeoJSON object.")}}function u_(o,l,c,f){return o?o(l,c):new Ll(c,f&&f.markersInheritOptions&&f)}function eh(o){return new Ce(o[1],o[0],o[2])}function Vl(o,l,c){for(var f=[],p=0,m=o.length,y;p<m;p++)y=l?Vl(o[p],l-1,c):(c||eh)(o[p]),f.push(y);return f}function th(o,l){return o=ve(o),o.alt!==void 0?[g(o.lng,l),g(o.lat,l),g(o.alt,l)]:[g(o.lng,l),g(o.lat,l)]}function Bl(o,l,c,f){for(var p=[],m=0,y=o.length;m<y;m++)p.push(l?Bl(o[m],Wt(o[m])?0:l-1,c,f):th(o[m],f));return!l&&c&&p.length>0&&p.push(p[0].slice()),p}function no(o,l){return o.feature?t({},o.feature,{geometry:l}):Ul(l)}function Ul(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var nh={toGeoJSON:function(o){return no(this,{type:"Point",coordinates:th(this.getLatLng(),o)})}};Ll.include(nh),Xf.include(nh),Fl.include(nh),Xn.include({toGeoJSON:function(o){var l=!Wt(this._latlngs),c=Bl(this._latlngs,l?1:0,!1,o);return no(this,{type:(l?"Multi":"")+"LineString",coordinates:c})}}),to.include({toGeoJSON:function(o){var l=!Wt(this._latlngs),c=l&&!Wt(this._latlngs[0]),f=Bl(this._latlngs,c?2:l?1:0,!0,o);return l||(f=[f]),no(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),Xi.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(c){l.push(c.toGeoJSON(o).geometry.coordinates)}),no(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var c=l==="GeometryCollection",f=[];return this.eachLayer(function(p){if(p.toGeoJSON){var m=p.toGeoJSON(o);if(c)f.push(m.geometry);else{var y=Ul(m);y.type==="FeatureCollection"?f.push.apply(f,y.features):f.push(y)}}}),c?no(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function d_(o,l){return new er(o,l)}var yM=d_,$l=ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,c){this._url=o,this._bounds=We(l),_(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ji(this._image),this},bringToBack:function(){return this._map&&Qi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=We(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:ye("img");if(oe(l,"leaflet-image-layer"),this._zoomAnimated&&oe(l,"leaflet-zoom-animated"),this.options.className&&oe(l,this.options.className),l.onselectstart=h,l.onmousemove=h,l.onload=i(this.fire,this,"load"),l.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Qr(this._image,c,l)},_reset:function(){var o=this._image,l=new Ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=l.getSize();Ze(o,l.min),o.style.width=c.x+"px",o.style.height=c.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),wM=function(o,l,c){return new $l(o,l,c)},f_=$l.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:ye("video");if(oe(l,"leaflet-image-layer"),this._zoomAnimated&&oe(l,"leaflet-zoom-animated"),this.options.className&&oe(l,this.options.className),l.onselectstart=h,l.onmousemove=h,l.onloadeddata=i(this.fire,this,"load"),o){for(var c=l.getElementsByTagName("source"),f=[],p=0;p<c.length;p++)f.push(c[p].src);this._url=c.length>0?f:[l.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=ye("source");y.src=this._url[m],l.appendChild(y)}}});function bM(o,l,c){return new f_(o,l,c)}var h_=$l.extend({_initImage:function(){var o=this._image=this._url;oe(o,"leaflet-image-layer"),this._zoomAnimated&&oe(o,"leaflet-zoom-animated"),this.options.className&&oe(o,this.options.className),o.onselectstart=h,o.onmousemove=h}});function CM(o,l,c){return new h_(o,l,c)}var In=ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Ce||N(o))?(this._latlng=ve(o),_(this,l)):(_(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(i(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ve(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ji(this._container),this},bringToBack:function(){return this._map&&Qi(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Qn){l=null;var c=this._source._layers;for(var f in c)if(c[f]._map){l=c[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=G(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ze(this._container,o.add(c)):l=l.add(o).add(c);var f=this._containerBottom=-l.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});_e.include({_initOverlay:function(o,l,c,f){var p=l;return p instanceof o||(p=new o(f).setContent(l)),c&&p.setLatLng(c),p}}),ln.include({_initOverlay:function(o,l,c,f){var p=c;return p instanceof o?(_(p,f),p._source=this):(p=l&&!f?l:new o(f,this),p.setContent(c)),p}});var zl=In.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,In.prototype.openOn.call(this,o)},onAdd:function(o){In.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xr||this._source.on("preclick",ei))},onRemove:function(o){In.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xr||this._source.off("preclick",ei))},getEvents:function(){var o=In.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=ye("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ye("div",o+"-content-wrapper",l);if(this._contentNode=ye("div",o+"-content",c),Ts(l),qf(this._contentNode),ee(l,"contextmenu",ei),this._tipContainer=ye("div",o+"-tip-container",l),this._tip=ye("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ye("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ee(f,"click",function(p){ft(p),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var c=o.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),l.width=c+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,p=this.options.maxHeight,m="leaflet-popup-scrolled";p&&f>p?(l.height=p+"px",oe(o,m)):Be(o,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),c=this._getAnchor();Ze(this._container,l.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(xs(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+l,f=this._containerWidth,p=new X(this._containerLeft,-c-this._containerBottom);p._add(Xr(this._container));var m=o.layerPointToContainerPoint(p),y=G(this.options.autoPanPadding),E=G(this.options.autoPanPaddingTopLeft||y),x=G(this.options.autoPanPaddingBottomRight||y),S=o.getSize(),k=0,H=0;m.x+f+x.x>S.x&&(k=m.x+f-S.x+x.x),m.x-k-E.x<0&&(k=m.x-E.x),m.y+c+x.y>S.y&&(H=m.y+c-S.y+x.y),m.y-H-E.y<0&&(H=m.y-E.y),(k||H)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([k,H]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),EM=function(o,l){return new zl(o,l)};_e.mergeOptions({closePopupOnClick:!0}),_e.include({openPopup:function(o,l,c){return this._initOverlay(zl,o,l,c).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ln.include({bindPopup:function(o,l){return this._popup=this._initOverlay(zl,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Qn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){ti(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof xr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Hl=In.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){In.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){In.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=In.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,c,f=this._map,p=this._container,m=f.latLngToContainerPoint(f.getCenter()),y=f.layerPointToContainerPoint(o),E=this.options.direction,x=p.offsetWidth,S=p.offsetHeight,k=G(this.options.offset),H=this._getAnchor();E==="top"?(l=x/2,c=S):E==="bottom"?(l=x/2,c=0):E==="center"?(l=x/2,c=S/2):E==="right"?(l=0,c=S/2):E==="left"?(l=x,c=S/2):y.x<m.x?(E="right",l=0,c=S/2):(E="left",l=x+(k.x+H.x)*2,c=S/2),o=o.subtract(G(l,c,!0)).add(k).add(H),Be(p,"leaflet-tooltip-right"),Be(p,"leaflet-tooltip-left"),Be(p,"leaflet-tooltip-top"),Be(p,"leaflet-tooltip-bottom"),oe(p,"leaflet-tooltip-"+E),Ze(p,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Gt(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),DM=function(o,l){return new Hl(o,l)};_e.include({openTooltip:function(o,l,c){return this._initOverlay(Hl,o,l,c).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ln.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hl,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[l](c),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Qn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(ee(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ee(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,c,f;this._tooltip.options.sticky&&o.originalEvent&&(c=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(c),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var p_=eo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Pl(l),l.appendChild(c.html)):l.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=G(c.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function xM(o){return new p_(o)}eo.Default=As;var ks=ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:B.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){_(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Le(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof X?o:new X(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,c=-o(-1/0,1/0),f=0,p=l.length,m;f<p;f++)m=l[f].style.zIndex,l[f]!==this._container&&m&&(c=o(c,+m));isFinite(c)&&(this.options.zIndex=c+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!B.ielt9){Gt(this._container,this.options.opacity);var o=+new Date,l=!1,c=!1;for(var f in this._tiles){var p=this._tiles[f];if(!(!p.current||!p.loaded)){var m=Math.min(1,(o-p.loaded)/200);Gt(p.el,m),m<1?l=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),l&&(qt(this._fadeFrame),this._fadeFrame=Dt(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===o?(this._levels[c].el.style.zIndex=l-Math.abs(o-c),this._onUpdateLevel(c)):(Le(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[o],p=this._map;return f||(f=this._levels[o]={},f.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=p.project(p.unproject(p.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,p.getCenter(),p.getZoom()),h(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var o,l,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Le(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,c,f){var p=Math.floor(o/2),m=Math.floor(l/2),y=c-1,E=new X(+p,+m);E.z=+y;var x=this._tileCoordsToKey(E),S=this._tiles[x];return S&&S.active?(S.retain=!0,!0):(S&&S.loaded&&(S.retain=!0),y>f?this._retainParent(p,m,y,f):!1)},_retainChildren:function(o,l,c,f){for(var p=2*o;p<2*o+2;p++)for(var m=2*l;m<2*l+2;m++){var y=new X(p,m);y.z=c+1;var E=this._tileCoordsToKey(y),x=this._tiles[E];if(x&&x.active){x.retain=!0;continue}else x&&x.loaded&&(x.retain=!0);c+1<f&&this._retainChildren(p,m,c+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,c,f){var p=Math.round(l);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var m=this.options.updateWhenZooming&&p!==this._tileZoom;(!f||m)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(o),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var c in this._levels)this._setZoomTransform(this._levels[c],o,l)},_setZoomTransform:function(o,l,c){var f=this._map.getZoomScale(c,o.zoom),p=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,c)).round();B.any3d?Qr(o.el,p,f):Ze(o.el,p)},_resetGrid:function(){var o=this._map,l=o.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/c.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/c.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/c.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,c=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(c,this._tileZoom),p=l.project(o,this._tileZoom).floor(),m=l.getSize().divideBy(f*2);return new Ne(p.subtract(m),p.add(m))},_update:function(o){var l=this._map;if(l){var c=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),p=this._pxBoundsToTileRange(f),m=p.getCenter(),y=[],E=this.options.keepBuffer,x=new Ne(p.getBottomLeft().subtract([E,-E]),p.getTopRight().add([E,-E]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var S in this._tiles){var k=this._tiles[S].coords;(k.z!==this._tileZoom||!x.contains(new X(k.x,k.y)))&&(this._tiles[S].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(o,c);return}for(var H=p.min.y;H<=p.max.y;H++)for(var de=p.min.x;de<=p.max.x;de++){var yt=new X(de,H);if(yt.z=this._tileZoom,!!this._isValidTile(yt)){var lt=this._tiles[this._tileCoordsToKey(yt)];lt?lt.current=!0:y.push(yt)}}if(y.sort(function(It,io){return It.distanceTo(m)-io.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zt=document.createDocumentFragment();for(de=0;de<y.length;de++)this._addTile(y[de],Zt);this._level.el.appendChild(Zt)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var c=this._globalTileRange;if(!l.wrapLng&&(o.x<c.min.x||o.x>c.max.x)||!l.wrapLat&&(o.y<c.min.y||o.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return We(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,c=this.getTileSize(),f=o.scaleBy(c),p=f.add(c),m=l.unproject(f,o.z),y=l.unproject(p,o.z);return[m,y]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),c=new Mt(l[0],l[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),c=new X(+l[0],+l[1]);return c.z=+l[2],c},_removeTile:function(o){var l=this._tiles[o];l&&(Le(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){oe(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=h,o.onmousemove=h,B.ielt9&&this.options.opacity<1&&Gt(o,this.options.opacity)},_addTile:function(o,l){var c=this._getTilePos(o),f=this._tileCoordsToKey(o),p=this.createTile(this._wrapCoords(o),i(this._tileReady,this,o));this._initTile(p),this.createTile.length<2&&Dt(i(this._tileReady,this,o,null,p)),Ze(p,c),this._tiles[f]={el:p,coords:o,current:!0},l.appendChild(p),this.fire("tileloadstart",{tile:p,coords:o})},_tileReady:function(o,l,c){l&&this.fire("tileerror",{error:l,tile:c,coords:o});var f=this._tileCoordsToKey(o);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Gt(c.el,0),qt(this._fadeFrame),this._fadeFrame=Dt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),l||(oe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),B.ielt9||!this._map._fadeAnimated?Dt(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new X(this._wrapX?d(o.x,this._wrapX):o.x,this._wrapY?d(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new Ne(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function MM(o){return new ks(o)}var ro=ks.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=_(this,l),l.detectRetina&&B.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var c=document.createElement("img");return ee(c,"load",i(this._tileOnLoad,this,l,c)),ee(c,"error",i(this._tileOnError,this,l,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(o),c},getTileUrl:function(o){var l={r:B.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=c),l["-y"]=c}return T(this._url,t(l,this.options))},_tileOnLoad:function(o,l){B.ielt9?setTimeout(i(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,c){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(c,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=h,l.onerror=h,!l.complete)){l.src=me;var c=this._tiles[o].coords;Le(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:c})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",me),ks.prototype._removeTile.call(this,o)},_tileReady:function(o,l,c){if(!(!this._map||c&&c.getAttribute("src")===me))return ks.prototype._tileReady.call(this,o,l,c)}});function g_(o,l){return new ro(o,l)}var m_=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var c=t({},this.defaultWmsParams);for(var f in l)f in this.options||(c[f]=l[f]);l=_(this,l);var p=l.detectRetina&&B.retina?2:1,m=this.getTileSize();c.width=m.x*p,c.height=m.y*p,this.wmsParams=c},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ro.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),c=this._crs,f=xt(c.project(l[0]),c.project(l[1])),p=f.min,m=f.max,y=(this._wmsVersion>=1.3&&this._crs===l_?[p.y,p.x,m.y,m.x]:[p.x,p.y,m.x,m.y]).join(","),E=ro.prototype.getTileUrl.call(this,o);return E+D(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(o,l){return t(this.wmsParams,o),l||this.redraw(),this}});function IM(o,l){return new m_(o,l)}ro.WMS=m_,g_.wms=IM;var tr=ln.extend({options:{padding:.1},initialize:function(o){_(this,o),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var c=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,l),m=f.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(o,l));B.any3d?Qr(this._container,m,c):Ze(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),c=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new Ne(c,c.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),v_=tr.extend({options:{tolerance:0},getEvents:function(){var o=tr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ee(o,"mousemove",this._onMouseMove,this),ee(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){qt(this._redrawRequest),delete this._ctx,Le(this._container),Me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tr.prototype._update.call(this);var o=this._bounds,l=this._container,c=o.getSize(),f=B.retina?2:1;Ze(l,o.min),l.width=f*c.x,l.height=f*c.y,l.style.width=c.x+"px",l.style.height=c.y+"px",B.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){tr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[a(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,c=l.next,f=l.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete o._order,delete this._layers[a(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),c=[],f,p;for(p=0;p<l.length;p++){if(f=Number(l[p]),isNaN(f))return;c.push(f)}o.options._dashArray=c}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Dt(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ne,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var c=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var c,f,p,m,y=o._parts,E=y.length,x=this._ctx;if(E){for(x.beginPath(),c=0;c<E;c++){for(f=0,p=y[c].length;f<p;f++)m=y[c][f],x[f?"lineTo":"moveTo"](m.x,m.y);l&&x.closePath()}this._fillStroke(x,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,c=this._ctx,f=Math.max(Math.round(o._radius),1),p=(Math.max(Math.round(o._radiusY),1)||f)/f;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(l.x,l.y/p,f,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,o)}},_fillStroke:function(o,l){var c=l.options;c.fill&&(o.globalAlpha=c.fillOpacity,o.fillStyle=c.fillColor||c.color,o.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=c.opacity,o.lineWidth=c.weight,o.strokeStyle=c.color,o.lineCap=c.lineCap,o.lineJoin=c.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),c,f,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Be(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var c,f,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(l)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(oe(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,c){this._map._fireDOMEvent(l,c||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var c=l.next,f=l.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var c=l.next,f=l.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function __(o){return B.canvas?new v_(o):null}var Rs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),SM={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Rs("shape");oe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Rs("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[a(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Le(l),o.removeInteractiveTarget(l),delete this._layers[a(o)]},_updateStyle:function(o){var l=o._stroke,c=o._fill,f=o.options,p=o._container;p.stroked=!!f.stroke,p.filled=!!f.fill,f.stroke?(l||(l=o._stroke=Rs("stroke")),p.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=N(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(p.removeChild(l),o._stroke=null),f.fill?(c||(c=o._fill=Rs("fill")),p.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(p.removeChild(c),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),c=Math.round(o._radius),f=Math.round(o._radiusY||c);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Ji(o._container)},_bringToBack:function(o){Qi(o._container)}},ql=B.vml?Rs:Cv,Ns=tr.extend({_initContainer:function(){this._container=ql("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ql("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),Me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tr.prototype._update.call(this);var o=this._bounds,l=o.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,c.setAttribute("width",l.x),c.setAttribute("height",l.y)),Ze(c,o.min),c.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=ql("path");o.options.className&&oe(l,o.options.className),o.options.interactive&&oe(l,"leaflet-interactive"),this._updateStyle(o),this._layers[a(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Le(o._path),o.removeInteractiveTarget(o._path),delete this._layers[a(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,c=o.options;l&&(c.stroke?(l.setAttribute("stroke",c.color),l.setAttribute("stroke-opacity",c.opacity),l.setAttribute("stroke-width",c.weight),l.setAttribute("stroke-linecap",c.lineCap),l.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?l.setAttribute("stroke-dasharray",c.dashArray):l.removeAttribute("stroke-dasharray"),c.dashOffset?l.setAttribute("stroke-dashoffset",c.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),c.fill?(l.setAttribute("fill",c.fillColor||c.color),l.setAttribute("fill-opacity",c.fillOpacity),l.setAttribute("fill-rule",c.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Ev(o._parts,l))},_updateCircle:function(o){var l=o._point,c=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||c,p="a"+c+","+f+" 0 1,0 ",m=o._empty()?"M0 0":"M"+(l.x-c)+","+l.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(o,m)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Ji(o._path)},_bringToBack:function(o){Qi(o._path)}});B.vml&&Ns.include(SM);function y_(o){return B.svg||B.vml?new Ns(o):null}_e.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&__(o)||y_(o)}});var w_=to.extend({initialize:function(o,l){to.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=We(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function TM(o,l){return new w_(o,l)}Ns.create=ql,Ns.pointsToPath=Ev,er.geometryToLayer=jl,er.coordsToLatLng=eh,er.coordsToLatLngs=Vl,er.latLngToCoords=th,er.latLngsToCoords=Bl,er.getFeature=no,er.asFeature=Ul,_e.mergeOptions({boxZoom:!0});var b_=Mn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ms(),Ff(),this._startPoint=this._map.mouseEventToContainerPoint(o),ee(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new Ne(this._point,this._startPoint),c=l.getSize();Ze(this._box,l.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Le(this._box),Be(this._container,"leaflet-crosshair")),Is(),jf(),Me(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var l=new Mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_e.addInitHook("addHandler","boxZoom",b_),_e.mergeOptions({doubleClickZoom:!0});var C_=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,c=l.getZoom(),f=l.options.zoomDelta,p=o.originalEvent.shiftKey?c-f:c+f;l.options.doubleClickZoom==="center"?l.setZoom(p):l.setZoomAround(o.containerPoint,p)}});_e.addInitHook("addHandler","doubleClickZoom",C_),_e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var E_=Mn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Dr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Be(this._map._container,"leaflet-grab"),Be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=We(this._map.options.maxBounds);this._offsetLimit=xt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,p=(f-l+c)%o+l-c,m=(f+l+c)%o-l-c,y=Math.abs(p+c)<Math.abs(m+c)?p:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(o){var l=this._map,c=l.options,f=!c.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=c.easeLinearity,E=p.multiplyBy(y/m),x=E.distanceTo([0,0]),S=Math.min(c.inertiaMaxSpeed,x),k=E.multiplyBy(S/x),H=S/(c.inertiaDeceleration*y),de=k.multiplyBy(-H/2).round();!de.x&&!de.y?l.fire("moveend"):(de=l._limitOffset(de,l.options.maxBounds),Dt(function(){l.panBy(de,{duration:H,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});_e.addInitHook("addHandler","dragging",E_),_e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var D_=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ee(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,c=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},c=this.keyCodes,f,p;for(f=0,p=c.left.length;f<p;f++)l[c.left[f]]=[-1*o,0];for(f=0,p=c.right.length;f<p;f++)l[c.right[f]]=[o,0];for(f=0,p=c.down.length;f<p;f++)l[c.down[f]]=[0,o];for(f=0,p=c.up.length;f<p;f++)l[c.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},c=this.keyCodes,f,p;for(f=0,p=c.zoomIn.length;f<p;f++)l[c.zoomIn[f]]=o;for(f=0,p=c.zoomOut.length;f<p;f++)l[c.zoomOut[f]]=-o},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,c=this._map,f;if(l in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=G(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(G(f),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(p)}else c.panBy(f)}else if(l in this._zoomKeys)c.setZoom(c.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;ti(o)}}});_e.addInitHook("addHandler","keyboard",D_),_e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var x_=Mn.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Yv(o),c=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),f),ti(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),c=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,m=c?Math.ceil(p/c)*c:p,y=o._limitZoom(l+(this._delta>0?m:-m))-l;this._delta=0,this._startTime=null,y&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+y):o.setZoomAround(this._lastMousePos,l+y))}});_e.addInitHook("addHandler","scrollWheelZoom",x_);var PM=600;_e.mergeOptions({tapHold:B.touchNative&&B.safari&&B.mobile,tapTolerance:15});var M_=Mn.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new X(l.clientX,l.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",ft),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),PM),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Me(document,"touchend",ft),Me(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new X(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var c=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});c._simulated=!0,l.target.dispatchEvent(c)}});_e.addInitHook("addHandler","tapHold",M_),_e.mergeOptions({touchZoom:B.touch,bounceAtZoomLimits:!0});var I_=Mn.extend({addHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var c=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),ft(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,c=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),p=c.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(p,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&p<1||this._zoom>l.getMaxZoom()&&p>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var m=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(p===1&&m.x===0&&m.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),qt(this._animRequest);var y=i(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Dt(y,this,!0),ft(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,qt(this._animRequest),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_e.addInitHook("addHandler","touchZoom",I_),_e.BoxZoom=b_,_e.DoubleClickZoom=C_,_e.Drag=E_,_e.Keyboard=D_,_e.ScrollWheelZoom=x_,_e.TapHold=M_,_e.TouchZoom=I_,e.Bounds=Ne,e.Browser=B,e.CRS=Jn,e.Canvas=v_,e.Circle=Xf,e.CircleMarker=Fl,e.Class=Kn,e.Control=an,e.DivIcon=p_,e.DivOverlay=In,e.DomEvent=Zx,e.DomUtil=Gx,e.Draggable=Dr,e.Evented=bs,e.FeatureGroup=Qn,e.GeoJSON=er,e.GridLayer=ks,e.Handler=Mn,e.Icon=eo,e.ImageOverlay=$l,e.LatLng=Ce,e.LatLngBounds=Mt,e.Layer=ln,e.LayerGroup=Xi,e.LineUtil=aM,e.Map=_e,e.Marker=Ll,e.Mixin=tM,e.Path=xr,e.Point=X,e.PolyUtil=nM,e.Polygon=to,e.Polyline=Xn,e.Popup=zl,e.PosAnimation=Kv,e.Projection=lM,e.Rectangle=w_,e.Renderer=tr,e.SVG=Ns,e.SVGOverlay=h_,e.TileLayer=ro,e.Tooltip=Hl,e.Transformation=xf,e.Util=px,e.VideoOverlay=f_,e.bind=i,e.bounds=xt,e.canvas=__,e.circle=mM,e.circleMarker=gM,e.control=Ps,e.divIcon=xM,e.extend=t,e.featureGroup=fM,e.geoJSON=d_,e.geoJson=yM,e.gridLayer=MM,e.icon=hM,e.imageOverlay=wM,e.latLng=ve,e.latLngBounds=We,e.layerGroup=dM,e.map=Yx,e.marker=pM,e.point=G,e.polygon=_M,e.polyline=vM,e.popup=EM,e.rectangle=TM,e.setOptions=_,e.stamp=a,e.svg=y_,e.svgOverlay=CM,e.tileLayer=g_,e.tooltip=DM,e.transformation=Cs,e.version=n,e.videoOverlay=bM;var OM=window.L;e.noConflict=function(){return window.L=OM,this},window.L=e})});var Fm=Sn(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});var Nm=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Lm.default=Nm});var Vm=Sn(Ka=>{"use strict";var ME=Ka&&Ka.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});var LR=ME((R_(),BM(UM))),FR=ME(Fm()),jm=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=LR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,u,d;let h=null,g=null,v=null,w=s.status,_=s.statusText;if(s.ok){if(this.method!=="HEAD"){let N=await s.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=N:g=JSON.parse(N))}let I=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),T=(u=s.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");I&&T&&T.length>1&&(v=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,w=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{let I=await s.text();try{h=JSON.parse(I),Array.isArray(h)&&s.status===404&&(g=[],h=null,w=200,_="OK")}catch{s.status===404&&I===""?(w=204,_="No Content"):h={message:I}}if(h&&this.isMaybeSingle&&(!((d=h?.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,w=200,_="OK"),h&&this.shouldThrowOnError)throw new FR.default(h)}return{error:h,data:g,count:v,status:w,statusText:_}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,u,d;return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:`${(u=s?.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=s?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};Ka.default=jm});var Um=Sn(Ja=>{"use strict";var jR=Ja&&Ja.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ja,"__esModule",{value:!0});var VR=jR(Vm()),Bm=class extends VR.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){let a=s?`${s}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${n}`),this.url.searchParams.set(a,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var u;let d=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${h}"; options=${d};`,a==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ja.default=Bm});var Id=Sn(Qa=>{"use strict";var BR=Qa&&Qa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qa,"__esModule",{value:!0});var UR=BR(Um()),$m=class extends UR.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${s}fts${a}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};Qa.default=$m});var Hm=Sn(el=>{"use strict";var $R=el&&el.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});var Xa=$R(Id()),zm=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",s=!1,a=(n??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Xa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){let a=n.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){let u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){let a="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){let d=n.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){let h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Xa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Xa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xa.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};el.default=zm});var IE=Sn(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.version=void 0;Sd.version="0.0.0-automated"});var SE=Sn(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.DEFAULT_HEADERS=void 0;var zR=IE();Td.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zR.version}`}});var PE=Sn(tl=>{"use strict";var TE=tl&&tl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tl,"__esModule",{value:!0});var HR=TE(Hm()),qR=TE(Id()),GR=SE(),qm=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},GR.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new HR.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:s}={}){let a,u=new URL(`${this.url}/rpc/${n}`),d;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{u.searchParams.append(g,v)})):(a="POST",d=t);let h=Object.assign({},this.headers);return s&&(h.Prefer=`count=${s}`),new qR.default({method:a,url:u,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};tl.default=qm});var FE=Sn(gt=>{"use strict";var ts=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;var OE=ts(PE());gt.PostgrestClient=OE.default;var AE=ts(Hm());gt.PostgrestQueryBuilder=AE.default;var kE=ts(Id());gt.PostgrestFilterBuilder=kE.default;var RE=ts(Um());gt.PostgrestTransformBuilder=RE.default;var NE=ts(Vm());gt.PostgrestBuilder=NE.default;var LE=ts(Fm());gt.PostgrestError=LE.default;gt.default={PostgrestClient:OE.default,PostgrestQueryBuilder:AE.default,PostgrestFilterBuilder:kE.default,PostgrestTransformBuilder:RE.default,PostgrestBuilder:NE.default,PostgrestError:LE.default}});function ah(e,n){return Object.is(e,n)}var nt=null,Wl=!1,lh=1,Yt=Symbol("SIGNAL");function se(e){let n=nt;return nt=e,n}function ch(){return nt}var Fs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function js(e){if(Wl)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(e);let n=nt.nextProducerIndex++;if(Jl(nt),n<nt.producerNode.length&&nt.producerNode[n]!==e&&Ls(nt)){let t=nt.producerNode[n];Kl(t,nt.producerIndexOfThis[n])}nt.producerNode[n]!==e&&(nt.producerNode[n]=e,nt.producerIndexOfThis[n]=Ls(nt)?L_(e,nt,n):0),nt.producerLastReadVersion[n]=e.version}function N_(){lh++}function uh(e){if(!(Ls(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===lh)){if(!e.producerMustRecompute(e)&&!ph(e)){sh(e);return}e.producerRecomputeValue(e),sh(e)}}function dh(e){if(e.liveConsumerNode===void 0)return;let n=Wl;Wl=!0;try{for(let t of e.liveConsumerNode)t.dirty||$M(t)}finally{Wl=n}}function fh(){return nt?.consumerAllowSignalWrites!==!1}function $M(e){e.dirty=!0,dh(e),e.consumerMarkedDirty?.(e)}function sh(e){e.dirty=!1,e.lastCleanEpoch=lh}function Yl(e){return e&&(e.nextProducerIndex=0),se(e)}function hh(e,n){if(se(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ls(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Kl(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ph(e){Jl(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(uh(t),r!==t.version))return!0}return!1}function gh(e){if(Jl(e),Ls(e))for(let n=0;n<e.producerNode.length;n++)Kl(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function L_(e,n,t){if(F_(e),e.liveConsumerNode.length===0&&j_(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=L_(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Kl(e,n){if(F_(e),e.liveConsumerNode.length===1&&j_(e))for(let r=0;r<e.producerNode.length;r++)Kl(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Jl(i),i.producerIndexOfThis[r]=n}}function Ls(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Jl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function F_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function j_(e){return e.producerNode!==void 0}function mh(e,n){let t=Object.create(zM);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(uh(t),js(t),t.value===Zl)throw t.error;return t.value};return r[Yt]=t,r}var ih=Symbol("UNSET"),oh=Symbol("COMPUTING"),Zl=Symbol("ERRORED"),zM=Z(A({},Fs),{value:ih,dirty:!0,error:null,equal:ah,kind:"computed",producerMustRecompute(e){return e.value===ih||e.value===oh},producerRecomputeValue(e){if(e.value===oh)throw new Error("Detected cycle in computations.");let n=e.value;e.value=oh;let t=Yl(e),r,i=!1;try{r=e.computation(),se(null),i=n!==ih&&n!==Zl&&r!==Zl&&e.equal(n,r)}catch(s){r=Zl,e.error=s}finally{hh(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function HM(){throw new Error}var V_=HM;function B_(e){V_(e)}function vh(e){V_=e}var qM=null;function _h(e,n){let t=Object.create(Ql);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(js(t),t.value);return r[Yt]=t,r}function Vs(e,n){fh()||B_(e),e.equal(e.value,n)||(e.value=n,GM(e))}function yh(e,n){fh()||B_(e),Vs(e,n(e.value))}var Ql=Z(A({},Fs),{equal:ah,value:void 0,kind:"signal"});function GM(e){e.version++,N_(),dh(e),qM?.()}function wh(e){let n=se(null);try{return e()}finally{se(n)}}var bh;function Bs(){return bh}function nr(e){let n=bh;return bh=e,n}var Xl=Symbol("NotFound");function Y(e){return typeof e=="function"}function oo(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ec=oo(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ri(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Fe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(s){n=s instanceof ec?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{U_(s)}catch(a){n=n??[],a instanceof ec?n=[...n,...a.errors]:n.push(a)}}if(n)throw new ec(n)}}add(n){var t;if(n&&n!==this)if(this.closed)U_(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ri(t,n)}remove(n){let{_finalizers:t}=this;t&&ri(t,n),n instanceof e&&n._removeParent(this)}};Fe.EMPTY=(()=>{let e=new Fe;return e.closed=!0,e})();var Ch=Fe.EMPTY;function tc(e){return e instanceof Fe||e&&"closed"in e&&Y(e.remove)&&Y(e.add)&&Y(e.unsubscribe)}function U_(e){Y(e)?e():e.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var so={setTimeout(e,n,...t){let{delegate:r}=so;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=so;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function nc(e){so.setTimeout(()=>{let{onUnhandledError:n}=cn;if(n)n(e);else throw e})}function Us(){}var $_=Eh("C",void 0,void 0);function z_(e){return Eh("E",void 0,e)}function H_(e){return Eh("N",e,void 0)}function Eh(e,n,t){return{kind:e,value:n,error:t}}var ii=null;function ao(e){if(cn.useDeprecatedSynchronousErrorHandling){let n=!ii;if(n&&(ii={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=ii;if(ii=null,t)throw r}}else e()}function q_(e){cn.useDeprecatedSynchronousErrorHandling&&ii&&(ii.errorThrown=!0,ii.error=e)}var oi=class extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,tc(n)&&n.add(this)):this.destination=QM}static create(n,t,r){return new lo(n,t,r)}next(n){this.isStopped?xh(H_(n),this):this._next(n)}error(n){this.isStopped?xh(z_(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?xh($_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KM=Function.prototype.bind;function Dh(e,n){return KM.call(e,n)}var Mh=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){rc(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){rc(r)}else rc(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){rc(t)}}},lo=class extends oi{constructor(n,t,r){super();let i;if(Y(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&cn.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Dh(n.next,s),error:n.error&&Dh(n.error,s),complete:n.complete&&Dh(n.complete,s)}):i=n}this.destination=new Mh(i)}};function rc(e){cn.useDeprecatedSynchronousErrorHandling?q_(e):nc(e)}function JM(e){throw e}function xh(e,n){let{onStoppedNotification:t}=cn;t&&so.setTimeout(()=>t(e,n))}var QM={closed:!0,next:Us,error:JM,complete:Us};var co=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(e){return e}function Ih(...e){return Sh(e)}function Sh(e){return e.length===0?wt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ge=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=eI(t)?t:new lo(t,r,i);return ao(()=>{let{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=G_(r),new r((i,s)=>{let a=new lo({next:u=>{try{t(u)}catch(d){s(d),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[co](){return this}pipe(...t){return Sh(t)(this)}toPromise(t){return t=G_(t),new t((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return e.create=n=>new e(n),e})();function G_(e){var n;return(n=e??cn.Promise)!==null&&n!==void 0?n:Promise}function XM(e){return e&&Y(e.next)&&Y(e.error)&&Y(e.complete)}function eI(e){return e&&e instanceof oi||XM(e)&&tc(e)}function Th(e){return Y(e?.lift)}function fe(e){return n=>{if(Th(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(e,n,t,r,i){return new Ph(e,n,t,r,i)}var Ph=class extends oi{constructor(n,t,r,i,s,a){super(n),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(u){try{t(u)}catch(d){n.error(d)}}:super._next,this._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function uo(){return fe((e,n)=>{let t=null;e._refCount++;let r=ae(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var fo=class extends ge{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Th(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Fe;let t=this.getSubject();n.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Fe.EMPTY)}return n}refCount(){return uo()(this)}};var W_=oo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class e extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ic(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new W_}next(t){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ch:(this.currentObservers=null,s.push(t),new Fe(()=>{this.currentObservers=null,ri(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ge;return t.source=this,t}}return e.create=(n,t)=>new ic(n,t),e})(),ic=class extends ke{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Ch}};var ht=class extends ke{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Oh={now(){return(Oh.delegate||Date).now()},delegate:void 0};var oc=class extends Fe{constructor(n,t){super()}schedule(n,t=0){return this}};var $s={setInterval(e,n,...t){let{delegate:r}=$s;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=$s;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var sc=class extends oc{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return $s.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&$s.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ri(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var ho=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};ho.now=Oh.now;var ac=class extends ho{constructor(n,t=ho.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var Z_=new ac(sc);var St=new ge(e=>e.complete());function Y_(e){return e&&Y(e.schedule)}function K_(e){return e[e.length-1]}function lc(e){return Y(K_(e))?e.pop():void 0}function Mr(e){return Y_(K_(e))?e.pop():void 0}function Q_(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})}function J_(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(e){return this instanceof si?(this.v=e,this):new si(e)}function X_(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(_){return function(D){return Promise.resolve(D).then(_,v)}}function u(_,D){r[_]&&(i[_]=function(I){return new Promise(function(T,N){s.push([_,I,T,N])>1||d(_,I)})},D&&(i[_]=D(i[_])))}function d(_,D){try{h(r[_](D))}catch(I){w(s[0][3],I)}}function h(_){_.value instanceof si?Promise.resolve(_.value.v).then(g,v):w(s[0][2],_)}function g(_){d("next",_)}function v(_){d("throw",_)}function w(_,D){_(D),s.shift(),s.length&&d(s[0][0],s[0][1])}}function ey(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof J_=="function"?J_(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(a){return new Promise(function(u,d){a=e[s](a),i(u,d,a.done,a.value)})}}function i(s,a,u,d){Promise.resolve(d).then(function(h){s({value:h,done:u})},a)}}var cc=e=>e&&typeof e.length=="number"&&typeof e!="function";function uc(e){return Y(e?.then)}function dc(e){return Y(e[co])}function fc(e){return Symbol.asyncIterator&&Y(e?.[Symbol.asyncIterator])}function hc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pc=tI();function gc(e){return Y(e?.[pc])}function mc(e){return X_(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield si(t.read());if(i)return yield si(void 0);yield yield si(r)}}finally{t.releaseLock()}})}function vc(e){return Y(e?.getReader)}function Ke(e){if(e instanceof ge)return e;if(e!=null){if(dc(e))return nI(e);if(cc(e))return rI(e);if(uc(e))return iI(e);if(fc(e))return ty(e);if(gc(e))return oI(e);if(vc(e))return sI(e)}throw hc(e)}function nI(e){return new ge(n=>{let t=e[co]();if(Y(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rI(e){return new ge(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function iI(e){return new ge(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,nc)})}function oI(e){return new ge(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function ty(e){return new ge(n=>{aI(e,n).catch(t=>n.error(t))})}function sI(e){return ty(mc(e))}function aI(e,n){var t,r,i,s;return Q_(this,void 0,void 0,function*(){try{for(t=ey(e);r=yield t.next(),!r.done;){let a=r.value;if(n.next(a),n.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})}function Tt(e,n,t,r=0,i=!1){let s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function _c(e,n=0){return fe((t,r)=>{t.subscribe(ae(r,i=>Tt(r,e,()=>r.next(i),n),()=>Tt(r,e,()=>r.complete(),n),i=>Tt(r,e,()=>r.error(i),n)))})}function yc(e,n=0){return fe((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ny(e,n){return Ke(e).pipe(yc(n),_c(n))}function ry(e,n){return Ke(e).pipe(yc(n),_c(n))}function iy(e,n){return new ge(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function oy(e,n){return new ge(t=>{let r;return Tt(t,n,()=>{r=e[pc](),Tt(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){t.error(a);return}s?t.complete():t.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function wc(e,n){if(!e)throw new Error("Iterable cannot be null");return new ge(t=>{Tt(t,n,()=>{let r=e[Symbol.asyncIterator]();Tt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sy(e,n){return wc(mc(e),n)}function ay(e,n){if(e!=null){if(dc(e))return ny(e,n);if(cc(e))return iy(e,n);if(uc(e))return ry(e,n);if(fc(e))return wc(e,n);if(gc(e))return oy(e,n);if(vc(e))return sy(e,n)}throw hc(e)}function Re(e,n){return n?ay(e,n):Ke(e)}function q(...e){let n=Mr(e);return Re(e,n)}function po(e,n){let t=Y(e)?e:()=>e,r=i=>i.error(t());return new ge(n?i=>n.schedule(r,0,i):r)}function Ah(e){return!!e&&(e instanceof ge||Y(e.lift)&&Y(e.subscribe))}var rr=oo(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function le(e,n){return fe((t,r)=>{let i=0;t.subscribe(ae(r,s=>{r.next(e.call(n,s,i++))}))})}var{isArray:lI}=Array;function cI(e,n){return lI(n)?e(...n):e(n)}function bc(e){return le(n=>cI(e,n))}var{isArray:uI}=Array,{getPrototypeOf:dI,prototype:fI,keys:hI}=Object;function Cc(e){if(e.length===1){let n=e[0];if(uI(n))return{args:n,keys:null};if(pI(n)){let t=hI(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function pI(e){return e&&typeof e=="object"&&dI(e)===fI}function Ec(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Dc(...e){let n=Mr(e),t=lc(e),{args:r,keys:i}=Cc(e);if(r.length===0)return Re([],n);let s=new ge(gI(r,n,i?a=>Ec(i,a):wt));return t?s.pipe(bc(t)):s}function gI(e,n,t=wt){return r=>{ly(n,()=>{let{length:i}=e,s=new Array(i),a=i,u=i;for(let d=0;d<i;d++)ly(n,()=>{let h=Re(e[d],n),g=!1;h.subscribe(ae(r,v=>{s[d]=v,g||(g=!0,u--),u||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}function ly(e,n,t){e?Tt(t,e,n):n()}function cy(e,n,t,r,i,s,a,u){let d=[],h=0,g=0,v=!1,w=()=>{v&&!d.length&&!h&&n.complete()},_=I=>h<r?D(I):d.push(I),D=I=>{s&&n.next(I),h++;let T=!1;Ke(t(I,g++)).subscribe(ae(n,N=>{i?.(N),s?_(N):n.next(N)},()=>{T=!0},void 0,()=>{if(T)try{for(h--;d.length&&h<r;){let N=d.shift();a?Tt(n,a,()=>D(N)):D(N)}w()}catch(N){n.error(N)}}))};return e.subscribe(ae(n,_,()=>{v=!0,w()})),()=>{u?.()}}function rt(e,n,t=1/0){return Y(n)?rt((r,i)=>le((s,a)=>n(r,s,i,a))(Ke(e(r,i))),t):(typeof n=="number"&&(t=n),fe((r,i)=>cy(r,i,e,t)))}function uy(e=1/0){return rt(wt,e)}function dy(){return uy(1)}function go(...e){return dy()(Re(e,Mr(e)))}function xc(e){return new ge(n=>{Ke(e()).subscribe(n)})}function kh(...e){let n=lc(e),{args:t,keys:r}=Cc(e),i=new ge(s=>{let{length:a}=t;if(!a){s.complete();return}let u=new Array(a),d=a,h=a;for(let g=0;g<a;g++){let v=!1;Ke(t[g]).subscribe(ae(s,w=>{v||(v=!0,h--),u[g]=w},()=>d--,void 0,()=>{(!d||!v)&&(h||s.next(r?Ec(r,u):u),s.complete())}))}});return n?i.pipe(bc(n)):i}function jt(e,n){return fe((t,r)=>{let i=0;t.subscribe(ae(r,s=>e.call(n,s,i++)&&r.next(s)))})}function Ir(e){return fe((n,t)=>{let r=null,i=!1,s;r=n.subscribe(ae(t,void 0,void 0,a=>{s=Ke(e(a,Ir(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fy(e,n,t,r,i){return(s,a)=>{let u=t,d=n,h=0;s.subscribe(ae(a,g=>{let v=h++;d=u?e(d,g,v):(u=!0,g),r&&a.next(d)},i&&(()=>{u&&a.next(d),a.complete()})))}}function Sr(e,n){return Y(n)?rt(e,n,1):rt(e,1)}function Rh(e,n=Z_){return fe((t,r)=>{let i=null,s=null,a=null,u=()=>{if(i){i.unsubscribe(),i=null;let h=s;s=null,r.next(h)}};function d(){let h=a+e,g=n.now();if(g<h){i=this.schedule(void 0,h-g),r.add(i);return}u()}t.subscribe(ae(r,h=>{s=h,a=n.now(),i||(i=n.schedule(d,e),r.add(i))},()=>{u(),r.complete()},void 0,()=>{s=i=null}))})}function Tr(e){return fe((n,t)=>{let r=!1;n.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function ir(e){return e<=0?()=>St:fe((n,t)=>{let r=0;n.subscribe(ae(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Nh(e,n=wt){return e=e??mI,fe((t,r)=>{let i,s=!0;t.subscribe(ae(r,a=>{let u=n(a);(s||!e(i,u))&&(s=!1,i=u,r.next(a))}))})}function mI(e,n){return e===n}function Mc(e=vI){return fe((n,t)=>{let r=!1;n.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function vI(){return new rr}function ai(e){return fe((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function or(e,n){let t=arguments.length>=2;return r=>r.pipe(e?jt((i,s)=>e(i,s,r)):wt,ir(1),t?Tr(n):Mc(()=>new rr))}function mo(e){return e<=0?()=>St:fe((n,t)=>{let r=[];n.subscribe(ae(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lh(e,n){let t=arguments.length>=2;return r=>r.pipe(e?jt((i,s)=>e(i,s,r)):wt,mo(1),t?Tr(n):Mc(()=>new rr))}function Fh(e,n){return fe(fy(e,n,arguments.length>=2,!0))}function jh(...e){let n=Mr(e);return fe((t,r)=>{(n?go(e,t,n):go(e,t)).subscribe(r)})}function Vt(e,n){return fe((t,r)=>{let i=null,s=0,a=!1,u=()=>a&&!i&&r.complete();t.subscribe(ae(r,d=>{i?.unsubscribe();let h=0,g=s++;Ke(e(d,g)).subscribe(i=ae(r,v=>r.next(n?n(d,v,g,h++):v),()=>{i=null,u()}))},()=>{a=!0,u()}))})}function Pr(e){return fe((n,t)=>{Ke(e).subscribe(ae(t,()=>t.complete(),Us)),!t.closed&&n.subscribe(t)})}function pt(e,n,t){let r=Y(e)||n||t?{next:e,error:n,complete:t}:e;return r?fe((i,s)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let u=!0;i.subscribe(ae(s,d=>{var h;(h=r.next)===null||h===void 0||h.call(r,d),s.next(d)},()=>{var d;u=!1,(d=r.complete)===null||d===void 0||d.call(r),s.complete()},d=>{var h;u=!1,(h=r.error)===null||h===void 0||h.call(r,d),s.error(d)},()=>{var d,h;u&&((d=r.unsubscribe)===null||d===void 0||d.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):wt}var n0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",R=class extends Error{code;constructor(n,t){super(yI(n,t)),this.code=n}};function _I(e){return`NG0${Math.abs(e)}`}function yI(e,n){return`${_I(e)}${n?": "+n:""}`}var r0=Symbol("InputSignalNode#UNSET"),wI=Z(A({},Ql),{transformFn:void 0,applyValueToInputSignal(e,n){Vs(e,n)}});function i0(e,n){let t=Object.create(wI);t.value=e,t.transformFn=n?.transform;function r(){if(js(t),t.value===r0){let i=null;throw new R(-950,i)}return t.value}return r[Yt]=t,r}function oa(e){return{toString:e}.toString()}var Ic="__parameters__";function bI(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function o0(e,n,t){return oa(()=>{let r=bI(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return u.annotation=a,u;function u(d,h,g){let v=d.hasOwnProperty(Ic)?d[Ic]:Object.defineProperty(d,Ic,{value:[]})[Ic];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(a),d}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var sr=globalThis;function xe(e){for(let n in e)if(e[n]===xe)return n;throw Error("Could not find renamed property on target object.")}function CI(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function At(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(At).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function tp(e,n){return e?n?`${e} ${n}`:e:n||""}var EI=xe({__forward_ref__:xe});function dr(e){return e.__forward_ref__=dr,e.toString=function(){return At(this())},e}function bt(e){return s0(e)?e():e}function s0(e){return typeof e=="function"&&e.hasOwnProperty(EI)&&e.__forward_ref__===dr}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nn(e){return{providers:e.providers||[],imports:e.imports||[]}}function cu(e){return hy(e,l0)||hy(e,c0)}function a0(e){return cu(e)!==null}function hy(e,n){return e.hasOwnProperty(n)?e[n]:null}function DI(e){let n=e&&(e[l0]||e[c0]);return n||null}function py(e){return e&&(e.hasOwnProperty(gy)||e.hasOwnProperty(xI))?e[gy]:null}var l0=xe({\u0275prov:xe}),gy=xe({\u0275inj:xe}),c0=xe({ngInjectableDef:xe}),xI=xe({ngInjectorDef:xe}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function u0(e){return e&&!!e.\u0275providers}var MI=xe({\u0275cmp:xe}),II=xe({\u0275dir:xe}),SI=xe({\u0275pipe:xe}),TI=xe({\u0275mod:xe}),Fc=xe({\u0275fac:xe}),Gs=xe({__NG_ELEMENT_ID__:xe}),my=xe({__NG_ENV_ID__:xe});function uu(e){return typeof e=="string"?e:e==null?"":String(e)}function PI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():uu(e)}function d0(e,n){throw new R(-200,e)}function tg(e,n){throw new R(-201,!1)}var ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ue||{}),np;function f0(){return np}function Pt(e){let n=np;return np=e,n}function h0(e,n,t){let r=cu(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(n!==void 0)return n;tg(e,"Injector")}var OI={},ci=OI,rp="__NG_DI_FLAG__",jc=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?Xl:ci,r)}},Vc="ngTempTokenPath",AI="ngTokenPath",kI=/\n/gm,RI="\u0275",vy="__source";function NI(e,n=ue.Default){if(Bs()===void 0)throw new R(-203,!1);if(Bs()===null)return h0(e,void 0,n);{let t=Bs(),r;return t instanceof jc?r=t.injector:r=t,r.get(e,n&ue.Optional?null:void 0,n)}}function U(e,n=ue.Default){return(f0()||NI)(bt(e),n)}function P(e,n=ue.Default){return U(e,du(n))}function du(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ip(e){let n=[];for(let t=0;t<e.length;t++){let r=bt(e[t]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,s=ue.Default;for(let a=0;a<r.length;a++){let u=r[a],d=LI(u);typeof d=="number"?d===-1?i=u.token:s|=d:i=u}n.push(U(i,s))}else n.push(U(r))}return n}function p0(e,n){return e[rp]=n,e.prototype[rp]=n,e}function LI(e){return e[rp]}function FI(e,n,t,r){let i=e[Vc];throw n[vy]&&i.unshift(n[vy]),e.message=jI(`
`+e.message,i,t,r),e[AI]=i,e[Vc]=null,e}function jI(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==RI?e.slice(2):e;let i=At(n);if(Array.isArray(n))i=n.map(At).join(" -> ");else if(typeof n=="object"){let s=[];for(let a in n)if(n.hasOwnProperty(a)){let u=n[a];s.push(a+":"+(typeof u=="string"?JSON.stringify(u):At(u)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(kI,`
  `)}`}var VI=p0(o0("Optional"),8);var BI=p0(o0("SkipSelf"),4);function di(e,n){let t=e.hasOwnProperty(Fc);return t?e[Fc]:null}function UI(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function $I(e){return e.flat(Number.POSITIVE_INFINITY)}function ng(e,n){e.forEach(t=>Array.isArray(t)?ng(t,n):n(t))}function g0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Bc(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function zI(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let s=i-2;e[i]=e[s],i--}e[n]=t,e[n+1]=r}}function fu(e,n,t){let r=sa(e,n);return r>=0?e[r|1]=t:(r=~r,zI(e,r,n,t)),r}function Vh(e,n){let t=sa(e,n);if(t>=0)return e[t|1]}function sa(e,n){return HI(e,n,1)}function HI(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let s=r+(i-r>>1),a=e[s<<t];if(n===a)return s<<t;a>n?i=s:r=s+1}return~(i<<t)}var fi={},Ot=[],Ws=new j(""),m0=new j("",-1),v0=new j(""),Uc=class{get(n,t=ci){if(t===ci){let r=new Error(`NullInjectorError: No provider for ${At(n)}!`);throw r.name="NullInjectorError",r}return t}};function _0(e,n){let t=e[TI]||null;if(!t&&n===!0)throw new Error(`Type ${At(e)} does not have '\u0275mod' property.`);return t}function bo(e){return e[MI]||null}function qI(e){return e[II]||null}function GI(e){return e[SI]||null}function aa(e){return{\u0275providers:e}}function WI(...e){return{\u0275providers:y0(!0,e),\u0275fromNgModule:!0}}function y0(e,...n){let t=[],r=new Set,i,s=a=>{t.push(a)};return ng(n,a=>{let u=a;op(u,s,[],r)&&(i||=[],i.push(u))}),i!==void 0&&w0(i,s),t}function w0(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];rg(i,s=>{n(s,r)})}}function op(e,n,t,r){if(e=bt(e),!e)return!1;let i=null,s=py(e),a=!s&&bo(e);if(!s&&!a){let d=e.ngModule;if(s=py(d),s)i=d;else return!1}else{if(a&&!a.standalone)return!1;i=e}let u=r.has(i);if(a){if(u)return!1;if(r.add(i),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of d)op(h,n,t,r)}}else if(s){if(s.imports!=null&&!u){r.add(i);let h;try{ng(s.imports,g=>{op(g,n,t,r)&&(h||=[],h.push(g))})}finally{}h!==void 0&&w0(h,n)}if(!u){let h=di(i)||(()=>new i);n({provide:i,useFactory:h,deps:Ot},i),n({provide:v0,useValue:i,multi:!0},i),n({provide:Ws,useValue:()=>U(i),multi:!0},i)}let d=s.providers;if(d!=null&&!u){let h=e;rg(d,g=>{n(g,h)})}}else return!1;return i!==e&&e.providers!==void 0}function rg(e,n){for(let t of e)u0(t)&&(t=t.\u0275providers),Array.isArray(t)?rg(t,n):n(t)}var ZI=xe({provide:String,useValue:xe});function b0(e){return e!==null&&typeof e=="object"&&ZI in e}function YI(e){return!!(e&&e.useExisting)}function KI(e){return!!(e&&e.useFactory)}function Co(e){return typeof e=="function"}function JI(e){return!!e.useClass}var hu=new j(""),Oc={},_y={},Bh;function ig(){return Bh===void 0&&(Bh=new Uc),Bh}var Ct=class{},Zs=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ap(n,a=>this.processProvider(a)),this.records.set(m0,vo(void 0,this)),i.has("environment")&&this.records.set(Ct,vo(void 0,this));let s=this.records.get(hu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(v0,Ot,ue.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?Xl:ci,r)}destroy(){Hs(this),this._destroyed=!0;let n=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(n)}}onDestroy(n){return Hs(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Hs(this);let t=nr(this),r=Pt(void 0),i;try{return n()}finally{nr(t),Pt(r)}}get(n,t=ci,r=ue.Default){if(Hs(this),n.hasOwnProperty(my))return n[my](this);r=du(r);let i,s=nr(this),a=Pt(void 0);try{if(!(r&ue.SkipSelf)){let d=this.records.get(n);if(d===void 0){let h=nS(n)&&cu(n);h&&this.injectableDefInScope(h)?d=vo(sp(n),Oc):d=null,this.records.set(n,d)}if(d!=null)return this.hydrate(n,d)}let u=r&ue.Self?ig():this.parent;return t=r&ue.Optional&&t===ci?null:t,u.get(n,t)}catch(u){if(u.name==="NullInjectorError"){if((u[Vc]=u[Vc]||[]).unshift(At(n)),s)throw u;return FI(u,n,"R3InjectorError",this.source)}else throw u}finally{Pt(a),nr(s)}}resolveInjectorInitializers(){let n=se(null),t=nr(this),r=Pt(void 0),i;try{let s=this.get(Ws,Ot,ue.Self);for(let a of s)a()}finally{nr(t),Pt(r),se(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(At(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=bt(n);let t=Co(n)?n:bt(n&&n.provide),r=XI(n);if(!Co(n)&&n.multi===!0){let i=this.records.get(t);i||(i=vo(void 0,Oc,!0),i.factory=()=>ip(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=se(null);try{return t.value===_y?d0(At(n)):t.value===Oc&&(t.value=_y,t.value=t.factory()),typeof t.value=="object"&&t.value&&tS(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{se(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=bt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function sp(e){let n=cu(e),t=n!==null?n.factory:di(e);if(t!==null)return t;if(e instanceof j)throw new R(204,!1);if(e instanceof Function)return QI(e);throw new R(204,!1)}function QI(e){if(e.length>0)throw new R(204,!1);let t=DI(e);return t!==null?()=>t.factory(e):()=>new e}function XI(e){if(b0(e))return vo(void 0,e.useValue);{let n=C0(e);return vo(n,Oc)}}function C0(e,n,t){let r;if(Co(e)){let i=bt(e);return di(i)||sp(i)}else if(b0(e))r=()=>bt(e.useValue);else if(KI(e))r=()=>e.useFactory(...ip(e.deps||[]));else if(YI(e))r=()=>U(bt(e.useExisting));else{let i=bt(e&&(e.useClass||e.provide));if(eS(e))r=()=>new i(...ip(e.deps));else return di(i)||sp(i)}return r}function Hs(e){if(e.destroyed)throw new R(205,!1)}function vo(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function eS(e){return!!e.deps}function tS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function nS(e){return typeof e=="function"||typeof e=="object"&&e instanceof j}function ap(e,n){for(let t of e)Array.isArray(t)?ap(t,n):t&&u0(t)?ap(t.\u0275providers,n):n(t)}function Bt(e,n){let t;e instanceof Zs?(Hs(e),t=e):t=new jc(e);let r,i=nr(t),s=Pt(void 0);try{return n()}finally{nr(i),Pt(s)}}function E0(){return f0()!==void 0||Bs()!=null}function D0(e){if(!E0())throw new R(-203,!1)}function rS(e){return typeof e=="function"}var fr=0,K=1,J=2,vt=3,dn=4,pn=5,Ys=6,$c=7,ot=8,Eo=9,ar=10,Ue=11,Ks=12,yy=13,Oo=14,fn=15,hi=16,_o=17,lr=18,pu=19,x0=20,Or=21,Uh=22,zc=23,Kt=24,$h=25,kt=26,M0=1;var pi=7,Hc=8,Do=9,mt=10;function Ar(e){return Array.isArray(e)&&typeof e[M0]=="object"}function hr(e){return Array.isArray(e)&&e[M0]===!0}function I0(e){return(e.flags&4)!==0}function Ao(e){return e.componentOffset>-1}function og(e){return(e.flags&1)===1}function Pn(e){return!!e.template}function qc(e){return(e[J]&512)!==0}function la(e){return(e[J]&256)===256}var lp=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function S0(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var pr=(()=>{let e=()=>T0;return e.ngInherit=!0,e})();function T0(e){return e.type.prototype.ngOnChanges&&(e.setInput=oS),iS}function iS(){let e=O0(this),n=e?.current;if(n){let t=e.previous;if(t===fi)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function oS(e,n,t,r,i){let s=this.declaredInputs[r],a=O0(e)||sS(e,{previous:fi,current:null}),u=a.current||(a.current={}),d=a.previous,h=d[s];u[s]=new lp(h&&h.currentValue,t,d===fi),S0(e,n,i,t)}var P0="__ngSimpleChanges__";function O0(e){return e[P0]||null}function sS(e,n){return e[P0]=n}var wy=null;var Ie=function(e,n=null,t){wy?.(e,n,t)},A0="svg",aS="math";function On(e){for(;Array.isArray(e);)e=e[fr];return e}function k0(e,n){return On(n[e])}function Ln(e,n){return On(n[e.index])}function sg(e,n){return e.data[n]}function lS(e,n){return e[n]}function An(e,n){let t=n[e];return Ar(t)?t:t[fr]}function cS(e){return(e[J]&4)===4}function ag(e){return(e[J]&128)===128}function uS(e){return hr(e[vt])}function xo(e,n){return n==null?null:e[n]}function R0(e){e[_o]=0}function N0(e){e[J]&1024||(e[J]|=1024,ag(e)&&mu(e))}function dS(e,n){for(;e>0;)n=n[Oo],e--;return n}function gu(e){return!!(e[J]&9216||e[Kt]?.dirty)}function cp(e){e[ar].changeDetectionScheduler?.notify(8),e[J]&64&&(e[J]|=1024),gu(e)&&mu(e)}function mu(e){e[ar].changeDetectionScheduler?.notify(0);let n=gi(e);for(;n!==null&&!(n[J]&8192||(n[J]|=8192,!ag(n)));)n=gi(n)}function L0(e,n){if(la(e))throw new R(911,!1);e[Or]===null&&(e[Or]=[]),e[Or].push(n)}function fS(e,n){if(e[Or]===null)return;let t=e[Or].indexOf(n);t!==-1&&e[Or].splice(t,1)}function gi(e){let n=e[vt];return hr(n)?n[vt]:n}function lg(e){return e[$c]??=[]}function cg(e){return e.cleanup??=[]}function hS(e,n,t,r){let i=lg(n);i.push(t),e.firstCreatePass&&cg(e).push(r,i.length-1)}var ce={lFrame:G0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var up=!1;function pS(){return ce.lFrame.elementDepthCount}function gS(){ce.lFrame.elementDepthCount++}function mS(){ce.lFrame.elementDepthCount--}function F0(){return ce.bindingsEnabled}function vS(){return ce.skipHydrationRootTNode!==null}function _S(e){return ce.skipHydrationRootTNode===e}function yS(){ce.skipHydrationRootTNode=null}function pe(){return ce.lFrame.lView}function at(){return ce.lFrame.tView}function te(e){return ce.lFrame.contextLView=e,e[ot]}function ne(e){return ce.lFrame.contextLView=null,e}function Ut(){let e=j0();for(;e!==null&&e.type===64;)e=e.parent;return e}function j0(){return ce.lFrame.currentTNode}function wS(){let e=ce.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function ca(e,n){let t=ce.lFrame;t.currentTNode=e,t.isParent=n}function V0(){return ce.lFrame.isParent}function bS(){ce.lFrame.isParent=!1}function B0(){return up}function by(e){let n=up;return up=e,n}function U0(){let e=ce.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function CS(e){return ce.lFrame.bindingIndex=e}function ko(){return ce.lFrame.bindingIndex++}function $0(e){let n=ce.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function ES(){return ce.lFrame.inI18n}function DS(e,n){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=e,dp(n)}function xS(){return ce.lFrame.currentDirectiveIndex}function dp(e){ce.lFrame.currentDirectiveIndex=e}function MS(e){let n=ce.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function z0(){return ce.lFrame.currentQueryIndex}function ug(e){ce.lFrame.currentQueryIndex=e}function IS(e){let n=e[K];return n.type===2?n.declTNode:n.type===1?e[pn]:null}function H0(e,n,t){if(t&ue.SkipSelf){let i=n,s=e;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=IS(s),i===null||(s=s[Oo],i.type&10))break;if(i===null)return!1;n=i,e=s}let r=ce.lFrame=q0();return r.currentTNode=n,r.lView=e,!0}function dg(e){let n=q0(),t=e[K];ce.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function q0(){let e=ce.lFrame,n=e===null?null:e.child;return n===null?G0(e):n}function G0(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function W0(){let e=ce.lFrame;return ce.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Z0=W0;function fg(){let e=W0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function SS(e){return(ce.lFrame.contextLView=dS(e,ce.lFrame.contextLView))[ot]}function kr(){return ce.lFrame.selectedIndex}function mi(e){ce.lFrame.selectedIndex=e}function vu(){let e=ce.lFrame;return sg(e.tView,e.selectedIndex)}function Fn(){ce.lFrame.currentNamespace=A0}function Rr(){TS()}function TS(){ce.lFrame.currentNamespace=null}function PS(){return ce.lFrame.currentNamespace}var Y0=!0;function hg(){return Y0}function pg(e){Y0=e}function OS(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){let a=T0(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}i&&(t.preOrderHooks??=[]).push(0-e,i),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}function K0(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let s=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:g}=s;a&&(e.contentHooks??=[]).push(-t,a),u&&((e.contentHooks??=[]).push(t,u),(e.contentCheckHooks??=[]).push(t,u)),d&&(e.viewHooks??=[]).push(-t,d),h&&((e.viewHooks??=[]).push(t,h),(e.viewCheckHooks??=[]).push(t,h)),g!=null&&(e.destroyHooks??=[]).push(t,g)}}function Ac(e,n,t){J0(e,n,3,t)}function kc(e,n,t,r){(e[J]&3)===t&&J0(e,n,t,r)}function zh(e,n){let t=e[J];(t&3)===n&&(t&=16383,t+=1,e[J]=t)}function J0(e,n,t,r){let i=r!==void 0?e[_o]&65535:0,s=r??-1,a=n.length-1,u=0;for(let d=i;d<a;d++)if(typeof n[d+1]=="number"){if(u=n[d],r!=null&&u>=r)break}else n[d]<0&&(e[_o]+=65536),(u<s||s==-1)&&(AS(e,t,n,d),e[_o]=(e[_o]&4294901760)+d+2),d++}function Cy(e,n){Ie(4,e,n);let t=se(null);try{n.call(e)}finally{se(t),Ie(5,e,n)}}function AS(e,n,t,r){let i=t[r]<0,s=t[r+1],a=i?-t[r]:t[r],u=e[a];i?e[J]>>14<e[_o]>>16&&(e[J]&3)===n&&(e[J]+=16384,Cy(u,s)):Cy(u,s)}var wo=-1,vi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function kS(e){return(e.flags&8)!==0}function RS(e){return(e.flags&16)!==0}function NS(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],a=t[r++],u=t[r++];e.setAttribute(n,a,u,s)}else{let s=i,a=t[++r];LS(s)?e.setProperty(n,s,a):e.setAttribute(n,s,a),r++}}return r}function Q0(e){return e===3||e===4||e===6}function LS(e){return e.charCodeAt(0)===64}function Js(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Ey(e,t,i,null,n[++r]):Ey(e,t,i,null,null))}}return e}function Ey(e,n,t,r,i){let s=0,a=e.length;if(n===-1)a=-1;else for(;s<e.length;){let u=e[s++];if(typeof u=="number"){if(u===n){a=-1;break}else if(u>n){a=s-1;break}}}for(;s<e.length;){let u=e[s];if(typeof u=="number")break;if(u===t){i!==null&&(e[s+1]=i);return}s++,i!==null&&s++}a!==-1&&(e.splice(a,0,n),s=a+1),e.splice(s++,0,t),i!==null&&e.splice(s++,0,i)}function X0(e){return e!==wo}function Gc(e){return e&32767}function FS(e){return e>>16}function Wc(e,n){let t=FS(e),r=n;for(;t>0;)r=r[Oo],t--;return r}var fp=!0;function Zc(e){let n=fp;return fp=e,n}var jS=256,ew=jS-1,tw=5,VS=0,Tn={};function BS(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Gs)&&(r=t[Gs]),r==null&&(r=t[Gs]=VS++);let i=r&ew,s=1<<i;n.data[e+(i>>tw)]|=s}function Yc(e,n){let t=nw(e,n);if(t!==-1)return t;let r=n[K];r.firstCreatePass&&(e.injectorIndex=n.length,Hh(r.data,e),Hh(n,null),Hh(r.blueprint,null));let i=gg(e,n),s=e.injectorIndex;if(X0(i)){let a=Gc(i),u=Wc(i,n),d=u[K].data;for(let h=0;h<8;h++)n[s+h]=u[a+h]|d[a+h]}return n[s+8]=i,s}function Hh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function nw(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function gg(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=aw(i),r===null)return wo;if(t++,i=i[Oo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return wo}function hp(e,n,t){BS(e,n,t)}function US(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(Q0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===n)return t[i+1];i=i+2}}}return null}function rw(e,n,t){if(t&ue.Optional||e!==void 0)return e;tg(n,"NodeInjector")}function iw(e,n,t,r){if(t&ue.Optional&&r===void 0&&(r=null),(t&(ue.Self|ue.Host))===0){let i=e[Eo],s=Pt(void 0);try{return i?i.get(n,r,t&ue.Optional):h0(n,r,t&ue.Optional)}finally{Pt(s)}}return rw(r,n,t)}function ow(e,n,t,r=ue.Default,i){if(e!==null){if(n[J]&2048&&!(r&ue.Self)){let a=qS(e,n,t,r,Tn);if(a!==Tn)return a}let s=sw(e,n,t,r,Tn);if(s!==Tn)return s}return iw(n,t,r,i)}function sw(e,n,t,r,i){let s=zS(t);if(typeof s=="function"){if(!H0(n,e,r))return r&ue.Host?rw(i,t,r):iw(n,t,r,i);try{let a;if(a=s(r),a==null&&!(r&ue.Optional))tg(t);else return a}finally{Z0()}}else if(typeof s=="number"){let a=null,u=nw(e,n),d=wo,h=r&ue.Host?n[fn][pn]:null;for((u===-1||r&ue.SkipSelf)&&(d=u===-1?gg(e,n):n[u+8],d===wo||!xy(r,!1)?u=-1:(a=n[K],u=Gc(d),n=Wc(d,n)));u!==-1;){let g=n[K];if(Dy(s,u,g.data)){let v=$S(u,n,t,a,r,h);if(v!==Tn)return v}d=n[u+8],d!==wo&&xy(r,n[K].data[u+8]===h)&&Dy(s,u,n)?(a=g,u=Gc(d),n=Wc(d,n)):u=-1}}return i}function $S(e,n,t,r,i,s){let a=n[K],u=a.data[e+8],d=r==null?Ao(u)&&fp:r!=a&&(u.type&3)!==0,h=i&ue.Host&&s===u,g=Rc(u,a,t,d,h);return g!==null?Qs(n,a,g,u):Tn}function Rc(e,n,t,r,i){let s=e.providerIndexes,a=n.data,u=s&1048575,d=e.directiveStart,h=e.directiveEnd,g=s>>20,v=r?u:u+g,w=i?u+g:h;for(let _=v;_<w;_++){let D=a[_];if(_<d&&t===D||_>=d&&D.type===t)return _}if(i){let _=a[d];if(_&&Pn(_)&&_.type===t)return d}return null}function Qs(e,n,t,r){let i=e[t],s=n.data;if(i instanceof vi){let a=i;a.resolving&&d0(PI(s[t]));let u=Zc(a.canSeeViewProviders);a.resolving=!0;let d,h=a.injectImpl?Pt(a.injectImpl):null,g=H0(e,r,ue.Default);try{i=e[t]=a.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&OS(t,s[t],n)}finally{h!==null&&Pt(h),Zc(u),a.resolving=!1,Z0()}}return i}function zS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Gs)?e[Gs]:void 0;return typeof n=="number"?n>=0?n&ew:HS:n}function Dy(e,n,t){let r=1<<e;return!!(t[n+(e>>tw)]&r)}function xy(e,n){return!(e&ue.Self)&&!(e&ue.Host&&n)}var ui=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return ow(this._tNode,this._lView,n,du(r),t)}};function HS(){return new ui(Ut(),pe())}function bi(e){return oa(()=>{let n=e.prototype.constructor,t=n[Fc]||pp(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let s=i[Fc]||pp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function pp(e){return s0(e)?()=>{let n=pp(bt(e));return n&&n()}:di(e)}function qS(e,n,t,r,i){let s=e,a=n;for(;s!==null&&a!==null&&a[J]&2048&&!qc(a);){let u=sw(s,a,t,r|ue.Self,Tn);if(u!==Tn)return u;let d=s.parent;if(!d){let h=a[x0];if(h){let g=h.get(t,Tn,r);if(g!==Tn)return g}d=aw(a),a=a[Oo]}s=d}return i}function aw(e){let n=e[K],t=n.type;return t===2?n.declTNode:t===1?e[pn]:null}function mg(e){return US(Ut(),e)}function My(e,n=null,t=null,r){let i=lw(e,n,t,r);return i.resolveInjectorInitializers(),i}function lw(e,n=null,t=null,r,i=new Set){let s=[t||Ot,WI(e)];return r=r||(typeof e=="object"?void 0:At(e)),new Zs(s,n||ig(),r||null,i)}var kn=class e{static THROW_IF_NOT_FOUND=ci;static NULL=new Uc;static create(n,t){if(Array.isArray(n))return My({name:""},t,n,"");{let r=n.name??"";return My({name:r},n.parent,n.providers,r)}}static \u0275prov=V({token:e,providedIn:"any",factory:()=>U(m0)});static __NG_ELEMENT_ID__=-1};var GS=new j("");GS.__NG_ELEMENT_ID__=e=>{let n=Ut();if(n===null)throw new R(204,!1);if(n.type&2)return n.value;if(e&ue.Optional)return null;throw new R(204,!1)};var cw=!1,Nr=(()=>{class e{static __NG_ELEMENT_ID__=WS;static __NG_ENV_ID__=t=>t}return e})(),gp=class extends Nr{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return L0(this._lView,n),()=>fS(this._lView,n)}};function WS(){return new gp(pe())}var Mo=class{},vg=new j("",{providedIn:"root",factory:()=>!1});var uw=new j(""),_g=new j(""),Lr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ht(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})();var mp=class extends ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,E0()&&(this.destroyRef=P(Nr,{optional:!0})??void 0,this.pendingTasks=P(Lr,{optional:!0})??void 0)}emit(n){let t=se(null);try{super.next(n)}finally{se(t)}}subscribe(n,t,r){let i=n,s=t||(()=>null),a=r;if(n&&typeof n=="object"){let d=n;i=d.next?.bind(d),s=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let u=super.subscribe({next:i,error:s,complete:a});return n instanceof Fe&&n.add(u),u}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},je=mp;function Kc(...e){}function dw(e){let n,t;function r(){e=Kc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Iy(e){return queueMicrotask(()=>e()),()=>{e=Kc}}var yg="isAngularZone",Jc=yg+"_ID",ZS=0,st=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new je(!1);onMicrotaskEmpty=new je(!1);onStable=new je(!1);onError=new je(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=cw}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,JS(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new R(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,n,YS,Kc,Kc);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},YS={};function wg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function KS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){dw(()=>{e.callbackScheduled=!1,vp(e),e.isCheckStableRunning=!0,wg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),vp(e)}function JS(e){let n=()=>{KS(e)},t=ZS++;e._inner=e._inner.fork({name:"angular",properties:{[yg]:!0,[Jc]:t,[Jc+t]:!0},onInvokeTask:(r,i,s,a,u,d)=>{if(QS(d))return r.invokeTask(s,a,u,d);try{return Sy(e),r.invokeTask(s,a,u,d)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Ty(e)}},onInvoke:(r,i,s,a,u,d,h)=>{try{return Sy(e),r.invoke(s,a,u,d,h)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!XS(d)&&n(),Ty(e)}},onHasTask:(r,i,s,a)=>{r.hasTask(s,a),i===s&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,vp(e),wg(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,s,a)=>(r.handleError(s,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function vp(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Sy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ty(e){e._nesting--,wg(e)}var Qc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new je;onMicrotaskEmpty=new je;onStable=new je;onError=new je;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function QS(e){return fw(e,"__ignore_ng_zone__")}function XS(e){return fw(e,"__scheduler_tick__")}function fw(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var cr=class{_console=console;handleError(n){this._console.error("ERROR",n)}},eT=new j("",{providedIn:"root",factory:()=>{let e=P(st),n=P(cr);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Py(e,n){return i0(e,n)}function tT(e){return i0(r0,e)}var hw=(Py.required=tT,Py);function nT(){return Ro(Ut(),pe())}function Ro(e,n){return new gn(Ln(e,n))}var gn=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=nT}return e})();function rT(e){return e instanceof gn?e.nativeElement:e}function iT(e){return typeof e=="function"&&e[Yt]!==void 0}function we(e,n){let t=_h(e,n?.equal),r=t[Yt];return t.set=i=>Vs(r,i),t.update=i=>yh(r,i),t.asReadonly=oT.bind(t),t}function oT(){let e=this[Yt];if(e.readonlyFn===void 0){let n=()=>this();n[Yt]=e,e.readonlyFn=n}return e.readonlyFn}function pw(e){return iT(e)&&typeof e.set=="function"}function sT(){return this._results[Symbol.iterator]()}var _p=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ke}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=$I(n);(this._changesDetected=!UI(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=sT};function gw(e){return(e.flags&128)===128}var mw=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(mw||{}),vw=new Map,aT=0;function lT(){return aT++}function cT(e){vw.set(e[pu],e)}function yp(e){vw.delete(e[pu])}var Oy="__ngContext__";function ua(e,n){Ar(n)?(e[Oy]=n[pu],cT(n)):e[Oy]=n}function _w(e){return ww(e[Ks])}function yw(e){return ww(e[dn])}function ww(e){for(;e!==null&&!hr(e);)e=e[dn];return e}var wp;function bw(e){wp=e}function uT(){if(wp!==void 0)return wp;if(typeof document<"u")return document;throw new R(210,!1)}var bg=new j("",{providedIn:"root",factory:()=>dT}),dT="ng",Cg=new j(""),Ci=new j("",{providedIn:"platform",factory:()=>"unknown"});var Eg=new j("",{providedIn:"root",factory:()=>uT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fT="h",hT="b";var Cw=!1,pT=new j("",{providedIn:"root",factory:()=>Cw});var Ew=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ew||{}),_u=new j(""),Ay=new Set;function da(e){Ay.has(e)||(Ay.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var gT=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}return e})();var mT=()=>null;function Dw(e,n,t=!1){return mT(e,n,t)}function xw(e,n){let t=e.contentQueries;if(t!==null){let r=se(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a!==-1){let u=e.data[a];ug(s),u.contentQueries(2,n[a],a)}}}finally{se(r)}}}function bp(e,n,t){ug(0);let r=se(null);try{n(e,t)}finally{se(r)}}function Mw(e,n,t){if(I0(n)){let r=se(null);try{let i=n.directiveStart,s=n.directiveEnd;for(let a=i;a<s;a++){let u=e.data[a];if(u.contentQueries){let d=t[a];u.contentQueries(1,d,a)}}}finally{se(r)}}}var Rn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Rn||{}),Sc;function vT(){if(Sc===void 0&&(Sc=null,sr.trustedTypes))try{Sc=sr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Sc}function _T(e){return vT()?.createScriptURL(e)||e}var Tc;function yT(){if(Tc===void 0&&(Tc=null,sr.trustedTypes))try{Tc=sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Tc}function ky(e){return yT()?.createScriptURL(e)||e}var Xc=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${n0})`}};function fa(e){return e instanceof Xc?e.changingThisBreaksApplicationSecurity:e}function Iw(e,n){let t=wT(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${n0})`)}return t===n}function wT(e){return e instanceof Xc&&e.getTypeName()||null}var bT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CT(e){return e=String(e),e.match(bT)?e:"unsafe:"+e}var Dg=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Dg||{});function mn(e){let n=Pw();return n?n.sanitize(Dg.URL,e)||"":Iw(e,"URL")?fa(e):CT(uu(e))}function ET(e){let n=Pw();if(n)return ky(n.sanitize(Dg.RESOURCE_URL,e)||"");if(Iw(e,"ResourceURL"))return ky(fa(e));throw new R(904,!1)}function Sw(e){return _T(e[0])}function DT(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?ET:mn}function Tw(e,n,t){return DT(n,t)(e)}function Pw(){let e=pe();return e&&e[ar].sanitizer}function Ow(e){return e instanceof Function?e():e}function xT(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}var Aw="ng-template";function MT(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&xT(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xg(e))return!1;if(i=n.indexOf(1,i),i>-1){let s;for(;++i<n.length&&typeof(s=n[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function xg(e){return e.type===4&&e.value!==Aw}function IT(e,n,t){let r=e.type===4&&!t?Aw:e.value;return n===r}function ST(e,n,t){let r=4,i=e.attrs,s=i!==null?OT(i):0,a=!1;for(let u=0;u<n.length;u++){let d=n[u];if(typeof d=="number"){if(!a&&!un(r)&&!un(d))return!1;if(a&&un(d))continue;a=!1,r=d|r&1;continue}if(!a)if(r&4){if(r=2|r&1,d!==""&&!IT(e,d,t)||d===""&&n.length===1){if(un(r))return!1;a=!0}}else if(r&8){if(i===null||!MT(e,i,d,t)){if(un(r))return!1;a=!0}}else{let h=n[++u],g=TT(d,i,xg(e),t);if(g===-1){if(un(r))return!1;a=!0;continue}if(h!==""){let v;if(g>s?v="":v=i[g+1].toLowerCase(),r&2&&h!==v){if(un(r))return!1;a=!0}}}}return un(r)||a}function un(e){return(e&1)===0}function TT(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){let a=n[i];if(a===e)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let u=n[++i];for(;typeof u=="string";)u=n[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return AT(n,e)}function PT(e,n,t=!1){for(let r=0;r<n.length;r++)if(ST(e,n[r],t))return!0;return!1}function OT(e){for(let n=0;n<e.length;n++){let t=e[n];if(Q0(t))return n}return e.length}function AT(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Ry(e,n){return e?":not("+n.trim()+")":n}function kT(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let a=e[t];if(typeof a=="string")if(r&2){let u=e[++t];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!un(a)&&(n+=Ry(s,i),i=""),r=a,s=s||!un(r);t++}return i!==""&&(n+=Ry(s,i)),n}function RT(e){return e.map(kT).join(",")}function NT(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let s=e[r];if(typeof s=="string")i===2?s!==""&&n.push(s,e[++r]):i===8&&t.push(s);else{if(!un(i))break;i=s}r++}return t.length&&n.push(1,...t),n}var vn={};function LT(e,n){return e.createText(n)}function FT(e,n,t){e.setValue(n,t)}function kw(e,n,t){return e.createElement(n,t)}function eu(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Rw(e,n,t){e.appendChild(n,t)}function Ny(e,n,t,r,i){r!==null?eu(e,n,t,r,i):Rw(e,n,t)}function jT(e,n,t){e.removeChild(null,n,t)}function VT(e,n,t){e.setAttribute(n,"style",t)}function BT(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Nw(e,n,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&NS(e,n,r),i!==null&&BT(e,n,i),s!==null&&VT(e,n,s)}function Mg(e,n,t,r,i,s,a,u,d,h,g){let v=kt+r,w=v+i,_=UT(v,w),D=typeof h=="function"?h():h;return _[K]={type:e,blueprint:_,template:t,queries:null,viewQuery:u,declTNode:n,data:_.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:D,incompleteFirstPass:!1,ssrId:g}}function UT(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:vn);return t}function $T(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Mg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ig(e,n,t,r,i,s,a,u,d,h,g){let v=n.blueprint.slice();return v[fr]=i,v[J]=r|4|128|8|64|1024,(h!==null||e&&e[J]&2048)&&(v[J]|=2048),R0(v),v[vt]=v[Oo]=e,v[ot]=t,v[ar]=a||e&&e[ar],v[Ue]=u||e&&e[Ue],v[Eo]=d||e&&e[Eo]||null,v[pn]=s,v[pu]=lT(),v[Ys]=g,v[x0]=h,v[fn]=n.type==2?e[fn]:v,v}function zT(e,n,t){let r=Ln(n,e),i=$T(t),s=e[ar].rendererFactory,a=Sg(e,Ig(e,i,null,Lw(t),r,n,null,s.createRenderer(r,t),null,null,null));return e[n.index]=a}function Lw(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Fw(e,n,t,r){if(t===0)return-1;let i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Sg(e,n){return e[Ks]?e[yy][dn]=n:e[Ks]=n,e[yy]=n,n}function O(e=1){jw(at(),pe(),kr()+e,!1)}function jw(e,n,t,r){if(!r)if((n[J]&3)===3){let s=e.preOrderCheckHooks;s!==null&&Ac(n,s,t)}else{let s=e.preOrderHooks;s!==null&&kc(n,s,0,t)}mi(t)}var yu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yu||{});function Cp(e,n,t,r){let i=se(null);try{let[s,a,u]=e.inputs[t],d=null;(a&yu.SignalBased)!==0&&(d=n[s][Yt]),d!==null&&d.transformFn!==void 0?r=d.transformFn(r):u!==null&&(r=u.call(n,r)),e.setInput!==null?e.setInput(n,d,r,t,s):S0(n,d,s,r)}finally{se(i)}}function Vw(e,n,t,r,i){let s=kr(),a=r&2;try{mi(-1),a&&n.length>kt&&jw(e,n,kt,!1),Ie(a?2:0,i),t(r,i)}finally{mi(s),Ie(a?3:1,i)}}function Tg(e,n,t){YT(e,n,t),(t.flags&64)===64&&KT(e,n,t)}function Bw(e,n,t=Ln){let r=n.localNames;if(r!==null){let i=n.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],u=a===-1?t(n,e):e[a];e[i++]=u}}}function HT(e,n,t,r){let s=r.get(pT,Cw)||t===Rn.ShadowDom,a=e.selectRootElement(n,s);return qT(a),a}function qT(e){GT(e)}var GT=()=>null;function WT(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Pg(e,n,t,r,i,s,a,u){if(!u&&Og(n,e,t,r,i)){Ao(n)&&ZT(t,n.index);return}if(n.type&3){let d=Ln(n,t);r=WT(r),i=a!=null?a(i,n.value||"",r):i,s.setProperty(d,r,i)}else n.type&12}function ZT(e,n){let t=An(n,e);t[J]&16||(t[J]|=64)}function YT(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Ao(t)&&zT(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Yc(t,n);let s=t.initialInputs;for(let a=r;a<i;a++){let u=e.data[a],d=Qs(n,e,a,t);if(ua(d,n),s!==null&&eP(n,a-r,d,u,t,s),Pn(u)){let h=An(t.index,n);h[ot]=Qs(n,e,a,t)}}}function KT(e,n,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,a=xS();try{mi(s);for(let u=r;u<i;u++){let d=e.data[u],h=n[u];dp(u),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&JT(d,h)}}finally{mi(-1),dp(a)}}function JT(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Uw(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];PT(n,s.selectors,!1)&&(r??=[],Pn(s)?r.unshift(s):r.push(s))}return r}function QT(e,n,t,r,i,s){let a=Ln(e,n);XT(n[Ue],a,s,e.value,t,r,i)}function XT(e,n,t,r,i,s,a){if(s==null)e.removeAttribute(n,i,t);else{let u=a==null?uu(s):a(s,r||"",i);e.setAttribute(n,i,u,t)}}function eP(e,n,t,r,i,s){let a=s[n];if(a!==null)for(let u=0;u<a.length;u+=2){let d=a[u],h=a[u+1];Cp(r,t,d,h)}}function tP(e,n){let t=e[Eo],r=t?t.get(cr,null):null;r&&r.handleError(n)}function Og(e,n,t,r,i){let s=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],u=!1;if(a)for(let d=0;d<a.length;d+=2){let h=a[d],g=a[d+1],v=n.data[h];Cp(v,t[h],g,i),u=!0}if(s)for(let d of s){let h=t[d],g=n.data[d];Cp(g,h,r,i),u=!0}return u}function nP(e,n){let t=An(n,e),r=t[K];rP(r,t);let i=t[fr];i!==null&&t[Ys]===null&&(t[Ys]=Dw(i,t[Eo])),Ie(18),Ag(r,t,t[ot]),Ie(19,t[ot])}function rP(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Ag(e,n,t){dg(n);try{let r=e.viewQuery;r!==null&&bp(1,r,t);let i=e.template;i!==null&&Vw(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[lr]?.finishViewCreation(e),e.staticContentQueries&&xw(e,n),e.staticViewQueries&&bp(2,e.viewQuery,t);let s=e.components;s!==null&&iP(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[J]&=-5,fg()}}function iP(e,n){for(let t=0;t<n.length;t++)nP(e,n[t])}function wu(e,n,t,r){let i=se(null);try{let s=n.tView,u=e[J]&4096?4096:16,d=Ig(e,s,t,u,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=e[n.index];d[hi]=h;let g=e[lr];return g!==null&&(d[lr]=g.createEmbeddedView(s)),Ag(s,d,t),d}finally{se(i)}}function Xs(e,n){return!n||n.firstChild===null||gw(e)}var oP;function kg(e,n){return oP(e,n)}var ur=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ur||{});function $w(e){return(e.flags&32)===32}function yo(e,n,t,r,i){if(r!=null){let s,a=!1;hr(r)?s=r:Ar(r)&&(a=!0,r=r[fr]);let u=On(r);e===0&&t!==null?i==null?Rw(n,t,u):eu(n,t,u,i||null,!0):e===1&&t!==null?eu(n,t,u,i||null,!0):e===2?jT(n,u,a):e===3&&n.destroyNode(u),s!=null&&vP(n,e,s,t,i)}}function sP(e,n){zw(e,n),n[fr]=null,n[pn]=null}function aP(e,n,t,r,i,s){r[fr]=i,r[pn]=n,Cu(e,r,t,1,i,s)}function zw(e,n){n[ar].changeDetectionScheduler?.notify(9),Cu(e,n,n[Ue],2,null,null)}function lP(e){let n=e[Ks];if(!n)return qh(e[K],e);for(;n;){let t=null;if(Ar(n))t=n[Ks];else{let r=n[mt];r&&(t=r)}if(!t){for(;n&&!n[dn]&&n!==e;)Ar(n)&&qh(n[K],n),n=n[vt];n===null&&(n=e),Ar(n)&&qh(n[K],n),t=n&&n[dn]}n=t}}function Rg(e,n){let t=e[Do],r=t.indexOf(n);t.splice(r,1)}function bu(e,n){if(la(n))return;let t=n[Ue];t.destroyNode&&Cu(e,n,t,3,null,null),lP(n)}function qh(e,n){if(la(n))return;let t=se(null);try{n[J]&=-129,n[J]|=256,n[Kt]&&gh(n[Kt]),uP(e,n),cP(e,n),n[K].type===1&&n[Ue].destroy();let r=n[hi];if(r!==null&&hr(n[vt])){r!==n[vt]&&Rg(r,n);let i=n[lr];i!==null&&i.detachView(e)}yp(n)}finally{se(t)}}function cP(e,n){let t=e.cleanup,r=n[$c];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let u=t[a+3];u>=0?r[u]():r[-u].unsubscribe(),a+=2}else{let u=r[t[a+1]];t[a].call(u)}r!==null&&(n[$c]=null);let i=n[Or];if(i!==null){n[Or]=null;for(let a=0;a<i.length;a++){let u=i[a];u()}}let s=n[zc];if(s!==null){n[zc]=null;for(let a of s)a.destroy()}}function uP(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof vi)){let s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let u=i[s[a]],d=s[a+1];Ie(4,u,d);try{d.call(u)}finally{Ie(5,u,d)}}else{Ie(4,i,s);try{s.call(i)}finally{Ie(5,i,s)}}}}}function dP(e,n,t){return fP(e,n.parent,t)}function fP(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[fr];if(Ao(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Rn.None||i===Rn.Emulated)return null}return Ln(r,t)}function hP(e,n,t){return gP(e,n,t)}function pP(e,n,t){return e.type&40?Ln(e,t):null}var gP=pP,Ly;function Ng(e,n,t,r){let i=dP(e,r,n),s=n[Ue],a=r.parent||n[pn],u=hP(a,r,n);if(i!=null)if(Array.isArray(t))for(let d=0;d<t.length;d++)Ny(s,i,t[d],u,!1);else Ny(s,i,t,u,!1);Ly!==void 0&&Ly(s,r,n,t,i)}function qs(e,n){if(n!==null){let t=n.type;if(t&3)return Ln(n,e);if(t&4)return Ep(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return qs(e,r);{let i=e[n.index];return hr(i)?Ep(-1,i):On(i)}}else{if(t&128)return qs(e,n.next);if(t&32)return kg(n,e)()||On(e[n.index]);{let r=Hw(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=gi(e[fn]);return qs(i,r)}else return qs(e,n.next)}}}return null}function Hw(e,n){if(n!==null){let r=e[fn][pn],i=n.projection;return r.projection[i]}return null}function Ep(e,n){let t=mt+e+1;if(t<n.length){let r=n[t],i=r[K].firstChild;if(i!==null)return qs(r,i)}return n[pi]}function Lg(e,n,t,r,i,s,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let u=r[t.index],d=t.type;if(a&&n===0&&(u&&ua(On(u),r),t.flags|=2),!$w(t))if(d&8)Lg(e,n,t.child,r,i,s,!1),yo(n,e,i,u,s);else if(d&32){let h=kg(t,r),g;for(;g=h();)yo(n,e,i,g,s);yo(n,e,i,u,s)}else d&16?mP(e,n,r,t,i,s):yo(n,e,i,u,s);t=a?t.projectionNext:t.next}}function Cu(e,n,t,r,i,s){Lg(t,r,e.firstChild,n,i,s,!1)}function mP(e,n,t,r,i,s){let a=t[fn],d=a[pn].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let g=d[h];yo(n,e,i,g,s)}else{let h=d,g=a[vt];gw(r)&&(h.flags|=128),Lg(e,n,h,g,i,s,!0)}}function vP(e,n,t,r,i){let s=t[pi],a=On(t);s!==a&&yo(n,e,r,s,i);for(let u=mt;u<t.length;u++){let d=t[u];Cu(d[K],d,e,n,r,s)}}function _P(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?e.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ur.Important),e.setStyle(t,r,i,s))}}function tu(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=n[t.index];s!==null&&r.push(On(s)),hr(s)&&yP(s,r);let a=t.type;if(a&8)tu(e,n,t.child,r);else if(a&32){let u=kg(t,n),d;for(;d=u();)r.push(d)}else if(a&16){let u=Hw(n,t);if(Array.isArray(u))r.push(...u);else{let d=gi(n[fn]);tu(d[K],d,u,r,!0)}}t=i?t.projectionNext:t.next}return r}function yP(e,n){for(let t=mt;t<e.length;t++){let r=e[t],i=r[K].firstChild;i!==null&&tu(r[K],r,i,n)}e[pi]!==e[fr]&&n.push(e[pi])}function qw(e){if(e[$h]!==null){for(let n of e[$h])n.impl.addSequence(n);e[$h].length=0}}var Gw=[];function wP(e){return e[Kt]??bP(e)}function bP(e){let n=Gw.pop()??Object.create(EP);return n.lView=e,n}function CP(e){e.lView[Kt]!==e&&(e.lView=null,Gw.push(e))}var EP=Z(A({},Fs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{mu(e.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function DP(e){let n=e[Kt]??Object.create(xP);return n.lView=e,n}var xP=Z(A({},Fs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=gi(e.lView);for(;n&&!Ww(n[K]);)n=gi(n);n&&N0(n)},consumerOnSignalRead(){this.lView[Kt]=this}});function Ww(e){return e.type!==2}function Zw(e){if(e[zc]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[zc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[J]&8192)}}var MP=100;function Yw(e,n=!0,t=0){let i=e[ar].rendererFactory,s=!1;s||i.begin?.();try{IP(e,t)}catch(a){throw n&&tP(e,a),a}finally{s||i.end?.()}}function IP(e,n){let t=B0();try{by(!0),Dp(e,n);let r=0;for(;gu(e);){if(r===MP)throw new R(103,!1);r++,Dp(e,1)}}finally{by(t)}}function SP(e,n,t,r){if(la(n))return;let i=n[J],s=!1,a=!1;dg(n);let u=!0,d=null,h=null;s||(Ww(e)?(h=wP(n),d=Yl(h)):ch()===null?(u=!1,h=DP(n),d=Yl(h)):n[Kt]&&(gh(n[Kt]),n[Kt]=null));try{R0(n),CS(e.bindingStartIndex),t!==null&&Vw(e,n,t,2,r);let g=(i&3)===3;if(!s)if(g){let _=e.preOrderCheckHooks;_!==null&&Ac(n,_,null)}else{let _=e.preOrderHooks;_!==null&&kc(n,_,0,null),zh(n,0)}if(a||TP(n),Zw(n),Kw(n,0),e.contentQueries!==null&&xw(e,n),!s)if(g){let _=e.contentCheckHooks;_!==null&&Ac(n,_)}else{let _=e.contentHooks;_!==null&&kc(n,_,1),zh(n,1)}OP(e,n);let v=e.components;v!==null&&Qw(n,v,0);let w=e.viewQuery;if(w!==null&&bp(2,w,r),!s)if(g){let _=e.viewCheckHooks;_!==null&&Ac(n,_)}else{let _=e.viewHooks;_!==null&&kc(n,_,2),zh(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Uh]){for(let _ of n[Uh])_();n[Uh]=null}s||(qw(n),n[J]&=-73)}catch(g){throw s||mu(n),g}finally{h!==null&&(hh(h,d),u&&CP(h)),fg()}}function Kw(e,n){for(let t=_w(e);t!==null;t=yw(t))for(let r=mt;r<t.length;r++){let i=t[r];Jw(i,n)}}function TP(e){for(let n=_w(e);n!==null;n=yw(n)){if(!(n[J]&2))continue;let t=n[Do];for(let r=0;r<t.length;r++){let i=t[r];N0(i)}}}function PP(e,n,t){Ie(18);let r=An(n,e);Jw(r,t),Ie(19,r[ot])}function Jw(e,n){ag(e)&&Dp(e,n)}function Dp(e,n){let r=e[K],i=e[J],s=e[Kt],a=!!(n===0&&i&16);if(a||=!!(i&64&&n===0),a||=!!(i&1024),a||=!!(s?.dirty&&ph(s)),a||=!1,s&&(s.dirty=!1),e[J]&=-9217,a)SP(r,e,r.template,e[ot]);else if(i&8192){Zw(e),Kw(e,1);let u=r.components;u!==null&&Qw(e,u,1),qw(e)}}function Qw(e,n,t){for(let r=0;r<n.length;r++)PP(e,n[r],t)}function OP(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)mi(~i);else{let s=i,a=t[++r],u=t[++r];DS(a,s);let d=n[s];Ie(24,d),u(2,d),Ie(25,d)}}}finally{mi(-1)}}function Fg(e,n){let t=B0()?64:1088;for(e[ar].changeDetectionScheduler?.notify(n);e;){e[J]|=t;let r=gi(e);if(qc(e)&&!r)return e;e=r}return null}function Xw(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function eb(e,n){let t=mt+n;if(t<e.length)return e[t]}function Eu(e,n,t,r=!0){let i=n[K];if(AP(i,n,e,t),r){let a=Ep(t,e),u=n[Ue],d=u.parentNode(e[pi]);d!==null&&aP(i,e[pn],u,n,d,a)}let s=n[Ys];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function tb(e,n){let t=ea(e,n);return t!==void 0&&bu(t[K],t),t}function ea(e,n){if(e.length<=mt)return;let t=mt+n,r=e[t];if(r){let i=r[hi];i!==null&&i!==e&&Rg(i,r),n>0&&(e[t-1][dn]=r[dn]);let s=Bc(e,mt+n);sP(r[K],r);let a=s[lr];a!==null&&a.detachView(s[K]),r[vt]=null,r[dn]=null,r[J]&=-129}return r}function AP(e,n,t,r){let i=mt+r,s=t.length;r>0&&(t[i-1][dn]=n),r<s-mt?(n[dn]=t[i],g0(t,mt+r,n)):(t.push(n),n[dn]=null),n[vt]=t;let a=n[hi];a!==null&&t!==a&&nb(a,n);let u=n[lr];u!==null&&u.insertView(e),cp(n),n[J]|=128}function nb(e,n){let t=e[Do],r=n[vt];if(Ar(r))e[J]|=2;else{let i=r[vt][fn];n[fn]!==i&&(e[J]|=2)}t===null?e[Do]=[n]:t.push(n)}var ta=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[K];return tu(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ot]}set context(n){this._lView[ot]=n}get destroyed(){return la(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[vt];if(hr(n)){let t=n[Hc],r=t?t.indexOf(this):-1;r>-1&&(ea(n,r),Bc(t,r))}this._attachedToViewContainer=!1}bu(this._lView[K],this._lView)}onDestroy(n){L0(this._lView,n)}markForCheck(){Fg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){cp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,Yw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=qc(this._lView),t=this._lView[hi];t!==null&&!n&&Rg(t,this._lView),zw(this._lView[K],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;let t=qc(this._lView),r=this._lView[hi];r!==null&&!t&&nb(r,this._lView),cp(this._lView)}};var _i=(()=>{class e{static __NG_ELEMENT_ID__=NP}return e})(),kP=_i,RP=class extends kP{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let i=wu(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new ta(i)}};function NP(){return jg(Ut(),pe())}function jg(e,n){return e.type&4?new RP(n,e,Ro(e,n)):null}function Vg(e,n,t,r,i){let s=e.data[n];if(s===null)s=LP(e,n,t,r,i),ES()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let a=wS();s.injectorIndex=a===null?-1:a.injectorIndex}return ca(s,!0),s}function LP(e,n,t,r,i){let s=j0(),a=V0(),u=a?s:s&&s.parent,d=e.data[n]=jP(e,u,t,n,r,i);return FP(e,d,s,a),d}function FP(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function jP(e,n,t,r,i,s){let a=n?n.injectorIndex:-1,u=0;return vS()&&(u|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var y$=new RegExp(`^(\\d+)*(${hT}|${fT})*(.*)`);var VP=()=>null;function na(e,n){return VP(e,n)}var BP=class{},rb=class{},xp=class{resolveComponentFactory(n){throw Error(`No component factory found for ${At(n)}.`)}},Du=class{static NULL=new xp},Io=class{},Ei=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>UP()}return e})();function UP(){let e=pe(),n=Ut(),t=An(n.index,e);return(Ar(t)?t:e)[Ue]}var $P=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:()=>null})}return e})();var Gh={},Mp=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=du(r);let i=this.injector.get(n,Gh,r);return i!==Gh||t===Gh?i:this.parentInjector.get(n,t,r)}};function Fy(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(n!==null)for(let a=0;a<n.length;a++){let u=n[a];if(typeof u=="number")s=u;else if(s==1)i=tp(i,u);else if(s==2){let d=u,h=n[++a];r=tp(r,d+": "+h+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function F(e,n=ue.Default){let t=pe();if(t===null)return U(e,n);let r=Ut();return ow(r,t,bt(e),n)}function ib(e,n,t,r,i){let s=r===null?null:{"":-1},a=i(e,t);if(a!==null){let u,d=null,h=null,g=HP(a);g===null?u=a:[u,d,h]=g,WP(e,n,t,u,s,d,h)}s!==null&&r!==null&&zP(t,r,s)}function zP(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let s=t[n[i+1]];if(s==null)throw new R(-301,!1);r.push(n[i],s)}}function HP(e){let n=null,t=!1;for(let a=0;a<e.length;a++){let u=e[a];if(a===0&&Pn(u)&&(n=u),u.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let a of e)a.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,qP(a,r,s,i)),a===n&&(r??=[],r.push(a));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,i,s]):null}function qP(e,n,t,r){let i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function GP(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function WP(e,n,t,r,i,s,a){let u=r.length,d=!1;for(let w=0;w<u;w++){let _=r[w];!d&&Pn(_)&&(d=!0,GP(e,t,w)),hp(Yc(t,n),e,_.type)}XP(t,e.data.length,u);for(let w=0;w<u;w++){let _=r[w];_.providersResolver&&_.providersResolver(_)}let h=!1,g=!1,v=Fw(e,n,u,null);u>0&&(t.directiveToIndex=new Map);for(let w=0;w<u;w++){let _=r[w];if(t.mergedAttrs=Js(t.mergedAttrs,_.hostAttrs),YP(e,t,n,v,_),QP(v,_,i),a!==null&&a.has(_)){let[I,T]=a.get(_);t.directiveToIndex.set(_.type,[v,I+t.directiveStart,T+t.directiveStart])}else(s===null||!s.has(_))&&t.directiveToIndex.set(_.type,v);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let D=_.type.prototype;!h&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),h=!0),!g&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),g=!0),v++}ZP(e,t,s)}function ZP(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))jy(0,n,i,r),jy(1,n,i,r),By(n,r,!1);else{let s=t.get(i);Vy(0,n,s,r),Vy(1,n,s,r),By(n,r,!0)}}}function jy(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let a;e===0?a=n.inputs??={}:a=n.outputs??={},a[s]??=[],a[s].push(r),ob(n,s)}}function Vy(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let a=i[s],u;e===0?u=n.hostDirectiveInputs??={}:u=n.hostDirectiveOutputs??={},u[a]??=[],u[a].push(r,s),ob(n,a)}}function ob(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function By(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=e;if(r===null||!t&&i===null||t&&s===null||xg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,u=0;for(;u<r.length;){let d=r[u];if(d===0){u+=4;continue}else if(d===5){u+=2;continue}else if(typeof d=="number")break;if(!t&&i.hasOwnProperty(d)){let h=i[d];for(let g of h)if(g===n){a??=[],a.push(d,r[u+1]);break}}else if(t&&s.hasOwnProperty(d)){let h=s[d];for(let g=0;g<h.length;g+=2)if(h[g]===n){a??=[],a.push(h[g+1],r[u+1]);break}}u+=2}e.initialInputs??=[],e.initialInputs.push(a)}function YP(e,n,t,r,i){e.data[r]=i;let s=i.factory||(i.factory=di(i.type,!0)),a=new vi(s,Pn(i),F);e.blueprint[r]=a,t[r]=a,KP(e,n,r,Fw(e,t,i.hostVars,vn),i)}function KP(e,n,t,r,i){let s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let u=~n.index;JP(a)!=u&&a.push(u),a.push(t,r,s)}}function JP(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function QP(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Pn(n)&&(t[""]=e)}}function XP(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function sb(e,n,t,r,i,s,a,u){let d=n.consts,h=xo(d,a),g=Vg(n,e,2,r,h);return s&&ib(n,t,g,xo(d,u),i),g.mergedAttrs=Js(g.mergedAttrs,g.attrs),g.attrs!==null&&Fy(g,g.attrs,!1),g.mergedAttrs!==null&&Fy(g,g.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,g),g}function ab(e,n){K0(e,n),I0(n)&&e.queries.elementEnd(n)}var nu=class extends Du{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=bo(n);return new ra(t,this.ngModule)}};function eO(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],s={propName:t,templateName:n,isSignal:(r&yu.SignalBased)!==0};return i&&(s.transform=i),s})}function tO(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function nO(e,n,t){let r=n instanceof Ct?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Mp(t,r):t}function rO(e){let n=e.get(Io,null);if(n===null)throw new R(407,!1);let t=e.get($P,null),r=e.get(Mo,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function iO(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return kw(n,t,t==="svg"?A0:t==="math"?aS:null)}var ra=class extends rb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=eO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tO(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=RT(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){Ie(22);let s=se(null);try{let a=this.componentDef,u=r?["ng-version","19.2.8"]:NT(this.componentDef.selectors[0]),d=Mg(0,null,null,1,0,null,null,null,null,[u],null),h=nO(a,i||this.ngModule,n),g=rO(h),v=g.rendererFactory.createRenderer(null,a),w=r?HT(v,r,a.encapsulation,h):iO(a,v),_=Ig(null,d,null,512|Lw(a),null,null,g,v,h,null,Dw(w,h,!0));_[kt]=w,dg(_);let D=null;try{let I=sb(kt,d,_,"#host",()=>[this.componentDef],!0,0);w&&(Nw(v,w,I),ua(w,_)),Tg(d,_,I),Mw(d,I,_),ab(d,I),t!==void 0&&oO(I,this.ngContentSelectors,t),D=An(I.index,_),_[ot]=D[ot],Ag(d,_,null)}catch(I){throw D!==null&&yp(D),yp(_),I}finally{Ie(23),fg()}return new Ip(this.componentType,_)}finally{se(s)}}},Ip=class extends BP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=sg(t[K],kt),this.location=Ro(this._tNode,t),this.instance=An(this._tNode.index,t)[ot],this.hostView=this.changeDetectorRef=new ta(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,s=Og(r,i[K],i,n,t);this.previousInputValues.set(n,t);let a=An(r.index,i);Fg(a,1)}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function oO(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Fr=(()=>{class e{static __NG_ELEMENT_ID__=sO}return e})();function sO(){let e=Ut();return cb(e,pe())}var aO=Fr,lb=class extends aO{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Ro(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){let n=gg(this._hostTNode,this._hostLView);if(X0(n)){let t=Wc(n,this._hostLView),r=Gc(n),i=t[K].data[r+8];return new ui(i,t)}else return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Uy(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(n,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=na(this._lContainer,n.ssrId),u=n.createEmbeddedViewImpl(t||{},s,a);return this.insertImpl(u,i,Xs(this._hostTNode,a)),u}createComponent(n,t,r,i,s){let a=n&&!rS(n),u;if(a)u=t;else{let D=t||{};u=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}let d=a?n:new ra(bo(n)),h=r||this.parentInjector;if(!s&&d.ngModule==null){let I=(a?h:this.parentInjector).get(Ct,null);I&&(s=I)}let g=bo(d.componentType??{}),v=na(this._lContainer,g?.id??null),w=v?.firstChild??null,_=d.create(h,i,w,s);return this.insertImpl(_.hostView,u,Xs(this._hostTNode,v)),_}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(uS(i)){let u=this.indexOf(n);if(u!==-1)this.detach(u);else{let d=i[vt],h=new lb(d,d[pn],d[vt]);h.detach(h.indexOf(n))}}let s=this._adjustIndex(t),a=this._lContainer;return Eu(a,i,s,r),n.attachToViewContainerRef(),g0(Wh(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Uy(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=ea(this._lContainer,t);r&&(Bc(Wh(this._lContainer),t),bu(r[K],r))}detach(n){let t=this._adjustIndex(n,-1),r=ea(this._lContainer,t);return r&&Bc(Wh(this._lContainer),t)!=null?new ta(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Uy(e){return e[Hc]}function Wh(e){return e[Hc]||(e[Hc]=[])}function cb(e,n){let t,r=n[e.index];return hr(r)?t=r:(t=Xw(r,n,null,e),n[e.index]=t,Sg(n,t)),cO(t,n,e,r),new lb(t,e,n)}function lO(e,n){let t=e[Ue],r=t.createComment(""),i=Ln(n,e),s=t.parentNode(i);return eu(t,s,r,t.nextSibling(i),!1),r}var cO=fO,uO=()=>!1;function dO(e,n,t){return uO(e,n,t)}function fO(e,n,t,r){if(e[pi])return;let i;t.type&8?i=On(r):i=lO(n,t),e[pi]=i}var Sp=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Tp=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let a=t.getByIndex(s),u=this.queries[a.indexInDeclarationView];i.push(u.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Bg(n,t).matches!==null&&this.queries[t].setDirty()}},Pp=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=wO(n):this.predicate=n}},Op=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Ap=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(n,t,hO(t,s)),this.matchTNodeWithReadOption(n,t,Rc(t,n,s,!1,!1))}else r===_i?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Rc(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gn||i===Fr||i===_i&&t.type&4)this.addMatch(t.index,-2);else{let s=Rc(t,n,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function hO(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function pO(e,n){return e.type&11?Ro(e,n):e.type&4?jg(e,n):null}function gO(e,n,t,r){return t===-1?pO(n,e):t===-2?mO(e,n,r):Qs(e,e[K],t,n)}function mO(e,n,t){if(t===gn)return Ro(n,e);if(t===_i)return jg(n,e);if(t===Fr)return cb(n,e)}function ub(e,n,t,r){let i=n[lr].queries[r];if(i.matches===null){let s=e.data,a=t.matches,u=[];for(let d=0;a!==null&&d<a.length;d+=2){let h=a[d];if(h<0)u.push(null);else{let g=s[h];u.push(gO(n,g,a[d+1],t.metadata.read))}}i.matches=u}return i.matches}function kp(e,n,t,r){let i=e.queries.getByIndex(t),s=i.matches;if(s!==null){let a=ub(e,n,i,t);for(let u=0;u<s.length;u+=2){let d=s[u];if(d>0)r.push(a[u/2]);else{let h=s[u+1],g=n[-d];for(let v=mt;v<g.length;v++){let w=g[v];w[hi]===w[vt]&&kp(w[K],w,h,r)}if(g[Do]!==null){let v=g[Do];for(let w=0;w<v.length;w++){let _=v[w];kp(_[K],_,h,r)}}}}}return r}function vO(e,n){return e[lr].queries[n].queryList}function _O(e,n,t){let r=new _p((t&4)===4);return hS(e,n,r,r.destroy),(n[lr]??=new Tp).queries.push(new Sp(r))-1}function yO(e,n,t){let r=at();return r.firstCreatePass&&(bO(r,new Pp(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),_O(r,pe(),n)}function wO(e){return e.split(",").map(n=>n.trim())}function bO(e,n,t){e.queries===null&&(e.queries=new Op),e.queries.track(new Ap(n,t))}function Bg(e,n){return e.queries.getByIndex(n)}function CO(e,n){let t=e[K],r=Bg(t,n);return r.crossesNgTemplate?kp(t,e,n,[]):ub(t,e,r,n)}var So=class{},Ug=class{};var Rp=class extends So{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nu(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let s=_0(n);this._bootstrapComponents=Ow(s.bootstrap),this._r3Injector=lw(n,t,[{provide:So,useValue:this},{provide:Du,useValue:this.componentFactoryResolver},...r],At(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Np=class extends Ug{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Rp(this.moduleType,n,[])}};var ru=class extends So{injector;componentFactoryResolver=new nu(this);instance=null;constructor(n){super();let t=new Zs([...n.providers,{provide:So,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],n.parent||ig(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function xu(e,n,t=null){return new ru({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var EO=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=y0(!1,t.type),i=r.length>0?xu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(U(Ct))})}return e})();function Ee(e){return oa(()=>{let n=fb(e),t=Z(A({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(EO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rn.Emulated,styles:e.styles||Ot,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&da("NgStandalone"),hb(t);let r=e.dependencies;return t.directiveDefs=$y(r,!1),t.pipeDefs=$y(r,!0),t.id=SO(t),t})}function DO(e){return bo(e)||qI(e)}function xO(e){return e!==null}function jn(e){return oa(()=>({type:e.type,bootstrap:e.bootstrap||Ot,declarations:e.declarations||Ot,imports:e.imports||Ot,exports:e.exports||Ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function MO(e,n){if(e==null)return fi;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],s,a,u,d;Array.isArray(i)?(u=i[0],s=i[1],a=i[2]??s,d=i[3]||null):(s=i,a=i,u=yu.None,d=null),t[s]=[r,u,d],n[s]=a}return t}function IO(e){if(e==null)return fi;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function $e(e){return oa(()=>{let n=fb(e);return hb(n),n})}function db(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function fb(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||fi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MO(e.inputs,n),outputs:IO(e.outputs),debugInfo:null}}function hb(e){e.features?.forEach(n=>n(e))}function $y(e,n){if(!e)return null;let t=n?GI:DO;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(xO)}function SO(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let s of r.join("|"))n=Math.imul(31,n)+s.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function TO(e){return Object.getPrototypeOf(e.prototype).constructor}function _n(e){let n=TO(e.type),t=!0,r=[e];for(;n;){let i;if(Pn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let a=e;a.inputs=Zh(e.inputs),a.declaredInputs=Zh(e.declaredInputs),a.outputs=Zh(e.outputs);let u=i.hostBindings;u&&RO(e,u);let d=i.viewQuery,h=i.contentQueries;if(d&&AO(e,d),h&&kO(e,h),PO(e,i),CI(e.outputs,i.outputs),Pn(i)&&i.data.animation){let g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let u=s[a];u&&u.ngInherit&&u(e),u===_n&&(t=!1)}}n=Object.getPrototypeOf(n)}OO(r)}function PO(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function OO(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Js(i.hostAttrs,t=Js(t,i.hostAttrs))}}function Zh(e){return e===fi?{}:e===Ot?[]:e}function AO(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function kO(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,s)=>{n(r,i,s),t(r,i,s)}:e.contentQueries=n}function RO(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function pb(e){return LO(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function NO(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function LO(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function gb(e,n,t){return e[n]=t}function hn(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function FO(e,n,t,r){let i=hn(e,n,t);return hn(e,n+1,r)||i}function jO(e,n,t,r,i,s,a,u,d){let h=n.consts,g=Vg(n,e,4,a||null,u||null);F0()&&ib(n,t,g,xo(h,d),Uw),g.mergedAttrs=Js(g.mergedAttrs,g.attrs),K0(n,g);let v=g.tView=Mg(2,g,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return n.queries!==null&&(n.queries.template(n,g),v.queries=n.queries.embeddedTView(g)),g}function Lp(e,n,t,r,i,s,a,u,d,h){let g=t+kt,v=n.firstCreatePass?jO(g,n,e,r,i,s,a,u,d):n.data[g];ca(v,!1);let w=VO(n,e,v,t);hg()&&Ng(n,e,w,v),ua(w,e);let _=Xw(w,e,w,v);return e[g]=_,Sg(e,_),dO(_,v,e),og(v)&&Tg(n,e,v),d!=null&&Bw(e,v,h),v}function Ve(e,n,t,r,i,s,a,u){let d=pe(),h=at(),g=xo(h.consts,s);return Lp(d,h,e,n,t,r,i,g,a,u),Ve}var VO=BO;function BO(e,n,t,r){return pg(!0),n[Ue].createComment("")}var mb=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var vb=new j("");var UO=(()=>{class e{static \u0275prov=V({token:e,providedIn:"root",factory:()=>new Fp})}return e})(),Fp=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function Di(e){return!!e&&typeof e.then=="function"}function _b(e){return!!e&&typeof e.subscribe=="function"}var $O=new j("");var yb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P($O,{optional:!0})??[];injector=P(kn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=Bt(this.injector,i);if(Di(s))t.push(s);else if(_b(s)){let a=new Promise((u,d)=>{s.subscribe({complete:u,error:d})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$g=new j("");function zO(){vh(()=>{throw new R(600,!1)})}function HO(e){return e.isBoundToModule}var qO=10;var yi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(eT);afterRenderManager=P(gT);zonelessEnabled=P(vg);rootEffectScheduler=P(UO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(Lr).hasPendingTasks.pipe(le(t=>!t));constructor(){P(_u,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=kn.NULL){Ie(10);let s=t instanceof rb;if(!this._injector.get(yb).done){let _="";throw new R(405,_)}let u;s?u=t:u=this._injector.get(Du).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let d=HO(u)?void 0:this._injector.get(So),h=r||u.selector,g=u.create(i,[],h,d),v=g.location.nativeElement,w=g.injector.get(vb,null);return w?.registerApplication(v),g.onDestroy(()=>{this.detachView(g.hostView),Nc(this.components,g),w?.unregisterApplication(v)}),this._loadComponent(g),Ie(11,g),g}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ew.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new R(101,!1);let t=se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(t),this.afterTick.next(),Ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Io,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<qO;)Ie(14),this.synchronizeOnce(),Ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)GO(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>gu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Nc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($g,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Nc(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function GO(e,n,t,r){if(!t&&!gu(e))return;Yw(e,n,t&&!r?0:1)}function ha(e,n,t,r){let i=pe(),s=ko();if(hn(i,s,n)){let a=at(),u=vu();QT(u,i,e,n,t,r)}return ha}function wb(e,n,t,r){return hn(e,ko(),t)?n+uu(t)+r:vn}function Pc(e,n){return e<<17|n<<2}function wi(e){return e>>17&32767}function WO(e){return(e&2)==2}function ZO(e,n){return e&131071|n<<17}function jp(e){return e|2}function To(e){return(e&131068)>>2}function Yh(e,n){return e&-131069|n<<2}function YO(e){return(e&1)===1}function Vp(e){return e|1}function KO(e,n,t,r,i,s){let a=s?n.classBindings:n.styleBindings,u=wi(a),d=To(a);e[r]=t;let h=!1,g;if(Array.isArray(t)){let v=t;g=v[1],(g===null||sa(v,g)>0)&&(h=!0)}else g=t;if(i)if(d!==0){let w=wi(e[u+1]);e[r+1]=Pc(w,u),w!==0&&(e[w+1]=Yh(e[w+1],r)),e[u+1]=ZO(e[u+1],r)}else e[r+1]=Pc(u,0),u!==0&&(e[u+1]=Yh(e[u+1],r)),u=r;else e[r+1]=Pc(d,0),u===0?u=r:e[d+1]=Yh(e[d+1],r),d=r;h&&(e[r+1]=jp(e[r+1])),zy(e,g,r,!0),zy(e,g,r,!1),JO(n,g,e,r,s),a=Pc(u,d),s?n.classBindings=a:n.styleBindings=a}function JO(e,n,t,r,i){let s=i?e.residualClasses:e.residualStyles;s!=null&&typeof n=="string"&&sa(s,n)>=0&&(t[r+1]=Vp(t[r+1]))}function zy(e,n,t,r){let i=e[t+1],s=n===null,a=r?wi(i):To(i),u=!1;for(;a!==0&&(u===!1||s);){let d=e[a],h=e[a+1];QO(d,n)&&(u=!0,e[a+1]=r?Vp(h):jp(h)),a=r?wi(h):To(h)}u&&(e[t+1]=r?jp(i):Vp(i))}function QO(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?sa(e,n)>=0:!1}var it={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring(it.key,it.keyEnd)}function XO(e){return e.substring(it.value,it.valueEnd)}function eA(e){return Db(e),Cb(e,Po(e,0,it.textEnd))}function Cb(e,n){let t=it.textEnd;return t===n?-1:(n=it.keyEnd=nA(e,it.key=n,t),Po(e,n,t))}function tA(e){return Db(e),Eb(e,Po(e,0,it.textEnd))}function Eb(e,n){let t=it.textEnd,r=it.key=Po(e,n,t);return t===r?-1:(r=it.keyEnd=rA(e,r,t),r=Hy(e,r,t,58),r=it.value=Po(e,r,t),r=it.valueEnd=iA(e,r,t),Hy(e,r,t,59))}function Db(e){it.key=0,it.keyEnd=0,it.value=0,it.valueEnd=0,it.textEnd=e.length}function Po(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function nA(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function rA(e,n,t){let r;for(;n<t&&((r=e.charCodeAt(n))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)n++;return n}function Hy(e,n,t,r){return n=Po(e,n,t),n<t&&n++,n}function iA(e,n,t){let r=-1,i=-1,s=-1,a=n,u=a;for(;a<t;){let d=e.charCodeAt(a++);if(d===59)return u;d===34||d===39?u=a=qy(e,d,a,t):n===a-4&&s===85&&i===82&&r===76&&d===40?u=a=qy(e,41,a,t):d>32&&(u=a),s=i,i=r,r=d&-33}return u}function qy(e,n,t,r){let i=-1,s=t;for(;s<r;){let a=e.charCodeAt(s++);if(a==n&&i!==92)return s;a==92&&i===92?i=0:i=a}throw new Error}function ze(e,n,t){let r=pe(),i=ko();if(hn(r,i,n)){let s=at(),a=vu();Pg(s,a,r,e,n,r[Ue],t,!1)}return ze}function Bp(e,n,t,r,i){Og(n,e,t,i?"class":"style",r)}function zg(e,n,t){return Mb(e,n,t,!1),zg}function No(e,n){return Mb(e,n,null,!0),No}function xb(e){Ib(Pb,oA,e,!1)}function oA(e,n){for(let t=tA(n);t>=0;t=Eb(n,t))Pb(e,bb(n),XO(n))}function gr(e){Ib(fA,sA,e,!0)}function sA(e,n){for(let t=eA(n);t>=0;t=Cb(n,t))fu(e,bb(n),!0)}function Mb(e,n,t,r){let i=pe(),s=at(),a=$0(2);if(s.firstUpdatePass&&Tb(s,e,a,r),n!==vn&&hn(i,a,n)){let u=s.data[kr()];Ob(s,u,i,i[Ue],e,i[a+1]=pA(n,t),r,a)}}function Ib(e,n,t,r){let i=at(),s=$0(2);i.firstUpdatePass&&Tb(i,null,s,r);let a=pe();if(t!==vn&&hn(a,s,t)){let u=i.data[kr()];if(Ab(u,r)&&!Sb(i,s)){let d=r?u.classesWithoutHost:u.stylesWithoutHost;d!==null&&(t=tp(d,t||"")),Bp(i,u,a,t,r)}else hA(i,u,a,a[Ue],a[s+1],a[s+1]=dA(e,n,t),r,s)}}function Sb(e,n){return n>=e.expandoStartIndex}function Tb(e,n,t,r){let i=e.data;if(i[t+1]===null){let s=i[kr()],a=Sb(e,t);Ab(s,r)&&n===null&&!a&&(n=!1),n=aA(i,s,n,r),KO(i,s,n,t,a,r)}}function aA(e,n,t,r){let i=MS(e),s=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Kh(null,e,n,t,r),t=ia(t,n.attrs,r),s=null);else{let a=n.directiveStylingLast;if(a===-1||e[a]!==i)if(t=Kh(i,e,n,t,r),s===null){let d=lA(e,n,r);d!==void 0&&Array.isArray(d)&&(d=Kh(null,e,n,d[1],r),d=ia(d,n.attrs,r),cA(e,n,r,d))}else s=uA(e,n,r)}return s!==void 0&&(r?n.residualClasses=s:n.residualStyles=s),t}function lA(e,n,t){let r=t?n.classBindings:n.styleBindings;if(To(r)!==0)return e[wi(r)]}function cA(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[wi(i)]=r}function uA(e,n,t){let r,i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++){let a=e[s].hostAttrs;r=ia(r,a,t)}return ia(r,n.attrs,t)}function Kh(e,n,t,r,i){let s=null,a=t.directiveEnd,u=t.directiveStylingLast;for(u===-1?u=t.directiveStart:u++;u<a&&(s=n[u],r=ia(r,s.hostAttrs,i),s!==e);)u++;return e!==null&&(t.directiveStylingLast=u),r}function ia(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];typeof a=="number"?i=a:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),fu(e,a,t?!0:n[++s]))}return e===void 0?null:e}function dA(e,n,t){if(t==null||t==="")return Ot;let r=[],i=fa(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else typeof i=="string"&&n(r,i);return r}function Pb(e,n,t){fu(e,n,fa(t))}function fA(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&fu(e,r,t)}function hA(e,n,t,r,i,s,a,u){i===vn&&(i=Ot);let d=0,h=0,g=0<i.length?i[0]:null,v=0<s.length?s[0]:null;for(;g!==null||v!==null;){let w=d<i.length?i[d+1]:void 0,_=h<s.length?s[h+1]:void 0,D=null,I;g===v?(d+=2,h+=2,w!==_&&(D=v,I=_)):v===null||g!==null&&g<v?(d+=2,D=g):(h+=2,D=v,I=_),D!==null&&Ob(e,n,t,r,D,I,a,u),g=d<i.length?i[d]:null,v=h<s.length?s[h]:null}}function Ob(e,n,t,r,i,s,a,u){if(!(n.type&3))return;let d=e.data,h=d[u+1],g=YO(h)?Gy(d,n,t,i,To(h),a):void 0;if(!iu(g)){iu(s)||WO(h)&&(s=Gy(d,null,t,i,u,a));let v=k0(kr(),t);_P(r,a,v,i,s)}}function Gy(e,n,t,r,i,s){let a=n===null,u;for(;i>0;){let d=e[i],h=Array.isArray(d),g=h?d[1]:d,v=g===null,w=t[i+1];w===vn&&(w=v?Ot:void 0);let _=v?Vh(w,r):g===r?w:void 0;if(h&&!iu(_)&&(_=Vh(d,r)),iu(_)&&(u=_,a))return u;let D=e[i+1];i=a?wi(D):To(D)}if(n!==null){let d=s?n.residualClasses:n.residualStyles;d!=null&&(u=Vh(d,r))}return u}function iu(e){return e!==void 0}function pA(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=At(fa(e)))),e}function Ab(e,n){return(e.flags&(n?8:16))!==0}var Up=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),s=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,s),this.attach(i,a)}else this.attach(r,s)}move(n,t){this.attach(t,this.detach(n))}};function Jh(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function gA(e,n,t){let r,i,s=0,a=e.length-1,u=void 0;if(Array.isArray(n)){let d=n.length-1;for(;s<=a&&s<=d;){let h=e.at(s),g=n[s],v=Jh(s,h,s,g,t);if(v!==0){v<0&&e.updateValue(s,g),s++;continue}let w=e.at(a),_=n[d],D=Jh(a,w,d,_,t);if(D!==0){D<0&&e.updateValue(a,_),a--,d--;continue}let I=t(s,h),T=t(a,w),N=t(s,g);if(Object.is(N,T)){let Ae=t(d,_);Object.is(Ae,I)?(e.swap(s,a),e.updateValue(a,_),d--,a--):e.move(a,s),e.updateValue(s,g),s++;continue}if(r??=new ou,i??=Zy(e,s,a,t),$p(e,r,s,N))e.updateValue(s,g),s++,a++;else if(i.has(N))r.set(I,e.detach(s)),a--;else{let Ae=e.create(s,n[s]);e.attach(s,Ae),s++,a++}}for(;s<=d;)Wy(e,r,t,s,n[s]),s++}else if(n!=null){let d=n[Symbol.iterator](),h=d.next();for(;!h.done&&s<=a;){let g=e.at(s),v=h.value,w=Jh(s,g,s,v,t);if(w!==0)w<0&&e.updateValue(s,v),s++,h=d.next();else{r??=new ou,i??=Zy(e,s,a,t);let _=t(s,v);if($p(e,r,s,_))e.updateValue(s,v),s++,a++,h=d.next();else if(!i.has(_))e.attach(s,e.create(s,v)),s++,a++,h=d.next();else{let D=t(s,g);r.set(D,e.detach(s)),a--}}}for(;!h.done;)Wy(e,r,t,e.length,h.value),h=d.next()}for(;s<=a;)e.destroy(e.detach(a--));r?.forEach(d=>{e.destroy(d)})}function $p(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function Wy(e,n,t,r,i){if($p(e,n,r,t(r,i)))e.updateValue(r,i);else{let s=e.create(r,i);e.attach(r,s)}}function Zy(e,n,t,r){let i=new Set;for(let s=n;s<=t;s++)i.add(r(s,e.at(s)));return i}var ou=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function He(e,n){da("NgControlFlow");let t=pe(),r=ko(),i=t[r]!==vn?t[r]:-1,s=i!==-1?su(t,kt+i):void 0,a=0;if(hn(t,r,e)){let u=se(null);try{if(s!==void 0&&tb(s,a),e!==-1){let d=kt+e,h=su(t,d),g=Gp(t[K],d),v=na(h,g.tView.ssrId),w=wu(t,g,n,{dehydratedView:v});Eu(h,w,a,Xs(g,v))}}finally{se(u)}}else if(s!==void 0){let u=eb(s,a);u!==void 0&&(u[ot]=n)}}var zp=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-mt}};function Lo(e,n){return n}var Hp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function Vn(e,n,t,r,i,s,a,u,d,h,g,v,w){da("NgControlFlow");let _=pe(),D=at(),I=d!==void 0,T=pe(),N=u?a.bind(T[fn][ot]):a,Ae=new Hp(I,N);T[kt+e]=Ae,Lp(_,D,e+1,n,t,r,i,xo(D.consts,s)),I&&Lp(_,D,e+2,d,h,g,v,xo(D.consts,w))}var qp=class extends Up{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-mt}at(n){return this.getLView(n)[ot].$implicit}attach(n,t){let r=t[Ys];this.needsIndexUpdate||=n!==this.length,Eu(this.lContainer,t,n,Xs(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,mA(this.lContainer,n)}create(n,t){let r=na(this.lContainer,this.templateTNode.tView.ssrId),i=wu(this.hostLView,this.templateTNode,new zp(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){bu(n[K],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ot].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ot].$index=n}getLView(n){return vA(this.lContainer,n)}};function Bn(e){let n=se(null),t=kr();try{let r=pe(),i=r[K],s=r[t],a=t+1,u=su(r,a);if(s.liveCollection===void 0){let h=Gp(i,a);s.liveCollection=new qp(u,r,h)}else s.liveCollection.reset();let d=s.liveCollection;if(gA(d,e,s.trackByFn),d.updateIndexes(),s.hasEmptyBlock){let h=ko(),g=d.length===0;if(hn(r,h,g)){let v=t+2,w=su(r,v);if(g){let _=Gp(i,v),D=na(w,_.tView.ssrId),I=wu(r,_,void 0,{dehydratedView:D});Eu(w,I,0,Xs(_,D))}else tb(w,0)}}}finally{se(n)}}function su(e,n){return e[n]}function mA(e,n){return ea(e,n)}function vA(e,n){return eb(e,n)}function Gp(e,n){return sg(e,n)}function b(e,n,t,r){let i=pe(),s=at(),a=kt+e,u=i[Ue],d=s.firstCreatePass?sb(a,s,i,n,Uw,F0(),t,r):s.data[a],h=_A(s,i,d,u,n,e);i[a]=h;let g=og(d);return ca(d,!0),Nw(u,h,d),!$w(d)&&hg()&&Ng(s,i,h,d),(pS()===0||g)&&ua(h,i),gS(),g&&(Tg(s,i,d),Mw(s,d,i)),r!==null&&Bw(i,d),b}function C(){let e=Ut();V0()?bS():(e=e.parent,ca(e,!1));let n=e;_S(n)&&yS(),mS();let t=at();return t.firstCreatePass&&ab(t,n),n.classesWithoutHost!=null&&kS(n)&&Bp(t,n,pe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&RS(n)&&Bp(t,n,pe(),n.stylesWithoutHost,!1),C}function re(e,n,t,r){return b(e,n,t,r),C(),re}var _A=(e,n,t,r,i,s)=>(pg(!0),kw(r,i,PS()));function ct(){return pe()}var li=void 0;function yA(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var wA=["en",[["a","p"],["AM","PM"],li],[["AM","PM"],li,li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",li,"{1} 'at' {0}",li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yA],Qh={};function Jt(e){let n=bA(e),t=Yy(n);if(t)return t;let r=n.split("-")[0];if(t=Yy(r),t)return t;if(r==="en")return wA;throw new R(701,!1)}function Yy(e){return e in Qh||(Qh[e]=sr.ng&&sr.ng.common&&sr.ng.common.locales&&sr.ng.common.locales[e]),Qh[e]}var qe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(qe||{});function bA(e){return e.toLowerCase().replace(/_/g,"-")}var au="en-US";var CA=au;function EA(e){typeof e=="string"&&(CA=e.toLowerCase().replace(/_/g,"-"))}function Ky(e,n,t){return function r(i){if(i===Function)return t;let s=Ao(e)?An(e.index,n):n;Fg(s,5);let a=n[ot],u=Jy(n,a,t,i),d=r.__ngNextListenerFn__;for(;d;)u=Jy(n,a,d,i)&&u,d=d.__ngNextListenerFn__;return u}}function Jy(e,n,t,r){let i=se(null);try{return Ie(6,n,t),t(r)!==!1}catch(s){return DA(e,s),!1}finally{Ie(7,n,t),se(i)}}function DA(e,n){let t=e[Eo],r=t?t.get(cr,null):null;r&&r.handleError(n)}function Qy(e,n,t,r,i,s){let a=n[t],u=n[K],h=u.data[t].outputs[r],g=a[h],v=u.firstCreatePass?cg(u):null,w=lg(n),_=g.subscribe(s),D=w.length;w.push(s,_),v&&v.push(i,e.index,D,-(D+1))}var xA=(e,n,t)=>{};function z(e,n,t,r){let i=pe(),s=at(),a=Ut();return kb(s,i,i[Ue],a,e,n,r),z}function MA(e,n,t,r){let i=e.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===t&&i[s+1]===r){let u=n[$c],d=i[s+2];return u.length>d?u[d]:null}typeof a=="string"&&(s+=2)}return null}function kb(e,n,t,r,i,s,a){let u=og(r),h=e.firstCreatePass?cg(e):null,g=lg(n),v=!0;if(r.type&3||a){let w=Ln(r,n),_=a?a(w):w,D=g.length,I=a?N=>a(On(N[r.index])):r.index,T=null;if(!a&&u&&(T=MA(e,n,i,r.index)),T!==null){let N=T.__ngLastListenerFn__||T;N.__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,v=!1}else{s=Ky(r,n,s),xA(_,i,s);let N=t.listen(_,i,s);g.push(s,N),h&&h.push(i,I,D,D+1)}}else s=Ky(r,n,s);if(v){let w=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let D=0;D<_.length;D+=2){let I=_[D],T=_[D+1];Qy(r,n,I,T,i,s)}if(w&&w.length)for(let D of w)Qy(r,n,D,i,i,s)}}function W(e=1){return SS(e)}function xi(e,n,t){return Fo(e,"",n,"",t),xi}function Fo(e,n,t,r,i){let s=pe(),a=wb(s,n,t,r);if(a!==vn){let u=at(),d=vu();Pg(u,d,s,e,a,s[Ue],i,!1)}return Fo}function yn(e,n,t){yO(e,n,t)}function Qt(e){let n=pe(),t=at(),r=z0();ug(r+1);let i=Bg(t,r);if(e.dirty&&cS(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let s=CO(n,r);e.reset(s,rT),e.notifyOnChanges()}return!0}return!1}function Xt(){return vO(pe(),z0())}function IA(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function M(e,n=""){let t=pe(),r=at(),i=e+kt,s=r.firstCreatePass?Vg(r,i,1,n,null):r.data[i],a=SA(r,t,s,n,e);t[i]=a,hg()&&Ng(r,t,a,s),ca(s,!1)}var SA=(e,n,t,r,i)=>(pg(!0),LT(n[Ue],r));function Se(e){return Et("",e,""),Se}function Et(e,n,t){let r=pe(),i=wb(r,e,n,t);return i!==vn&&TA(r,kr(),i),Et}function TA(e,n,t){let r=k0(n,e);FT(e[Ue],r,t)}function jr(e,n,t){pw(n)&&(n=n());let r=pe(),i=ko();if(hn(r,i,n)){let s=at(),a=vu();Pg(s,a,r,e,n,r[Ue],t,!1)}return jr}function Mi(e,n){let t=pw(e);return t&&e.set(n),t}function Vr(e,n){let t=pe(),r=at(),i=Ut();return kb(r,t,t[Ue],i,e,n),Vr}function PA(e,n,t){let r=at();if(r.firstCreatePass){let i=Pn(e);Wp(t,r.data,r.blueprint,i,!0),Wp(n,r.data,r.blueprint,i,!1)}}function Wp(e,n,t,r,i){if(e=bt(e),Array.isArray(e))for(let s=0;s<e.length;s++)Wp(e[s],n,t,r,i);else{let s=at(),a=pe(),u=Ut(),d=Co(e)?e:bt(e.provide),h=C0(e),g=u.providerIndexes&1048575,v=u.directiveStart,w=u.providerIndexes>>20;if(Co(e)||!e.multi){let _=new vi(h,i,F),D=ep(d,n,i?g:g+w,v);D===-1?(hp(Yc(u,a),s,d),Xh(s,e,n.length),n.push(d),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(_),a.push(_)):(t[D]=_,a[D]=_)}else{let _=ep(d,n,g+w,v),D=ep(d,n,g,g+w),I=_>=0&&t[_],T=D>=0&&t[D];if(i&&!T||!i&&!I){hp(Yc(u,a),s,d);let N=kA(i?AA:OA,t.length,i,r,h);!i&&T&&(t[D].providerFactory=N),Xh(s,e,n.length,0),n.push(d),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(N),a.push(N)}else{let N=Rb(t[i?D:_],h,!i&&r);Xh(s,e,_>-1?_:D,N)}!i&&r&&T&&t[D].componentProviders++}}}function Xh(e,n,t,r){let i=Co(n),s=JI(n);if(i||s){let d=(s?bt(n.useClass):n).prototype.ngOnDestroy;if(d){let h=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let g=h.indexOf(t);g===-1?h.push(t,[r,d]):h[g+1].push(r,d)}else h.push(t,d)}}}function Rb(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function ep(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function OA(e,n,t,r){return Zp(this.multi,[])}function AA(e,n,t,r){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Qs(t,t[K],this.providerFactory.index,r);s=u.slice(0,a),Zp(i,s);for(let d=a;d<u.length;d++)s.push(u[d])}else s=[],Zp(i,s);return s}function Zp(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function kA(e,n,t,r,i){let s=new vi(e,t,F);return s.multi=[],s.index=n,s.componentProviders=0,Rb(s,i,r&&!t),s}function Ii(e,n=[]){return t=>{t.providersResolver=(r,i)=>PA(r,i?i(e):e,n)}}function Mu(e,n,t,r){return RA(pe(),U0(),e,n,t,r)}function Nb(e,n){let t=e[n];return t===vn?void 0:t}function RA(e,n,t,r,i,s){let a=n+t;return hn(e,a,i)?gb(e,a+1,s?r.call(s,i):r(i)):Nb(e,a+1)}function NA(e,n,t,r,i,s,a){let u=n+t;return FO(e,u,i,s)?gb(e,u+2,a?r.call(a,i,s):r(i,s)):Nb(e,u+2)}function Br(e,n){let t=at(),r,i=e+kt;t.firstCreatePass?(r=LA(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=di(r.type,!0)),a,u=Pt(F);try{let d=Zc(!1),h=s();return Zc(d),IA(t,pe(),i,h),h}finally{Pt(u)}}function LA(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Ur(e,n,t,r){let i=e+kt,s=pe(),a=lS(s,i);return FA(s,i)?NA(s,U0(),n,a.transform,t,r,a):a.transform(t,r)}function FA(e,n){return e[K].data[n].pure}var Yp=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Lb=(()=>{class e{compileModuleSync(t){return new Np(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_0(t),s=Ow(i.declarations).reduce((a,u)=>{let d=bo(u);return d&&a.push(new ra(d)),a},[]);return new Yp(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var jA=(()=>{class e{zone=P(st);changeDetectionScheduler=P(Mo);applicationRef=P(yi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VA({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new st(Z(A({},BA()),{scheduleInRootZone:t})),[{provide:st,useFactory:e},{provide:Ws,multi:!0,useFactory:()=>{let r=P(jA,{optional:!0});return()=>r.initialize()}},{provide:Ws,multi:!0,useFactory:()=>{let r=P(UA);return()=>{r.initialize()}}},n===!0?{provide:uw,useValue:!0}:[],{provide:_g,useValue:t??cw}]}function BA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var UA=(()=>{class e{subscription=new Fe;initialized=!1;zone=P(st);pendingTasks=P(Lr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Fb=(()=>{class e{appRef=P(yi);taskService=P(Lr);ngZone=P(st);zonelessEnabled=P(vg);tracing=P(_u,{optional:!0});disableScheduling=P(uw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(_g,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Iy:dw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Iy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jb(){return da("NgZoneless"),aa([{provide:Mo,useExisting:Fb},{provide:st,useClass:Qc},{provide:vg,useValue:!0},{provide:_g,useValue:!1},[]])}function $A(){return typeof $localize<"u"&&$localize.locale||au}var Iu=new j("",{providedIn:"root",factory:()=>P(Iu,ue.Optional|ue.SkipSelf)||$A()});var Kp=new j(""),zA=new j("");function zs(e){return!e.moduleRef}function HA(e){let n=zs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(st);return t.run(()=>{zs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(cr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),zs(e)){let s=()=>n.destroy(),a=e.platformInjector.get(Kp);a.add(s),n.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else{let s=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Kp);a.add(s),e.moduleRef.onDestroy(()=>{Nc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(s)})}return GA(r,t,()=>{let s=n.get(yb);return s.runInitializers(),s.donePromise.then(()=>{let a=n.get(Iu,au);if(EA(a||au),!n.get(zA,!0))return zs(e)?n.get(yi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(zs(e)){let d=n.get(yi);return e.rootComponent!==void 0&&d.bootstrap(e.rootComponent),d}else return qA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function qA(e,n){let t=e.injector.get(yi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new R(-403,!1);n.push(e)}function GA(e,n,t){try{let r=t();return Di(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Lc=null;function WA(e=[],n){return kn.create({name:n,providers:[{provide:hu,useValue:"platform"},{provide:Kp,useValue:new Set([()=>Lc=null])},...e]})}function ZA(e=[]){if(Lc)return Lc;let n=WA(e);return Lc=n,zO(),YA(n),n}function YA(e){let n=e.get(Cg,null);Bt(e,()=>{n?.forEach(t=>t())})}var jo=(()=>{class e{static __NG_ELEMENT_ID__=KA}return e})();function KA(e){return JA(Ut(),pe(),(e&16)===16)}function JA(e,n,t){if(Ao(e)&&!t){let r=An(e.index,n);return new ta(r,r)}else if(e.type&175){let r=n[fn];return new ta(r,n)}return null}var Jp=class{constructor(){}supports(n){return pb(n)}create(n){return new Qp(n)}},QA=(e,n)=>n,Qp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||QA}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let a=!r||t&&t.currentIndex<Xy(r,i,s)?t:r,u=Xy(a,i,s),d=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,a.previousIndex==null)i++;else{s||(s=[]);let h=u-i,g=d-i;if(h!=g){for(let w=0;w<h;w++){let _=w<s.length?s[w]:s[w]=0,D=_+w;g<=D&&D<h&&(s[w]=_+1)}let v=a.previousIndex;s[v]=g-h}}u!==d&&n(a,u,d)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!pb(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,s,a;if(Array.isArray(n)){this.length=n.length;for(let u=0;u<this.length;u++)s=n[u],a=this._trackByFn(u,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,u),r=!0):(r&&(t=this._verifyReinsertion(t,s,a,u)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,NO(n,u=>{a=this._trackByFn(i,u),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,u,a,i),r=!0):(r&&(t=this._verifyReinsertion(t,u,a,i)),Object.is(t.item,u)||this._addIdentityChange(t,u)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return n===null?s=this._itTail:(s=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new Xp(t,r),s,i)),n}_verifyReinsertion(n,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,s=n._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new lu),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lu),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Xp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},eg=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},lu=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new eg,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xy(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function e0(){return new Hg([new Jp])}var Hg=(()=>{class e{factories;static \u0275prov=V({token:e,providedIn:"root",factory:e0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||e0()),deps:[[e,new BI,new VI]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new R(901,!1)}}return e})();function Vb(e){Ie(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=ZA(r),s=[VA({}),{provide:Mo,useExisting:Fb},...t||[]],a=new ru({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return HA({r3Injector:a.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{Ie(9)}}function Si(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Un(e){return wh(e)}function Vo(e,n){return mh(e,n?.equal)}var t0=class{[Yt];constructor(n){this[Yt]=n}destroy(){this[Yt].destroy()}};var ut=new j("");var $b=null;function en(){return $b}function qg(e){$b??=e}var pa=class{},Gg=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>P(zb),providedIn:"platform"})}return e})();var zb=(()=>{class e extends Gg{_location;_history;_doc=P(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Hb(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Bb(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function $r(e){return e&&e[0]!=="?"?`?${e}`:e}var Bo=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>P(Gb),providedIn:"root"})}return e})(),qb=new j(""),Gb=(()=>{class e extends Bo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Hb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+$r(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+$r(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(U(Gg),U(qb,8))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uo=(()=>{class e{_subject=new ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=t1(Bb(Ub(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$r(r))}normalize(t){return e.stripTrailingSlash(e1(this._basePath,Ub(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$r;static joinWithSlash=Hb;static stripTrailingSlash=Bb;static \u0275fac=function(r){return new(r||e)(U(Bo))};static \u0275prov=V({token:e,factory:()=>XA(),providedIn:"root"})}return e})();function XA(){return new Uo(U(Bo))}function e1(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Ub(e){return e.replace(/\/index.html$/,"")}function t1(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var _t=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(_t||{}),De=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(De||{}),Rt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Rt||{}),vr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Jb(e){return Jt(e)[qe.LocaleId]}function Qb(e,n,t){let r=Jt(e),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],s=tn(i,n);return tn(s,t)}function Xb(e,n,t){let r=Jt(e),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],s=tn(i,n);return tn(s,t)}function eC(e,n,t){let r=Jt(e),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],s=tn(i,n);return tn(s,t)}function tC(e,n){let r=Jt(e)[qe.Eras];return tn(r,n)}function ga(e,n){let t=Jt(e);return tn(t[qe.DateFormat],n)}function ma(e,n){let t=Jt(e);return tn(t[qe.TimeFormat],n)}function va(e,n){let r=Jt(e)[qe.DateTimeFormat];return tn(r,n)}function _a(e,n){let t=Jt(e),r=t[qe.NumberSymbols][n];if(typeof r>"u"){if(n===vr.CurrencyDecimal)return t[qe.NumberSymbols][vr.Decimal];if(n===vr.CurrencyGroup)return t[qe.NumberSymbols][vr.Group]}return r}function nC(e){if(!e[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rC(e){let n=Jt(e);return nC(n),(n[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?Wg(r):[Wg(r[0]),Wg(r[1])])}function iC(e,n,t){let r=Jt(e);nC(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],s=tn(i,n)||[];return tn(s,t)||[]}function tn(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Wg(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var n1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Su={},r1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function oC(e,n,t,r){let i=f1(e);n=mr(t,n)||n;let a=[],u;for(;n;)if(u=r1.exec(n),u){a=a.concat(u.slice(1));let g=a.pop();if(!g)break;n=g}else{a.push(n);break}let d=i.getTimezoneOffset();r&&(d=aC(r,d),i=d1(i,r));let h="";return a.forEach(g=>{let v=c1(g);h+=v?v(i,t,d):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function ku(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function mr(e,n){let t=Jb(e);if(Su[t]??={},Su[t][n])return Su[t][n];let r="";switch(n){case"shortDate":r=ga(e,Rt.Short);break;case"mediumDate":r=ga(e,Rt.Medium);break;case"longDate":r=ga(e,Rt.Long);break;case"fullDate":r=ga(e,Rt.Full);break;case"shortTime":r=ma(e,Rt.Short);break;case"mediumTime":r=ma(e,Rt.Medium);break;case"longTime":r=ma(e,Rt.Long);break;case"fullTime":r=ma(e,Rt.Full);break;case"short":let i=mr(e,"shortTime"),s=mr(e,"shortDate");r=Tu(va(e,Rt.Short),[i,s]);break;case"medium":let a=mr(e,"mediumTime"),u=mr(e,"mediumDate");r=Tu(va(e,Rt.Medium),[a,u]);break;case"long":let d=mr(e,"longTime"),h=mr(e,"longDate");r=Tu(va(e,Rt.Long),[d,h]);break;case"full":let g=mr(e,"fullTime"),v=mr(e,"fullDate");r=Tu(va(e,Rt.Full),[g,v]);break}return r&&(Su[t][n]=r),r}function Tu(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function wn(e,n,t="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,s=t));let a=String(e);for(;a.length<n;)a="0"+a;return r&&(a=a.slice(a.length-n)),s+a}function i1(e,n){return wn(e,3).substring(0,n)}function Je(e,n,t=0,r=!1,i=!1){return function(s,a){let u=o1(e,s);if((t>0||u>-t)&&(u+=t),e===3)u===0&&t===-12&&(u=12);else if(e===6)return i1(u,n);let d=_a(a,vr.MinusSign);return wn(u,n,d,r,i)}}function o1(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Pe(e,n,t=_t.Format,r=!1){return function(i,s){return s1(i,s,e,n,t,r)}}function s1(e,n,t,r,i,s){switch(t){case 2:return eC(n,i,r)[e.getMonth()];case 1:return Xb(n,i,r)[e.getDay()];case 0:let a=e.getHours(),u=e.getMinutes();if(s){let h=rC(n),g=iC(n,i,r),v=h.findIndex(w=>{if(Array.isArray(w)){let[_,D]=w,I=a>=_.hours&&u>=_.minutes,T=a<D.hours||a===D.hours&&u<D.minutes;if(_.hours<D.hours){if(I&&T)return!0}else if(I||T)return!0}else if(w.hours===a&&w.minutes===u)return!0;return!1});if(v!==-1)return g[v]}return Qb(n,i,r)[a<12?0:1];case 3:return tC(n,r)[e.getFullYear()<=0?0:1];default:let d=t;throw new Error(`unexpected translation type ${d}`)}}function Pu(e){return function(n,t,r){let i=-1*r,s=_a(t,vr.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+wn(a,2,s)+wn(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+wn(a,1,s);case 2:return"GMT"+(i>=0?"+":"")+wn(a,2,s)+":"+wn(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+wn(a,2,s)+":"+wn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var a1=0,Au=4;function l1(e){let n=ku(e,a1,1).getDay();return ku(e,0,1+(n<=Au?Au:Au+7)-n)}function sC(e){let n=e.getDay(),t=n===0?-3:Au-n;return ku(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Zg(e,n=!1){return function(t,r){let i;if(n){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();i=1+Math.floor((a+s)/7)}else{let s=sC(t),a=l1(s.getFullYear()),u=s.getTime()-a.getTime();i=1+Math.round(u/6048e5)}return wn(i,e,_a(r,vr.MinusSign))}}function Ou(e,n=!1){return function(t,r){let s=sC(t).getFullYear();return wn(s,e,_a(r,vr.MinusSign),n)}}var Yg={};function c1(e){if(Yg[e])return Yg[e];let n;switch(e){case"G":case"GG":case"GGG":n=Pe(3,De.Abbreviated);break;case"GGGG":n=Pe(3,De.Wide);break;case"GGGGG":n=Pe(3,De.Narrow);break;case"y":n=Je(0,1,0,!1,!0);break;case"yy":n=Je(0,2,0,!0,!0);break;case"yyy":n=Je(0,3,0,!1,!0);break;case"yyyy":n=Je(0,4,0,!1,!0);break;case"Y":n=Ou(1);break;case"YY":n=Ou(2,!0);break;case"YYY":n=Ou(3);break;case"YYYY":n=Ou(4);break;case"M":case"L":n=Je(1,1,1);break;case"MM":case"LL":n=Je(1,2,1);break;case"MMM":n=Pe(2,De.Abbreviated);break;case"MMMM":n=Pe(2,De.Wide);break;case"MMMMM":n=Pe(2,De.Narrow);break;case"LLL":n=Pe(2,De.Abbreviated,_t.Standalone);break;case"LLLL":n=Pe(2,De.Wide,_t.Standalone);break;case"LLLLL":n=Pe(2,De.Narrow,_t.Standalone);break;case"w":n=Zg(1);break;case"ww":n=Zg(2);break;case"W":n=Zg(1,!0);break;case"d":n=Je(2,1);break;case"dd":n=Je(2,2);break;case"c":case"cc":n=Je(7,1);break;case"ccc":n=Pe(1,De.Abbreviated,_t.Standalone);break;case"cccc":n=Pe(1,De.Wide,_t.Standalone);break;case"ccccc":n=Pe(1,De.Narrow,_t.Standalone);break;case"cccccc":n=Pe(1,De.Short,_t.Standalone);break;case"E":case"EE":case"EEE":n=Pe(1,De.Abbreviated);break;case"EEEE":n=Pe(1,De.Wide);break;case"EEEEE":n=Pe(1,De.Narrow);break;case"EEEEEE":n=Pe(1,De.Short);break;case"a":case"aa":case"aaa":n=Pe(0,De.Abbreviated);break;case"aaaa":n=Pe(0,De.Wide);break;case"aaaaa":n=Pe(0,De.Narrow);break;case"b":case"bb":case"bbb":n=Pe(0,De.Abbreviated,_t.Standalone,!0);break;case"bbbb":n=Pe(0,De.Wide,_t.Standalone,!0);break;case"bbbbb":n=Pe(0,De.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":n=Pe(0,De.Abbreviated,_t.Format,!0);break;case"BBBB":n=Pe(0,De.Wide,_t.Format,!0);break;case"BBBBB":n=Pe(0,De.Narrow,_t.Format,!0);break;case"h":n=Je(3,1,-12);break;case"hh":n=Je(3,2,-12);break;case"H":n=Je(3,1);break;case"HH":n=Je(3,2);break;case"m":n=Je(4,1);break;case"mm":n=Je(4,2);break;case"s":n=Je(5,1);break;case"ss":n=Je(5,2);break;case"S":n=Je(6,1);break;case"SS":n=Je(6,2);break;case"SSS":n=Je(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Pu(0);break;case"ZZZZZ":n=Pu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Pu(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Pu(2);break;default:return null}return Yg[e]=n,n}function aC(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function u1(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function d1(e,n,t){let i=e.getTimezoneOffset(),s=aC(n,i);return u1(e,-1*(s-i))}function f1(e){if(Wb(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,s=1,a=1]=e.split("-").map(u=>+u);return ku(i,s-1,a)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(n1))return h1(r)}let n=new Date(e);if(!Wb(n))throw new Error(`Unable to convert "${e}" into a date`);return n}function h1(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-t,u=Number(e[5]||0)-r,d=Number(e[6]||0),h=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(n,a,u,d,h),n}function Wb(e){return e instanceof Date&&!isNaN(e.valueOf())}var Kg=/\s+/,Zb=[],Ti=(()=>{class e{_ngEl;_renderer;initialClasses=Zb;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Kg):Zb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Kg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Kg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(F(gn),F(Ei))};static \u0275dir=$e({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Ru=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lu=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ru(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let u=r.get(s);r.move(u,a),Yb(u,i)}});for(let i=0,s=r.length;i<s;i++){let u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Yb(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Fr),F(_i),F(Hg))};static \u0275dir=$e({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Yb(e,n){e.context.$implicit=n.item}var Jg=(()=>{class e{_viewContainer;_context=new Nu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Fr),F(_i))};static \u0275dir=$e({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Nu=class{$implicit=null;ngIf=null};function Kb(e,n){if(e&&!e.createEmbeddedView)throw new R(2020,!1)}function p1(e,n){return new R(2100,!1)}var g1="mediumDate",lC=new j(""),cC=new j(""),Pi=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let a=r??this.defaultOptions?.dateFormat??g1,u=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return oC(t,a,s||this.locale,u)}catch(a){throw p1(e,a.message)}}static \u0275fac=function(r){return new(r||e)(F(Iu,16),F(lC,24),F(cC,24))};static \u0275pipe=db({name:"date",type:e,pure:!0})}return e})();var $n=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=jn({type:e});static \u0275inj=Nn({})}return e})();function ya(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}var Qg="browser",uC="server";function Fu(e){return e===uC}var Oi=class{};var Uu=new j(""),nm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(U(Uu),U(st))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),wa=class{_doc;constructor(n){this._doc=n}manager},Vu="ng-app-id";function dC(e){for(let n of e)n.remove()}function fC(e,n){let t=n.createElement("style");return t.textContent=e,t}function m1(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Vu}="${n}"],link[${Vu}="${n}"]`);if(i)for(let s of i)s.removeAttribute(Vu),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function em(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var rm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Fu(s),m1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,fC);r?.forEach(i=>this.addUsage(i,this.external,em))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(dC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])dC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,fC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,em(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Vu,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(U(ut),U(bg),U(Eg,8),U(Ci))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),Xg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},im=/%COMP%/g;var pC="%COMP%",v1=`_nghost-${pC}`,_1=`_ngcontent-${pC}`,y1=!0,w1=new j("",{providedIn:"root",factory:()=>y1});function b1(e){return _1.replace(im,e)}function C1(e){return v1.replace(im,e)}function gC(e,n){return n.map(t=>t.replace(im,e))}var om=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,a,u,d,h=null,g=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=d,this.nonce=h,this.tracingService=g,this.platformIsServer=Fu(u),this.defaultRenderer=new ba(t,a,d,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Rn.ShadowDom&&(r=Z(A({},r),{encapsulation:Rn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Bu?i.applyToHost(t):i instanceof Ca&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,u=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.platformIsServer,w=this.tracingService;switch(r.encapsulation){case Rn.Emulated:s=new Bu(d,h,r,this.appId,g,a,u,v,w);break;case Rn.ShadowDom:return new tm(d,h,t,r,a,u,this.nonce,v,w);default:s=new Ca(d,h,r,g,a,u,v,w);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(U(nm),U(rm),U(bg),U(w1),U(ut),U(Ci),U(st),U(Eg),U(_u,8))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),ba=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,s){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Xg[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(hC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(hC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new R(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let s=Xg[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Xg[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(ur.DashCase|ur.Important)?n.style.setProperty(t,r,i&ur.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&ur.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=en().getGlobalEventTarget(this.doc,n),!n))throw new R(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(n,t,s)),this.eventManager.addEventListener(n,t,s,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function hC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var tm=class extends ba{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,s,a,u,d,h){super(n,s,a,d,h),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=gC(i.id,g);for(let w of g){let _=document.createElement("style");u&&_.setAttribute("nonce",u),_.textContent=w,this.shadowRoot.appendChild(_)}let v=i.getExternalStyles?.();if(v)for(let w of v){let _=em(w,s);u&&_.setAttribute("nonce",u),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ca=class extends ba{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,s,a,u,d,h){super(n,s,a,u,d),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let g=r.styles;this.styles=h?gC(h,g):g,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Bu=class extends Ca{contentAttr;hostAttr;constructor(n,t,r,i,s,a,u,d,h){let g=i+"-"+r.id;super(n,t,r,s,a,u,d,h,g),this.contentAttr=b1(g),this.hostAttr=C1(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var $u=class e extends pa{supportsDOMEvents=!0;static makeCurrent(){qg(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=E1();return t==null?null:D1(t)}resetBaseElement(){Ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ya(document.cookie,n)}},Ea=null;function E1(){return Ea=Ea||document.querySelector("base"),Ea?Ea.getAttribute("href"):null}function D1(e){return new URL(e,document.baseURI).pathname}var x1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),vC=(()=>{class e extends wa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||e)(U(ut))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),mC=["alt","control","meta","shift"],M1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},_C=(()=>{class e extends wa{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,s){let a=e.parseEventName(r),u=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,a.domEventName,u,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),mC.forEach(h=>{let g=r.indexOf(h);g>-1&&(r.splice(g,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=i,d.fullKey=a,d}static matchEventFullKeyCode(t,r){let i=M1[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mC.forEach(a=>{if(a!==i){let u=I1[a];u(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(U(ut))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();function sm(e,n){return Vb(A({rootComponent:e},S1(n)))}function S1(e){return{appProviders:[...k1,...e?.providers??[]],platformProviders:A1}}function T1(){$u.makeCurrent()}function P1(){return new cr}function O1(){return bw(document),document}var A1=[{provide:Ci,useValue:Qg},{provide:Cg,useValue:T1,multi:!0},{provide:ut,useFactory:O1}];var k1=[{provide:hu,useValue:"root"},{provide:cr,useFactory:P1},{provide:Uu,useClass:vC,multi:!0,deps:[ut]},{provide:Uu,useClass:_C,multi:!0,deps:[ut]},om,rm,nm,{provide:Io,useExisting:om},{provide:Oi,useClass:x1},[]];var zo=class{},Da=class{},zr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=n.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(u=>s.indexOf(u)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Hu=class{encodeKey(n){return yC(n)}encodeValue(n){return yC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function R1(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,u]=s==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],d=t.get(a)||[];d.push(u),t.set(a,d)}),t}var N1=/%(\d[a-f0-9])/gi,L1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yC(e){return encodeURIComponent(e).replace(N1,(n,t)=>L1[t]??n)}function zu(e){return`${e}`}var _r=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Hu,n.fromString){if(n.fromObject)throw new R(2805,!1);this.map=R1(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(zu):[zu(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(zu(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(zu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var qu=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function F1(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function bC(e){return typeof Blob<"u"&&e instanceof Blob}function CC(e){return typeof FormData<"u"&&e instanceof FormData}function j1(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var EC="Content-Type",DC="Accept",xC="X-Request-URL",MC="text/plain",IC="application/json",V1=`${IC}, ${MC}, */*`,$o=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let s;if(F1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new zr,this.context??=new qu,!this.params)this.params=new _r,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let u=t.indexOf("?"),d=u===-1?"?":u<t.length-1?"&":"";this.urlWithParams=t+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wC(this.body)||bC(this.body)||CC(this.body)||j1(this.body)?this.body:this.body instanceof _r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CC(this.body)?null:bC(this.body)?this.body.type||null:wC(this.body)?null:typeof this.body=="string"?MC:this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?IC:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=n.transferCache??this.transferCache,a=n.body!==void 0?n.body:this.body,u=n.withCredentials??this.withCredentials,d=n.reportProgress??this.reportProgress,h=n.headers||this.headers,g=n.params||this.params,v=n.context??this.context;return n.setHeaders!==void 0&&(h=Object.keys(n.setHeaders).reduce((w,_)=>w.set(_,n.setHeaders[_]),h)),n.setParams&&(g=Object.keys(n.setParams).reduce((w,_)=>w.set(_,n.setParams[_]),g)),new e(t,r,a,{params:g,headers:h,context:v,reportProgress:d,responseType:i,withCredentials:u,transferCache:s})}},Ai=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ai||{}),Ho=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new zr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Gu=class e extends Ho{constructor(n={}){super(n)}type=Ai.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},xa=class e extends Ho{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Ai.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ma=class extends Ho{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},B1=200,U1=204;function am(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Zu=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof $o)s=t;else{let d;i.headers instanceof zr?d=i.headers:d=new zr(i.headers);let h;i.params&&(i.params instanceof _r?h=i.params:h=new _r({fromObject:i.params})),s=new $o(t,r,i.body!==void 0?i.body:null,{headers:d,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=q(s).pipe(Sr(d=>this.handler.handle(d)));if(t instanceof $o||i.observe==="events")return a;let u=a.pipe(jt(d=>d instanceof xa));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(le(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new R(2806,!1);return d.body}));case"blob":return u.pipe(le(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new R(2807,!1);return d.body}));case"text":return u.pipe(le(d=>{if(d.body!==null&&typeof d.body!="string")throw new R(2808,!1);return d.body}));case"json":default:return u.pipe(le(d=>d.body))}case"response":return u;default:throw new R(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new _r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,am(i,r))}post(t,r,i={}){return this.request("POST",t,am(i,r))}put(t,r,i={}){return this.request("PUT",t,am(i,r))}static \u0275fac=function(r){return new(r||e)(U(zo))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();var $1=new j("");function z1(e,n){return n(e)}function H1(e,n,t){return(r,i)=>Bt(t,()=>n(r,s=>e(s,i)))}var SC=new j(""),TC=new j(""),PC=new j("",{providedIn:"root",factory:()=>!0});var Wu=(()=>{class e extends zo{backend;injector;chain=null;pendingTasks=P(Lr);contributeToStability=P(PC);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(SC),...this.injector.get(TC,[])]));this.chain=r.reduceRight((i,s)=>H1(i,s,this.injector),z1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ai(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(U(Da),U(Ct))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();var q1=/^\)\]\}',?\n/,G1=RegExp(`^${xC}:`,"m");function W1(e){return"responseURL"in e&&e.responseURL?e.responseURL:G1.test(e.getAllResponseHeaders())?e.getResponseHeader(xC):null}var lm=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new R(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Re(r.\u0275loadImpl()):q(null)).pipe(Vt(()=>new ge(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((I,T)=>a.setRequestHeader(I,T.join(","))),t.headers.has(DC)||a.setRequestHeader(DC,V1),!t.headers.has(EC)){let I=t.detectContentTypeHeader();I!==null&&a.setRequestHeader(EC,I)}if(t.responseType){let I=t.responseType.toLowerCase();a.responseType=I!=="json"?I:"text"}let u=t.serializeBody(),d=null,h=()=>{if(d!==null)return d;let I=a.statusText||"OK",T=new zr(a.getAllResponseHeaders()),N=W1(a)||t.url;return d=new Gu({headers:T,status:a.status,statusText:I,url:N}),d},g=()=>{let{headers:I,status:T,statusText:N,url:Ae}=h(),me=null;T!==U1&&(me=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=me?B1:0);let et=T>=200&&T<300;if(t.responseType==="json"&&typeof me=="string"){let tt=me;me=me.replace(q1,"");try{me=me!==""?JSON.parse(me):null}catch(Il){me=tt,et&&(et=!1,me={error:Il,text:me})}}et?(s.next(new xa({body:me,headers:I,status:T,statusText:N,url:Ae||void 0})),s.complete()):s.error(new Ma({error:me,headers:I,status:T,statusText:N,url:Ae||void 0}))},v=I=>{let{url:T}=h(),N=new Ma({error:I,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});s.error(N)},w=!1,_=I=>{w||(s.next(h()),w=!0);let T={type:Ai.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(T.total=I.total),t.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),s.next(T)},D=I=>{let T={type:Ai.UploadProgress,loaded:I.loaded};I.lengthComputable&&(T.total=I.total),s.next(T)};return a.addEventListener("load",g),a.addEventListener("error",v),a.addEventListener("timeout",v),a.addEventListener("abort",v),t.reportProgress&&(a.addEventListener("progress",_),u!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(u),s.next({type:Ai.Sent}),()=>{a.removeEventListener("error",v),a.removeEventListener("abort",v),a.removeEventListener("load",g),a.removeEventListener("timeout",v),t.reportProgress&&(a.removeEventListener("progress",_),u!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||e)(U(Oi))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})(),OC=new j(""),Z1="XSRF-TOKEN",Y1=new j("",{providedIn:"root",factory:()=>Z1}),K1="X-XSRF-TOKEN",J1=new j("",{providedIn:"root",factory:()=>K1}),Ia=class{},Q1=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ya(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(U(ut),U(Ci),U(Y1))};static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();function X1(e,n){let t=e.url.toLowerCase();if(!P(OC)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=P(Ia).getToken(),i=P(J1);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}function cm(...e){let n=[Zu,lm,Wu,{provide:zo,useExisting:Wu},{provide:Da,useFactory:()=>P($1,{optional:!0})??P(lm)},{provide:SC,useValue:X1,multi:!0},{provide:OC,useValue:!0},{provide:Ia,useClass:Q1}];for(let t of e)n.push(...t.\u0275providers);return aa(n)}var AC=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(U(ut))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ie="primary",Ua=Symbol("RouteTitle"),pm=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ni(e){return new pm(e)}function BC(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],u=e[s];if(a[0]===":")i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function nk(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!zn(e[t],n[t]))return!1;return!0}function zn(e,n){let t=e?gm(e):void 0,r=n?gm(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!UC(e[i],n[i]))return!1;return!0}function gm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function UC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}else return e===n}function $C(e){return e.length>0?e[e.length-1]:null}function Gr(e){return Ah(e)?e:Di(e)?Re(Promise.resolve(e)):q(e)}var rk={exact:HC,subset:qC},zC={exact:ik,subset:ok,ignored:()=>!0};function kC(e,n,t){return rk[t.paths](e.root,n.root,t.matrixParams)&&zC[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function ik(e,n){return zn(e,n)}function HC(e,n,t){if(!ki(e.segments,n.segments)||!Ju(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!HC(e.children[r],n.children[r],t))return!1;return!0}function ok(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>UC(e[t],n[t]))}function qC(e,n,t){return GC(e,n,n.segments,t)}function GC(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!ki(i,t)||n.hasChildren()||!Ju(i,t,r))}else if(e.segments.length===t.length){if(!ki(e.segments,t)||!Ju(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!qC(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!ki(e.segments,i)||!Ju(e.segments,i,r)||!e.children[ie]?!1:GC(e.children[ie],n,s,r)}}function Ju(e,n,t){return n.every((r,i)=>zC[t](e[i].parameters,r.parameters))}var qn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new be([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){return lk.serialize(this)}},be=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qu(this)}},Hr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ni(this.parameters),this._parameterMap}toString(){return ZC(this)}};function sk(e,n){return ki(e,n)&&e.every((t,r)=>zn(t.parameters,n[r].parameters))}function ki(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function ak(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===ie&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(n(i,r)))}),t}var $a=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>new Li,providedIn:"root"})}return e})(),Li=class{parse(n){let t=new vm(n);return new qn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Sa(n.root,!0)}`,r=dk(n.queryParams),i=typeof n.fragment=="string"?`#${ck(n.fragment)}`:"";return`${t}${r}${i}`}},lk=new Li;function Qu(e){return e.segments.map(n=>ZC(n)).join("/")}function Sa(e,n){if(!e.hasChildren())return Qu(e);if(n){let t=e.children[ie]?Sa(e.children[ie],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${Sa(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ak(e,(r,i)=>i===ie?[Sa(e.children[ie],!1)]:[`${i}:${Sa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ie]!=null?`${Qu(e)}/${t[0]}`:`${Qu(e)}/(${t.join("//")})`}}function WC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(e){return WC(e).replace(/%3B/gi,";")}function ck(e){return encodeURI(e)}function mm(e){return WC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(e){return decodeURIComponent(e)}function RC(e){return Xu(e.replace(/\+/g,"%20"))}function ZC(e){return`${mm(e.path)}${uk(e.parameters)}`}function uk(e){return Object.entries(e).map(([n,t])=>`;${mm(n)}=${mm(t)}`).join("")}function dk(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yu(t)}=${Yu(i)}`).join("&"):`${Yu(t)}=${Yu(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var fk=/^[^\/()?;#]+/;function um(e){let n=e.match(fk);return n?n[0]:""}var hk=/^[^\/()?;=#]+/;function pk(e){let n=e.match(hk);return n?n[0]:""}var gk=/^[^=?&#]+/;function mk(e){let n=e.match(gk);return n?n[0]:""}var vk=/^[^&#]+/;function _k(e){let n=e.match(vk);return n?n[0]:""}var vm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[ie]=new be(n,t)),r}parseSegment(){let n=um(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new Hr(Xu(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=pk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=um(this.remaining);i&&(r=i,this.capture(r))}n[Xu(t)]=Xu(r)}parseQueryParam(n){let t=mk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=_k(this.remaining);a&&(r=a,this.capture(r))}let i=RC(t),s=RC(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(s)}else n[i]=s}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=um(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=ie);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[ie]:new be([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function YC(e){return e.segments.length>0?new be([],{[ie]:e}):e}function KC(e){let n={};for(let[r,i]of Object.entries(e.children)){let s=KC(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[a,u]of Object.entries(s.children))n[a]=u;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}let t=new be(e.segments,n);return yk(t)}function yk(e){if(e.numberOfChildren===1&&e.children[ie]){let n=e.children[ie];return new be(e.segments.concat(n.segments),n.children)}return e}function qr(e){return e instanceof qn}function JC(e,n,t=null,r=null){let i=QC(e);return XC(i,n,t,r)}function QC(e){let n;function t(s){let a={};for(let d of s.children){let h=t(d);a[d.outlet]=h}let u=new be(s.url,a);return s===e&&(n=u),u}let r=t(e.root),i=YC(r);return n??i}function XC(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return dm(i,i,i,t,r);let s=wk(n);if(s.toRoot())return dm(i,i,new be([],{}),t,r);let a=bk(s,i,e),u=a.processChildren?Pa(a.segmentGroup,a.index,s.commands):tE(a.segmentGroup,a.index,s.commands);return dm(i,a.segmentGroup,u,t,r)}function td(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Aa(e){return typeof e=="object"&&e!=null&&e.outlets}function dm(e,n,t,r,i){let s={};r&&Object.entries(r).forEach(([d,h])=>{s[d]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`});let a;e===n?a=t:a=eE(e,n,t);let u=YC(KC(a));return new qn(u,s,i)}function eE(e,n,t){let r={};return Object.entries(e.children).forEach(([i,s])=>{s===n?r[i]=t:r[i]=eE(s,n,t)}),new be(e.segments,r)}var nd=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&td(r[0]))throw new R(4003,!1);let i=r.find(Aa);if(i&&i!==$C(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new nd(!0,0,e);let n=0,t=!1,r=e.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let u={};return Object.entries(s.outlets).forEach(([d,h])=>{u[d]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?t=!0:u===".."?n++:u!=""&&i.push(u))}),i):[...i,s]},[]);return new nd(t,n,r)}var Wo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function bk(e,n,t){if(e.isAbsolute)return new Wo(n,!0,0);if(!t)return new Wo(n,!1,NaN);if(t.parent===null)return new Wo(t,!0,0);let r=td(e.commands[0])?0:1,i=t.segments.length-1+r;return Ck(t,i,e.numberOfDoubleDots)}function Ck(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new Wo(r,!1,i-s)}function Ek(e){return Aa(e[0])?e[0].outlets:{[ie]:e}}function tE(e,n,t){if(e??=new be([],{}),e.segments.length===0&&e.hasChildren())return Pa(e,n,t);let r=Dk(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let s=new be(e.segments.slice(0,r.pathIndex),{});return s.children[ie]=new be(e.segments.slice(r.pathIndex),e.children),Pa(s,0,i)}else return r.match&&i.length===0?new be(e.segments,{}):r.match&&!e.hasChildren()?_m(e,n,t):r.match?Pa(e,0,i):_m(e,n,t)}function Pa(e,n,t){if(t.length===0)return new be(e.segments,{});{let r=Ek(t),i={};if(Object.keys(r).some(s=>s!==ie)&&e.children[ie]&&e.numberOfChildren===1&&e.children[ie].segments.length===0){let s=Pa(e.children[ie],n,t);return new be(e.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=tE(e.children[s],n,a))}),Object.entries(e.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new be(e.segments,i)}}function Dk(e,n,t){let r=0,i=n,s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;let a=e.segments[i],u=t[r];if(Aa(u))break;let d=`${u}`,h=r<t.length-1?t[r+1]:null;if(i>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!LC(d,h,a))return s;r+=2}else{if(!LC(d,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _m(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let s=t[i];if(Aa(s)){let d=xk(s.outlets);return new be(r,d)}if(i===0&&td(t[0])){let d=e.segments[n];r.push(new Hr(d.path,NC(t[0]))),i++;continue}let a=Aa(s)?s.outlets[ie]:`${s}`,u=i<t.length-1?t[i+1]:null;a&&u&&td(u)?(r.push(new Hr(a,NC(u))),i+=2):(r.push(new Hr(a,{})),i++)}return new be(r,{})}function xk(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=_m(new be([],{}),0,r))}),n}function NC(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function LC(e,n,t){return e==t.path&&zn(n,t.parameters)}var ed="imperative",dt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(dt||{}),zt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Fi=class extends zt{type=dt.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gn=class extends zt{urlAfterRedirects;type=dt.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Nt||{}),ka=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ka||{}),Hn=class extends zt{reason;code;type=dt.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends zt{reason;code;type=dt.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Yo=class extends zt{error;target;type=dt.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ra=class extends zt{urlAfterRedirects;state;type=dt.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rd=class extends zt{urlAfterRedirects;state;type=dt.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},id=class extends zt{urlAfterRedirects;state;shouldActivate;type=dt.GuardsCheckEnd;constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},od=class extends zt{urlAfterRedirects;state;type=dt.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends zt{urlAfterRedirects;state;type=dt.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ad=class{route;type=dt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ld=class{route;type=dt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cd=class{snapshot;type=dt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ud=class{snapshot;type=dt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{snapshot;type=dt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{snapshot;type=dt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Na=class{},Ko=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Mk(e,n){return e.providers&&!e._injector&&(e._injector=xu(e.providers,n,`Route: ${e.path}`)),e._injector??n}function bn(e){return e.outlet||ie}function Ik(e,n){let t=e.filter(r=>bn(r)===n);return t.push(...e.filter(r=>bn(r)!==n)),t}function za(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return za(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Xo(this.rootInjector)}},Xo=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(U(Ct))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pd=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=ym(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=ym(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=wm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return wm(n,this._root).map(t=>t.value)}};function ym(e,n){if(e===n.value)return n;for(let t of n.children){let r=ym(e,t);if(r)return r}return null}function wm(e,n){if(e===n.value)return[n];for(let t of n.children){let r=wm(e,t);if(r.length)return r.unshift(n),r}return[]}var $t=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Go(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var La=class extends pd{snapshot;constructor(n,t){super(n),this.snapshot=t,Sm(this,n)}toString(){return this.snapshot.toString()}};function nE(e){let n=Sk(e),t=new ht([new Hr("",{})]),r=new ht({}),i=new ht({}),s=new ht({}),a=new ht(""),u=new Cn(t,r,s,a,i,ie,e,n.root);return u.snapshot=n.root,new La(new $t(u,[]),n)}function Sk(e){let n={},t={},r={},i="",s=new Ri([],n,r,i,t,ie,e,null,{});return new Fa("",new $t(s,[]))}var Cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,s,a,u,d){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(le(h=>h[Ua]))??q(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(n=>Ni(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(n=>Ni(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gd(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:A(A({},n.params),e.params),data:A(A({},n.data),e.data),resolve:A(A(A(A({},e.data),n.data),i?.data),e._resolvedData)}:r={params:A({},e.params),data:A({},e.data),resolve:A(A({},e.data),e._resolvedData??{})},i&&iE(i)&&(r.resolve[Ua]=i.title),r}var Ri=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ua]}constructor(n,t,r,i,s,a,u,d,h){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=u,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ni(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Fa=class extends pd{url;constructor(n,t){super(t),this.url=n,Sm(this,t)}toString(){return rE(this._root)}};function Sm(e,n){n.value._routerState=e,n.children.forEach(t=>Sm(e,t))}function rE(e){let n=e.children.length>0?` { ${e.children.map(rE).join(", ")} } `:"";return`${e.value}${n}`}function fm(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,zn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),zn(n.params,t.params)||e.paramsSubject.next(t.params),nk(n.url,t.url)||e.urlSubject.next(t.url),zn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function bm(e,n){let t=zn(e.params,n.params)&&sk(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||bm(e.parent,n.parent))}function iE(e){return typeof e.title=="string"||e.title===null}var oE=new j(""),Ha=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new je;deactivateEvents=new je;attachEvents=new je;detachEvents=new je;routerOutletData=hw(void 0);parentContexts=P(Xo);location=P(Fr);changeDetector=P(jo);inputBinder=P(yd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new Cm(t,u,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=$e({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pr]})}return e})(),Cm=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Cn?this.route:n===Xo?this.childContexts:n===oE?this.outletData:this.parent.get(n,t)}},yd=new j("");function Tk(e,n,t){let r=ja(e,n._root,t?t._root:void 0);return new La(r,n)}function ja(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=Pk(e,n,t);return new $t(r,i)}else{if(e.shouldAttach(n.value)){let s=e.retrieve(n.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(u=>ja(e,u)),a}}let r=Ok(n.value),i=n.children.map(s=>ja(e,s));return new $t(r,i)}}function Pk(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ja(e,r,i);return ja(e,r)})}function Ok(e){return new Cn(new ht(e.url),new ht(e.params),new ht(e.queryParams),new ht(e.fragment),new ht(e.data),e.outlet,e.component,e)}var Jo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},sE="ngNavigationCancelingError";function md(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=qr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=aE(!1,Nt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function aE(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[sE]=!0,t.cancellationCode=n,t}function Ak(e){return lE(e)&&qr(e.url)}function lE(e){return!!e&&e[sE]}var kk=(e,n,t,r)=>le(i=>(new Em(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Em=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),fm(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Go(t);n.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){let i=n.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Go(n);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:u})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Go(n);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Go(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fd(s.value.snapshot))}),n.children.length&&this.forwardEvent(new ud(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,s=t?t.value:null;if(fm(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),fm(u.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,r)}},vd=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Zo=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Rk(e,n,t){let r=e._root,i=n?n._root:null;return Ta(r,i,t,[r.value])}function Nk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function es(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!a0(e)?e:n.get(e):r}function Ta(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Go(n);return e.children.forEach(a=>{Lk(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,u])=>Oa(u,t.getContext(a),i)),i}function Lk(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,a=n?n.value:null,u=t?t.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let d=Fk(a,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new vd(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Ta(e,n,u?u.children:null,r,i):Ta(e,n,t,r,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Zo(u.outlet.component,a))}else a&&Oa(n,u,i),i.canActivateChecks.push(new vd(r)),s.component?Ta(e,null,u?u.children:null,r,i):Ta(e,null,t,r,i);return i}function Fk(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!ki(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ki(e.url,n.url)||!zn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bm(e,n)||!zn(e.queryParams,n.queryParams);case"paramsChange":default:return!bm(e,n)}}function Oa(e,n,t){let r=Go(e),i=e.value;Object.entries(r).forEach(([s,a])=>{i.component?n?Oa(a,n.children.getContext(s),t):Oa(a,null,t):Oa(a,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Zo(n.outlet.component,i)):t.canDeactivateChecks.push(new Zo(null,i)):t.canDeactivateChecks.push(new Zo(null,i))}function qa(e){return typeof e=="function"}function jk(e){return typeof e=="boolean"}function Vk(e){return e&&qa(e.canLoad)}function Bk(e){return e&&qa(e.canActivate)}function Uk(e){return e&&qa(e.canActivateChild)}function $k(e){return e&&qa(e.canDeactivate)}function zk(e){return e&&qa(e.canMatch)}function cE(e){return e instanceof rr||e?.name==="EmptyError"}var Ku=Symbol("INITIAL_VALUE");function Qo(){return Vt(e=>Dc(e.map(n=>n.pipe(ir(1),jh(Ku)))).pipe(le(n=>{for(let t of n)if(t!==!0){if(t===Ku)return Ku;if(t===!1||Hk(t))return t}return!0}),jt(n=>n!==Ku),ir(1)))}function Hk(e){return qr(e)||e instanceof Jo}function qk(e,n){return rt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?q(Z(A({},t),{guardsResult:!0})):Gk(a,r,i,e).pipe(rt(u=>u&&jk(u)?Wk(r,s,e,n):q(u)),le(u=>Z(A({},t),{guardsResult:u})))})}function Gk(e,n,t,r){return Re(e).pipe(rt(i=>Qk(i.component,i.route,t,n,r)),or(i=>i!==!0,!0))}function Wk(e,n,t,r){return Re(n).pipe(Sr(i=>go(Yk(i.route.parent,r),Zk(i.route,r),Jk(e,i.path,t),Kk(e,i.route,t))),or(i=>i!==!0,!0))}function Zk(e,n){return e!==null&&n&&n(new dd(e)),q(!0)}function Yk(e,n){return e!==null&&n&&n(new cd(e)),q(!0)}function Kk(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>xc(()=>{let a=za(n)??t,u=es(s,a),d=Bk(u)?u.canActivate(n,e):Bt(a,()=>u(n,e));return Gr(d).pipe(or())}));return q(i).pipe(Qo())}function Jk(e,n,t){let r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(a=>Nk(a)).filter(a=>a!==null).map(a=>xc(()=>{let u=a.guards.map(d=>{let h=za(a.node)??t,g=es(d,h),v=Uk(g)?g.canActivateChild(r,e):Bt(h,()=>g(r,e));return Gr(v).pipe(or())});return q(u).pipe(Qo())}));return q(s).pipe(Qo())}function Qk(e,n,t,r,i){let s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let a=s.map(u=>{let d=za(n)??i,h=es(u,d),g=$k(h)?h.canDeactivate(e,n,t,r):Bt(d,()=>h(e,n,t,r));return Gr(g).pipe(or())});return q(a).pipe(Qo())}function Xk(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(a=>{let u=es(a,e),d=Vk(u)?u.canLoad(n,t):Bt(e,()=>u(n,t));return Gr(d)});return q(s).pipe(Qo(),uE(r))}function uE(e){return Ih(pt(n=>{if(typeof n!="boolean")throw md(e,n)}),le(n=>n===!0))}function eR(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(a=>{let u=es(a,e),d=zk(u)?u.canMatch(n,t):Bt(e,()=>u(n,t));return Gr(d)});return q(s).pipe(Qo(),uE(r))}var Va=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ba=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function qo(e){return po(new Va(e))}function tR(e){return po(new R(4e3,!1))}function nR(e){return po(aE(!1,Nt.GuardRejected))}var Dm=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ie])return tR(`${n.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(n,t,r,i,s){if(typeof t!="string"){let u=t,{queryParams:d,fragment:h,routeConfig:g,url:v,outlet:w,params:_,data:D,title:I}=i,T=Bt(s,()=>u({params:_,data:D,queryParams:d,fragment:h,routeConfig:g,url:v,outlet:w,title:I}));if(T instanceof qn)throw new Ba(T);t=T}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Ba(a);return a}applyRedirectCreateUrlTree(n,t,r,i){let s=this.createSegmentGroup(n,t.root,r,i);return new qn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let u=s.substring(1);r[i]=t[u]}else r[i]=s}),r}createSegmentGroup(n,t,r,i){let s=this.createSegments(n,t.segments,r,i),a={};return Object.entries(t.children).forEach(([u,d])=>{a[u]=this.createSegmentGroup(n,d,r,i)}),new be(s,a)}createSegments(n,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}},xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rR(e,n,t,r,i){let s=dE(e,n,t);return s.matched?(r=Mk(n,r),eR(r,n,t,i).pipe(le(a=>a===!0?s:A({},xm)))):q(s)}function dE(e,n,t){if(n.path==="**")return iR(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?A({},xm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||BC)(t,e,n);if(!i)return A({},xm);let s={};Object.entries(i.posParams??{}).forEach(([u,d])=>{s[u]=d.path});let a=i.consumed.length>0?A(A({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function iR(e){return{matched:!0,parameters:e.length>0?$C(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function FC(e,n,t,r){return t.length>0&&aR(e,t,r)?{segmentGroup:new be(n,sR(r,new be(t,e.children))),slicedSegments:[]}:t.length===0&&lR(e,t,r)?{segmentGroup:new be(e.segments,oR(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new be(e.segments,e.children),slicedSegments:t}}function oR(e,n,t,r){let i={};for(let s of t)if(wd(e,n,s)&&!r[bn(s)]){let a=new be([],{});i[bn(s)]=a}return A(A({},r),i)}function sR(e,n){let t={};t[ie]=n;for(let r of e)if(r.path===""&&bn(r)!==ie){let i=new be([],{});t[bn(r)]=i}return t}function aR(e,n,t){return t.some(r=>wd(e,n,r)&&bn(r)!==ie)}function lR(e,n,t){return t.some(r=>wd(e,n,r))}function wd(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function cR(e,n,t){return n.length===0&&!e.children[t]}var Mm=class{};function uR(e,n,t,r,i,s,a="emptyOnly"){return new Im(e,n,t,r,i,a,s).recognize()}var dR=31,Im=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,s,a,u){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=u,this.applyRedirects=new Dm(this.urlSerializer,this.urlTree)}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}recognize(){let n=FC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(le(({children:t,rootSnapshot:r})=>{let i=new $t(r,t),s=new Fa("",i),a=JC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(n){let t=new Ri([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,ie,t).pipe(le(r=>({children:r,rootSnapshot:t})),Ir(r=>{if(r instanceof Ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Va?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,s):this.processSegment(n,t,r,r.segments,i,!0,s).pipe(le(a=>a instanceof $t?[a]:[]))}processChildren(n,t,r,i){let s=[];for(let a of Object.keys(r.children))a==="primary"?s.unshift(a):s.push(a);return Re(s).pipe(Sr(a=>{let u=r.children[a],d=Ik(t,a);return this.processSegmentGroup(n,d,u,a,i)}),Fh((a,u)=>(a.push(...u),a)),Tr(null),Lh(),rt(a=>{if(a===null)return qo(r);let u=fE(a);return fR(u),q(u)}))}processSegment(n,t,r,i,s,a,u){return Re(t).pipe(Sr(d=>this.processSegmentAgainstRoute(d._injector??n,t,d,r,i,s,a,u).pipe(Ir(h=>{if(h instanceof Va)return q(null);throw h}))),or(d=>!!d),Ir(d=>{if(cE(d))return cR(r,i,s)?q(new Mm):qo(r);throw d}))}processSegmentAgainstRoute(n,t,r,i,s,a,u,d){return bn(r)!==a&&(a===ie||!wd(i,s,r))?qo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,s,a,d):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,s,a,d):qo(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a,u){let{matched:d,parameters:h,consumedSegments:g,positionalParamSegments:v,remainingSegments:w}=dE(t,i,s);if(!d)return qo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dR&&(this.allowRedirects=!1));let _=new Ri(s,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,jC(i),bn(i),i.component??i._loadedComponent??null,i,VC(i)),D=gd(_,u,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let I=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,v,_,n);return this.applyRedirects.lineralizeSegments(i,I).pipe(rt(T=>this.processSegment(n,r,t,T.concat(w),a,!1,u)))}matchSegmentAgainstRoute(n,t,r,i,s,a){let u=rR(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),u.pipe(Vt(d=>d.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Vt(({routes:h})=>{let g=r._loadedInjector??n,{parameters:v,consumedSegments:w,remainingSegments:_}=d,D=new Ri(w,v,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,jC(r),bn(r),r.component??r._loadedComponent??null,r,VC(r)),I=gd(D,a,this.paramsInheritanceStrategy);D.params=Object.freeze(I.params),D.data=Object.freeze(I.data);let{segmentGroup:T,slicedSegments:N}=FC(t,w,_,h);if(N.length===0&&T.hasChildren())return this.processChildren(g,h,T,D).pipe(le(me=>new $t(D,me)));if(h.length===0&&N.length===0)return q(new $t(D,[]));let Ae=bn(r)===s;return this.processSegment(g,h,T,N,Ae?ie:s,!0,D).pipe(le(me=>new $t(D,me instanceof $t?[me]:[])))}))):qo(t)))}getChildConfig(n,t,r){return t.children?q({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):Xk(n,t,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(n,t).pipe(pt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):nR(t))):q({routes:[],injector:n})}};function fR(e){e.sort((n,t)=>n.value.outlet===ie?-1:t.value.outlet===ie?1:n.value.outlet.localeCompare(t.value.outlet))}function hR(e){let n=e.value.routeConfig;return n&&n.path===""}function fE(e){let n=[],t=new Set;for(let r of e){if(!hR(r)){n.push(r);continue}let i=n.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=fE(r.children);n.push(new $t(r.value,i))}return n.filter(r=>!t.has(r))}function jC(e){return e.data||{}}function VC(e){return e.resolve||{}}function pR(e,n,t,r,i,s){return rt(a=>uR(e,n,t,r,a.extractedUrl,i,s).pipe(le(({state:u,tree:d})=>Z(A({},a),{targetSnapshot:u,urlAfterRedirects:d}))))}function gR(e,n){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let s=new Set(i.map(d=>d.route)),a=new Set;for(let d of s)if(!a.has(d))for(let h of hE(d))a.add(h);let u=0;return Re(a).pipe(Sr(d=>s.has(d)?mR(d,r,e,n):(d.data=gd(d,d.parent,e).resolve,q(void 0))),pt(()=>u++),mo(1),rt(d=>u===a.size?q(t):St))})}function hE(e){let n=e.children.map(t=>hE(t)).flat();return[e,...n]}function mR(e,n,t,r){let i=e.routeConfig,s=e._resolve;return i?.title!==void 0&&!iE(i)&&(s[Ua]=i.title),vR(s,e,n,r).pipe(le(a=>(e._resolvedData=a,e.data=gd(e,e.parent,t).resolve,null)))}function vR(e,n,t,r){let i=gm(e);if(i.length===0)return q({});let s={};return Re(i).pipe(rt(a=>_R(e[a],n,t,r).pipe(or(),pt(u=>{if(u instanceof Jo)throw md(new Li,u);s[a]=u}))),mo(1),le(()=>s),Ir(a=>cE(a)?St:po(a)))}function _R(e,n,t,r){let i=za(n)??r,s=es(e,i),a=s.resolve?s.resolve(n,t):Bt(i,()=>s(n,t));return Gr(a)}function hm(e){return Vt(n=>{let t=e(n);return t?Re(t).pipe(le(()=>n)):q(n)})}var Tm=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Ua]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>P(pE),providedIn:"root"})}return e})(),pE=(()=>{class e extends Tm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(U(AC))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ga=new j("",{providedIn:"root",factory:()=>({})}),Pm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ee({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[Ha],encapsulation:2})}return e})();function Om(e){let n=e.children&&e.children.map(Om),t=n?Z(A({},e),{children:n}):A({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=Pm),t}var Wa=new j(""),gE=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Lb);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Gr(t.loadComponent()).pipe(le(vE),pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ai(()=>{this.componentLoaders.delete(t)})),i=new fo(r,()=>new ke).pipe(uo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=mE(r,this.compiler,t,this.onLoadEndListener).pipe(ai(()=>{this.childrenLoaders.delete(r)})),a=new fo(s,()=>new ke).pipe(uo());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mE(e,n,t,r){return Gr(e.loadChildren()).pipe(le(vE),rt(i=>i instanceof Ug||Array.isArray(i)?q(i):Re(n.compileModuleAsync(i))),le(i=>{r&&r(e);let s,a,u=!1;return Array.isArray(i)?(a=i,u=!0):(s=i.create(t).injector,a=s.get(Wa,[],{optional:!0,self:!0}).flat()),{routes:a.map(Om),injector:s}}))}function yR(e){return e&&typeof e=="object"&&"default"in e}function vE(e){return yR(e)?e.default:e}var bd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>P(wR),providedIn:"root"})}return e})(),wR=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_E=new j("");var yE=new j(""),wE=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ke;transitionAbortSubject=new ke;configLoader=P(gE);environmentInjector=P(Ct);destroyRef=P(Nr);urlSerializer=P($a);rootContexts=P(Xo);location=P(Uo);inputBindingEnabled=P(yd,{optional:!0})!==null;titleStrategy=P(Tm);options=P(Ga,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(bd);createViewTransition=P(_E,{optional:!0});navigationErrorHandler=P(yE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ad(i)),r=i=>this.events.next(new ld(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Z(A({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ht(null),this.transitions.pipe(jt(r=>r!==null),Vt(r=>{let i=!1,s=!1;return q(r).pipe(Vt(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),St;this.currentTransition=r,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Z(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new yr(a.id,this.urlSerializer.serialize(a.rawUrl),h,ka.IgnoredSameUrlNavigation)),a.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return q(a).pipe(Vt(h=>(this.events.next(new Fi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?St:Promise.resolve(h))),pR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Z(A({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new Ra(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:g,source:v,restoredState:w,extras:_}=a,D=new Fi(h,this.urlSerializer.serialize(g),v,w);this.events.next(D);let I=nE(this.rootComponentType).snapshot;return this.currentTransition=r=Z(A({},a),{targetSnapshot:I,urlAfterRedirects:g,extras:Z(A({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,q(r)}else{let h="";return this.events.next(new yr(a.id,this.urlSerializer.serialize(a.extractedUrl),h,ka.IgnoredByUrlHandlingStrategy)),a.resolve(!1),St}}),pt(a=>{let u=new rd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),le(a=>(this.currentTransition=r=Z(A({},a),{guards:Rk(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),qk(this.environmentInjector,a=>this.events.next(a)),pt(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw md(this.urlSerializer,a.guardsResult);let u=new id(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),jt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Nt.GuardRejected),!1)),hm(a=>{if(a.guards.canActivateChecks.length!==0)return q(a).pipe(pt(u=>{let d=new od(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Vt(u=>{let d=!1;return q(u).pipe(gR(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Nt.NoDataFromResolver)}}))}),pt(u=>{let d=new sd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),hm(a=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(pt(g=>{d.component=g}),le(()=>{})));for(let g of d.children)h.push(...u(g));return h};return Dc(u(a.targetSnapshot.root)).pipe(Tr(null),ir(1))}),hm(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?Re(d).pipe(le(()=>r)):q(r)}),le(a=>{let u=Tk(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=Z(A({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,r}),pt(()=>{this.events.next(new Na)}),kk(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),ir(1),pt({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),Pr(this.transitionAbortSubject.pipe(pt(a=>{throw a}))),ai(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(a=>{if(this.destroyed)return r.resolve(!1),St;if(s=!0,lE(a))this.events.next(new Hn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),Ak(a)?this.events.next(new Ko(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Yo(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let d=Bt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Jo){let{message:h,cancellationCode:g}=md(this.urlSerializer,d);this.events.next(new Hn(r.id,this.urlSerializer.serialize(r.extractedUrl),h,g)),this.events.next(new Ko(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return St}))}))}cancelNavigationTransition(t,r,i){let s=new Hn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bR(e){return e!==ed}var bE=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>P(CR),providedIn:"root"})}return e})(),_d=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},CR=(()=>{class e extends _d{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(e)))(i||e)}})();static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CE=(()=>{class e{urlSerializer=P($a);options=P(Ga,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Uo);urlHandlingStrategy=P(bd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=i??s;return a instanceof qn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=nE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:()=>P(ER),providedIn:"root"})}return e})(),ER=(()=>{class e extends CE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Fi?this.updateStateMemento():t instanceof yr?this.commitTransition(r):t instanceof Ra?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Na?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Hn&&(t.code===Nt.GuardRejected||t.code===Nt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Yo?this.restoreHistory(r,!0):t instanceof Gn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||s){let u=this.browserPageId,d=A(A({},a),this.generateNgRouterState(i,u));this.location.replaceState(t,"",d)}else{let u=A(A({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",u)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(e)))(i||e)}})();static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Am(e,n){e.events.pipe(jt(t=>t instanceof Gn||t instanceof Hn||t instanceof Yo||t instanceof yr),le(t=>t instanceof Gn||t instanceof yr?0:(t instanceof Hn?t.code===Nt.Redirect||t.code===Nt.SupersededByNewNavigation:!1)?2:1),jt(t=>t!==2),ir(1)).subscribe(()=>{n()})}var DR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ge=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(mb);stateManager=P(CE);options=P(Ga,{optional:!0})||{};pendingTasks=P(Lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(wE);urlSerializer=P($a);location=P(Uo);urlHandlingStrategy=P(bd);_events=new ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(bE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Wa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(yd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Hn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gn)this.navigated=!0;else if(r instanceof Ko){let a=r.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),d=A({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bR(i.source)},a);this.scheduleNavigation(u,ed,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}IR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ed,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let d=A({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let u=this.parseUrl(t);this.scheduleNavigation(u,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Om),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:a,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=A(A({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let v;try{let w=i?i.snapshot:this.routerState.snapshot.root;v=QC(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),v=this.currentUrlTree.root}return XC(v,t,g,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ed,null,r)}navigate(t,r={skipLocationChange:!1}){return MR(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=A({},DR):r===!1?i=A({},xR):i=r,qr(t))return kC(this.currentUrlTree,t,i);let s=this.parseUrl(t);return kC(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let u,d,h;a?(u=a.resolve,d=a.reject,h=a.promise):h=new Promise((v,w)=>{u=v,d=w});let g=this.pendingTasks.add();return Am(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:u,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(v=>Promise.reject(v))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MR(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new R(4008,!1)}function IR(e){return!(e instanceof Na)&&!(e instanceof Ko)}var Cd=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ke;constructor(t,r,i,s,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=a,this.locationStrategy=u;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof Gn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(t!==0||r||i||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Tw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(F(Ge),F(Cn),mg("tabindex"),F(Ei),F(gn),F(Bo))};static \u0275dir=$e({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&z("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ha("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Si],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Si],replaceUrl:[2,"replaceUrl","replaceUrl",Si],routerLink:"routerLink"},features:[pr]})}return e})();var TR=new j("");function km(e,...n){return aa([{provide:Wa,multi:!0,useValue:e},[],{provide:Cn,useFactory:PR,deps:[Ge]},{provide:$g,multi:!0,useFactory:OR},n.map(t=>t.\u0275providers)])}function PR(e){return e.routerState.root}function OR(){let e=P(kn);return n=>{let t=e.get(yi);if(n!==t.components[0])return;let r=e.get(Ge),i=e.get(AR);e.get(kR)===1&&r.initialNavigation(),e.get(RR,null,ue.Optional)?.setUpPreloading(),e.get(TR,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AR=new j("",{factory:()=>new ke}),kR=new j("",{providedIn:"root",factory:()=>1});var RR=new j("");var $=O_(DE());var xE=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var Za=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Dd=class extends Za{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},xd=class extends Za{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Md=class extends Za{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Rm=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Rm||{});var NR=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},Ya=class{constructor(n,{headers:t={},customFetch:r,region:i=Rm.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=xE(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return NR(this,void 0,void 0,function*(){try{let{headers:i,method:s,body:a}=t,u={},{region:d}=t;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)));let g=yield this.fetch(`${this.url}/${n}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h}).catch(D=>{throw new Dd(D)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new xd(g);if(!g.ok)throw new Md(g);let w=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield g.json():w==="application/octet-stream"?_=yield g.blob():w==="text/event-stream"?_=g:w==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}};var jE=O_(FE(),1),{PostgrestClient:VE,PostgrestQueryBuilder:b4,PostgrestFilterBuilder:C4,PostgrestTransformBuilder:E4,PostgrestBuilder:D4,PostgrestError:WR}=jE.default;var BE="2.11.2";var UE={"X-Client-Info":`realtime-js/${BE}`},$E="1.0.0",Pd=1e4,zE=1e3,ns=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(ns||{}),Ht=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Ht||{}),nn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(nn||{}),Gm=function(e){return e.websocket="websocket",e}(Gm||{}),ji=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(ji||{});var Od=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),s=t.getUint8(2),a=this.HEADER_LENGTH+2,u=r.decode(n.slice(a,a+i));a=a+i;let d=r.decode(n.slice(a,a+s));a=a+s;let h=JSON.parse(r.decode(n.slice(a,n.byteLength)));return{ref:null,topic:u,event:d,payload:h}}};var rs=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Oe=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Oe||{}),Zm=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((s,a)=>(s[a]=ZR(a,e,n,i),s),{})},ZR=(e,n,t,r)=>{let i=n.find(u=>u.name===e),s=i?.type,a=t[e];return s&&!r.includes(s)?HE(s,a):Wm(a)},HE=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return QR(n,t)}switch(e){case Oe.bool:return YR(n);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return KR(n);case Oe.json:case Oe.jsonb:return JR(n);case Oe.timestamp:return XR(n);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Wm(n);default:return Wm(n)}},Wm=e=>e,YR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},KR=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},JR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},QR=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let s,a=e.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(u=>HE(n,u))}return e},XR=e=>typeof e=="string"?e.replace(" ","T"):e,Ad=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var is=class{constructor(n,t,r={},i=Pd){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var nl=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:s,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,s,a),this.pendingDiffs.forEach(d=>{this.state=e.syncDiff(this.state,d,s,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{let{onJoin:s,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,s,a),u())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let s=this.cloneDeep(n),a=this.transformState(t),u={},d={};return this.map(s,(h,g)=>{a[h]||(d[h]=g)}),this.map(a,(h,g)=>{let v=s[h];if(v){let w=g.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),D=g.filter(T=>_.indexOf(T.presence_ref)<0),I=v.filter(T=>w.indexOf(T.presence_ref)<0);D.length>0&&(u[h]=D),I.length>0&&(d[h]=I)}else u[h]=g}),this.syncDiff(s,{joins:u,leaves:d},r,i)}static syncDiff(n,t,r,i){let{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var h;let g=(h=n[u])!==null&&h!==void 0?h:[];if(n[u]=this.cloneDeep(d),g.length>0){let v=n[u].map(_=>_.presence_ref),w=g.filter(_=>v.indexOf(_.presence_ref)<0);n[u].unshift(...w)}r(u,g,d)}),this.map(a,(u,d)=>{let h=n[u];if(!h)return;let g=d.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),n[u]=h,i(u,h,d),h.length===0&&delete n[u]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var wr=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(wr||{});var rl=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new is(this,nn.join,this.params,this.timeout),this.rejoinTimer=new rs(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new nl(this),this.broadcastEndpointURL=Ad(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:a,private:u}}=this.params;this._onError(g=>n?.(wr.CHANNEL_ERROR,g)),this._onClose(()=>n?.(wr.CLOSED));let d={},h={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){n?.(wr.SUBSCRIBED);return}else{let w=this.bindings.postgres_changes,_=(v=w?.length)!==null&&v!==void 0?v:0,D=[];for(let I=0;I<_;I++){let T=w[I],{filter:{event:N,schema:Ae,table:me,filter:et}}=T,tt=g&&g[I];if(tt&&tt.event===N&&tt.schema===Ae&&tt.table===me&&tt.filter===et)D.push(Object.assign(Object.assign({},T),{id:tt.id}));else{this.unsubscribe(),n?.(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(wr.SUBSCRIBED);return}}).receive("error",g=>{n?.(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{n?.(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,r){return this._on(n,t,r)}async send(n,t={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,u,d;let h=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((d=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ht.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new is(this,nn.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(n,t,r){let i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new is(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,s;let a=n.toLocaleLowerCase(),{close:u,error:d,leave:h,join:g}=nn;if(r&&[u,d,h,g].indexOf(a)>=0&&r!==this._joinRef())return;let w=this._onMessage(a,t,r);if(t&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var D,I,T;return((D=_.filter)===null||D===void 0?void 0:D.event)==="*"||((T=(I=_.filter)===null||I===void 0?void 0:I.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===a}).map(_=>_.callback(w,r)):(s=this.bindings[a])===null||s===void 0||s.filter(_=>{var D,I,T,N,Ae,me;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in _){let et=_.id,tt=(D=_.filter)===null||D===void 0?void 0:D.event;return et&&((I=t.ids)===null||I===void 0?void 0:I.includes(et))&&(tt==="*"||tt?.toLocaleLowerCase()===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{let et=(Ae=(N=_?.filter)===null||N===void 0?void 0:N.event)===null||Ae===void 0?void 0:Ae.toLocaleLowerCase();return et==="*"||et===((me=t?.event)===null||me===void 0?void 0:me.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===a}).map(_=>{if(typeof w=="object"&&"ids"in w){let D=w.data,{schema:I,table:T,commit_timestamp:N,type:Ae,errors:me}=D;w=Object.assign(Object.assign({},{schema:I,table:T,commit_timestamp:N,eventType:Ae,new:{},old:{},errors:me}),this._getPayloadRecords(D))}_.callback(w,r)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(nn.close,{},n)}_onError(n){this._on(nn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Zm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Zm(n.columns,n.old_record)),t}};var tN=()=>{},nN=typeof WebSocket<"u",rN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,il=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=UE,this.params={},this.timeout=Pd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tN,this.conn=null,this.sendBuffer=[],this.serializer=new Od,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...u)=>import("./chunk-OBK227YL.js").then(({default:d})=>d(...u)):a=fetch,(...u)=>a(...u)},this.endPoint=`${n}/${Gm.websocket}`,this.httpEndpoint=Ad(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t?.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rs(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(nN){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ym(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-KXFMP4GI.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$E}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){let t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return ji.Connecting;case ns.open:return ji.Open;case ns.closing:return ji.Closing;default:return ji.Closed}}isConnected(){return this.connectionState()===ji.Open}channel(n,t={config:{}}){let r=new rl(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:i,ref:s}=n,a=()=>{this.encode(n,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(n=null){let t=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(nn.access_token,{access_token:t})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(zE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:s,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(nn.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([rN],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Ym=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ns.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var os=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var kd=class extends os{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Vi=class extends os{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var iN=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},Nd=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},qE=()=>iN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-OBK227YL.js")).Response:Response}),Rd=e=>{if(Array.isArray(e))return e.map(t=>Rd(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));n[i]=Rd(r)}),n};var Bi=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},Km=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oN=(e,n,t)=>Bi(void 0,void 0,void 0,function*(){let r=yield qE();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new kd(Km(i),e.status||500))}).catch(i=>{n(new Vi(Km(i),i))}):n(new Vi(Km(e),e))}),sN=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function ol(e,n,t,r,i,s){return Bi(this,void 0,void 0,function*(){return new Promise((a,u)=>{e(t,sN(n,r,i,s)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>a(d)).catch(d=>oN(d,u,r))})})}function ss(e,n,t,r){return Bi(this,void 0,void 0,function*(){return ol(e,"GET",n,t,r)})}function Wn(e,n,t,r,i){return Bi(this,void 0,void 0,function*(){return ol(e,"POST",n,r,i,t)})}function GE(e,n,t,r,i){return Bi(this,void 0,void 0,function*(){return ol(e,"PUT",n,r,i,t)})}function WE(e,n,t,r){return Bi(this,void 0,void 0,function*(){return ol(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ld(e,n,t,r,i){return Bi(this,void 0,void 0,function*(){return ol(e,"DELETE",n,r,i,t)})}var Lt=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},aN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Fd=class{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=Nd(i)}uploadOrUpdate(n,t,r,i){return Lt(this,void 0,void 0,function*(){try{let s,a=Object.assign(Object.assign({},ZE),i),u=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(a.upsert)}),d=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));let h=this._removeEmptyFolders(t),g=this._getFinalPath(h),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:n,body:s,headers:u},a?.duplex?{duplex:a.duplex}:{})),w=yield v.json();return v.ok?{data:{path:h,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(s){if(Qe(s))return{data:null,error:s};throw s}})}upload(n,t,r){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return Lt(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(n),a=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${a}`);u.searchParams.set("token",t);try{let d,h=Object.assign({upsert:ZE.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);let v=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:g}),w=yield v.json();return v.ok?{data:{path:s,fullPath:w.Key},error:null}:{data:null,error:w}}catch(d){if(Qe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(n,t){return Lt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let s=yield Wn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),u=a.searchParams.get("token");if(!u)throw new os("No token returned by API");return{data:{signedUrl:a.toString(),path:n,token:u},error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}update(n,t,r){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Lt(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}copy(n,t,r){return Lt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return Lt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),s=yield Wn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Lt(this,void 0,void 0,function*(){try{let i=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}download(n,t){return Lt(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),a=s?`?${s}`:"";try{let u=this._getFinalPath(n);return{data:yield(yield ss(this.fetch,`${this.url}/${i}/${u}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Qe(u))return{data:null,error:u};throw u}})}info(n){return Lt(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield ss(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Rd(r),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}exists(n){return Lt(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield WE(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Qe(r)&&r instanceof Vi){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);let u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(n){return Lt(this,void 0,void 0,function*(){try{return{data:yield Ld(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}list(n,t,r){return Lt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},aN),t),{prefix:n||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var YE="2.7.1";var KE={"X-Client-Info":`storage-js/${YE}`};var as=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},jd=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},KE),t),this.fetch=Nd(r)}listBuckets(){return as(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}getBucket(n){return as(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return as(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return as(this,void 0,void 0,function*(){try{return{data:yield GE(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return as(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return as(this,void 0,void 0,function*(){try{return{data:yield Ld(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}};var sl=class extends jd{constructor(n,t={},r){super(n,t,r)}from(n){return new Fd(this.url,this.headers,n,this.fetch)}};var JE="2.49.4";var al="";typeof Deno<"u"?al="deno":typeof document<"u"?al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?al="react-native":al="node";var lN={"X-Client-Info":`supabase-js-${al}/${JE}`},QE={headers:lN},XE={schema:"public"},eD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tD={};R_();var cN=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},uN=e=>{let n;return e?n=e:typeof fetch>"u"?n=A_:n=fetch,(...t)=>n(...t)},dN=()=>typeof Headers>"u"?k_:Headers,nD=(e,n,t)=>{let r=uN(t),i=dN();return(s,a)=>cN(void 0,void 0,void 0,function*(){var u;let d=(u=yield n())!==null&&u!==void 0?u:e,h=new i(a?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(s,Object.assign(Object.assign({},a),{headers:h}))})};var fN=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})};function rD(e){return e.replace(/\/$/,"")}function iD(e,n){let{db:t,auth:r,realtime:i,global:s}=e,{db:a,auth:u,realtime:d,global:h}=n,g={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign({},h),s),accessToken:()=>fN(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}var Vd="2.69.1";var Ui=30*1e3,Bd=3,Ud=Bd*Ui,oD="http://localhost:9999",sD="supabase.auth.token";var aD={"X-Client-Info":`gotrue-js/${Vd}`};var ll="X-Supabase-Api-Version",Jm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cD=6e5;var cl=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var $d=class extends cl{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function uD(e){return Q(e)&&e.name==="AuthApiError"}var ls=class extends cl{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Zn=class extends cl{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},rn=class extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function dD(e){return Q(e)&&e.name==="AuthSessionMissingError"}var cs=class extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$i=class extends Zn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},zi=class extends Zn{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function fD(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}var ul=class extends Zn{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},us=class extends Zn{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function zd(e){return Q(e)&&e.name==="AuthRetryableFetchError"}var dl=class extends Zn{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var br=class extends Zn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var hD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pD=` 	
\r=`.split(""),hN=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<pD.length;n+=1)e[pD[n].charCodeAt(0)]=-2;for(let n=0;n<hD.length;n+=1)e[hD[n].charCodeAt(0)]=n;return e})();function gD(e,n,t){let r=hN[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qm(e){let n=[],t=a=>{n.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{mN(a,r,t)};for(let a=0;a<e.length;a+=1)gD(e.charCodeAt(a),i,s);return n.join("")}function pN(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gN(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}pN(r,n)}}function mN(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function mD(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)gD(e.charCodeAt(i),t,r);return new Uint8Array(n)}function vD(e){let n=[];return gN(e,t=>n.push(t)),new Uint8Array(n)}function _D(e){return Math.round(Date.now()/1e3)+e}function yD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var En=()=>typeof window<"u"&&typeof document<"u",Hi={tested:!1,writable:!1},Zr=()=>{if(!En())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hi.tested)return Hi.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hi.tested=!0,Hi.writable=!0}catch{Hi.tested=!0,Hi.writable=!1}return Hi.writable};function wD(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{n[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var Hd=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-OBK227YL.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},bD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xm=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},hl=async(e,n)=>{let t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},pl=async(e,n)=>{await e.removeItem(n)},fl=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};fl.promiseConstructor=Promise;function qd(e){let n=e.split(".");if(n.length!==3)throw new br("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!lD.test(n[r]))throw new br("JWT not in base64url format");return{header:JSON.parse(Qm(n[0])),payload:JSON.parse(Qm(n[1])),signature:mD(n[2]),raw:{header:n[0],payload:n[1]}}}async function CD(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function ED(e,n){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{let a=await e(s);if(!n(s,null,a)){r(a);return}}catch(a){if(!n(s,a)){i(a);return}}})()})}function vN(e){return("0"+e.toString(16)).substr(-2)}function _N(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,vN).join("")}async function yN(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function wN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await yN(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qi(e,n,t=!1){let r=_N(),i=r;t&&(i+="/PASSWORD_RECOVERY"),await Xm(e,`${n}-code-verifier`,i);let s=await wN(r);return[s,r===s?"plain":"s256"]}var bN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DD(e){let n=e.headers.get(ll);if(!n||!n.match(bN))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function xD(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function MD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var CN=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},Gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EN=[502,503,504];async function ID(e){var n;if(!bD(e))throw new us(Gi(e),0);if(EN.includes(e.status))throw new us(Gi(e),e.status);let t;try{t=await e.json()}catch(s){throw new ls(Gi(s),s)}let r,i=DD(e);if(i&&i.getTime()>=Jm["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new dl(Gi(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new rn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new dl(Gi(t),e.status,t.weak_password.reasons);throw new $d(Gi(t),e.status||500,r)}var DN=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function he(e,n,t,r){var i;let s=Object.assign({},r?.headers);s[ll]||(s[ll]=Jm["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);let a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await xN(e,n,t+u,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function xN(e,n,t,r,i,s){let a=DN(n,r,i,s),u;try{u=await e(t,Object.assign({},a))}catch(d){throw console.error(d),new us(Gi(d),0)}if(u.ok||await ID(u),r?.noResolveJson)return u;try{return await u.json()}catch(d){await ID(d)}}function Cr(e){var n;let t=null;MN(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=_D(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function ev(e){let n=Cr(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Yn(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function SD(e){return{data:e,error:null}}function TD(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=e,a=CN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},d=Object.assign({},a);return{data:{properties:u,user:d},error:null}}function PD(e){return e}function MN(e){return e.access_token&&e.refresh_token&&e.expires_in}var IN=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},ds=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Hd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,t="global"){try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,t={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Yn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:t}=n,r=IN(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TD,redirectTo:t?.redirectTo})}catch(t){if(Q(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Yn})}catch(t){if(Q(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,r,i,s,a,u,d;try{let h={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:PD});if(g.error)throw g.error;let v=await g.json(),w=(a=g.headers.get("x-total-count"))!==null&&a!==void 0?a:0,_=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(D=>{let I=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(D.split(";")[1].split("=")[1]);h[`${T}Page`]=I}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Q(h))return{data:{users:[]},error:h};throw h}}async getUserById(n){try{return await he(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Yn})}catch(t){if(Q(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Yn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,t=!1){try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Yn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){try{let{data:t,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Q(t))return{data:null,error:t};throw t}}async _deleteFactor(n){try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(Q(t))return{data:null,error:t};throw t}}};var OD={getItem:e=>Zr()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Zr()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Zr()&&globalThis.localStorage.removeItem(e)}};function tv(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function AD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Wi={debug:!!(globalThis&&Zr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},gl=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Gd=class extends gl{};async function nv(e,n,t){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await t()}finally{Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wi.debug)try{let s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}AD();var SN={url:oD,storageKey:sD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kD(e,n,t){return await t()}var rv=(()=>{class e{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&En()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let s=Object.assign(Object.assign({},SN),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ds({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hd(s.fetch),this.lock=s.lock||kD,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:En()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=nv:this.lock=kD,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zr()?this.storage=OD:(this.memoryStorage={},this.storage=tv(this.memoryStorage)):(this.memoryStorage={},this.storage=tv(this.memoryStorage)),En()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vd}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r=wD(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),En()&&this.detectSessionInUrl&&i!=="none"){let{data:s,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fD(a)){let h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}let{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new ls("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,s;try{let a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cr}),{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};let h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,i,s;try{let a;if("email"in t){let{email:v,password:w,options:_}=t,D=null,I=null;this.flowType==="pkce"&&([D,I]=await qi(this.storage,this.storageKey)),a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:D,code_challenge_method:I},xform:Cr})}else if("phone"in t){let{phone:v,password:w,options:_}=t;a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(s=_?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Cr})}else throw new $i("You must provide either an email or phone number and a password");let{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};let h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){let{email:a,password:u,options:d}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ev})}else if("phone"in t){let{phone:a,password:u,options:d}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ev})}else throw new $i("You must provide either an email or phone number and a password");let{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){let r=await hl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{let{data:a,error:u}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Cr});if(await pl(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new cs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:u})}catch(a){if(Q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{let{options:r,provider:i,token:s,access_token:a,nonce:u}=t,d=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Cr}),{data:h,error:g}=d;return g?{data:{user:null,session:null},error:g}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new cs}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:g})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,s,a,u;try{if("email"in t){let{email:d,options:h}=t,g=null,v=null;this.flowType==="pkce"&&([g,v]=await qi(this.storage,this.storageKey));let{error:w}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in t){let{phone:d,options:h}=t,{data:g,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:v}}throw new $i("You must provide either an email or phone number.")}catch(d){if(Q(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,i;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Cr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");let h=u.session,g=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,i,s;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await qi(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:SD})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new rn;let{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:s,options:a}=t,{error:u}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){let{phone:i,type:s,options:a}=t,{data:u,error:d}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new $i("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Ud:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,g,v)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,g,v))})}return{data:{session:t},error:null}}let{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yn}):await this._useSession(async r=>{var i,s,a;let{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Yn})})}catch(r){if(Q(r))return dD(r)&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new rn;let u=s.session,d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await qi(this.storage,this.storageKey));let{data:g,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Yn});if(v)throw v;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rn;let r=Date.now()/1e3,i=r,s=!0,a=null,{payload:u}=qd(t.access_token);if(u.exp&&(i=u.exp,s=i<=r),s){let{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};a=d}else{let{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){let{data:u,error:d}=r;if(d)throw d;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new rn;let{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!En())throw new zi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ul("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ul("No code detected.");let{data:me,error:et}=await this._exchangeCodeForSession(t.code);if(et)throw et;let tt=new URL(window.location.href);return tt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",tt.toString()),{data:{session:me.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:g}=t;if(!a||!d||!u||!g)throw new zi("No session defined in URL");let v=Math.round(Date.now()/1e3),w=parseInt(d),_=v+w;h&&(_=parseInt(h));let D=_-v;D*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${D}s, should have been closer to ${w}s`);let I=_-w;v-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,_,v):v-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,_,v);let{data:T,error:N}=await this._getUser(a);if(N)throw N;let Ae={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:w,expires_at:_,refresh_token:u,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Ae,redirectType:t.type},error:null}}catch(i){if(Q(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await hl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:s,error:a}=r;if(a)return{error:a};let u=(i=s.session)===null||i===void 0?void 0:i.access_token;if(u){let{error:d}=await this.admin.signOut(u,t);if(d&&!(uD(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){let r=yD(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,s;try{let{data:{session:a},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await qi(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{let{data:i,error:s}=await this._useSession(async a=>{var u,d,h,g,v;let{data:w,error:_}=a;if(_)throw _;let D=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",D,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(s)throw s;return En()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Q(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,s;let{data:a,error:u}=r;if(u)throw u;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await ED(async s=>(s>0&&await CD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cr})),(s,a)=>{let u=200*Math.pow(2,s);return a&&zd(a)&&Date.now()+u-i<Ui})}catch(i){if(this._debug(r,"error",i),Q(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),En()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await hl(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ud;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ud}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),zd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fl;let{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new rn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(s,"error",a),Q(a)){let u={session:null,error:a};return zd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,i=!0){let s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await pl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&En()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((i.expires_at*1e3-t)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ui}ms, refresh threshold is ${Bd} ticks`),s<=Bd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!En()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){let s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[a,u]=await qi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(i?.queryParams){let a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;let{data:s,error:a}=r;return a?{data:null,error:a}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,s;let{data:a,error:u}=r;if(u)return{data:null,error:u};let d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:g}=await he(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;let{data:s,error:a}=r;return a?{data:null,error:a}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){let{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],s=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;let{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:u}=qd(s.access_token),d=null;u.aal&&(d=u.aal);let h=d;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");let v=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(u=>u.kid===t);if(i||(i=this.jwks.keys.find(u=>u.kid===t),i&&this.jwks_cached_at+cD>Date.now()))return i;let{data:s,error:a}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new br("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(u=>u.kid===t),!i)throw new br("No matching signing key found in JWKS");return i}async getClaims(t,r={keys:[]}){try{let i=t;if(!i){let{data:D,error:I}=await this.getSession();if(I||!D.session)return{data:null,error:I};i=D.session.access_token}let{header:s,payload:a,signature:u,raw:{header:d,payload:h}}=qd(i);if(xD(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:D}=await this.getUser(i);if(D)throw D;return{data:{claims:a,header:s,signature:u},error:null}}let g=MD(s.alg),v=await this.fetchJwk(s.kid,r),w=await crypto.subtle.importKey("jwk",v,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,u,vD(`${d}.${h}`)))throw new br("Invalid JWT signature");return{data:{claims:a,header:s,signature:u},error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}}return e.nextInstanceID=0,e})();var TN=rv,iv=TN;var Wd=class extends iv{constructor(n){super(n)}};var PN=function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function u(g){try{h(r.next(g))}catch(v){a(v)}}function d(g){try{h(r.throw(g))}catch(v){a(v)}}function h(g){g.done?s(g.value):i(g.value).then(u,d)}h((r=r.apply(e,n||[])).next())})},Zd=class{constructor(n,t,r){var i,s,a;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let u=rD(n);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;let d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:XE,realtime:tD,auth:Object.assign(Object.assign({},eD),{storageKey:d}),global:QE},g=iD(r??{},h);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=g.global.headers)!==null&&s!==void 0?s:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=g.auth)!==null&&a!==void 0?a:{},this.headers,g.global.fetch),this.fetch=nD(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new VE(`${u}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new Ya(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sl(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return PN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:u,debug:d},h,g){let v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wd({url:this.authUrl,headers:Object.assign(Object.assign({},v),h),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new il(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Yd=(e,n,t)=>new Zd(e,n,t);var Yr={production:!0,supabaseUrl:"https://ozripaimufzauubmaybf.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im96cmlwYWltdWZ6YXV1Ym1heWJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3MjA3NTIsImV4cCI6MjA2MTI5Njc1Mn0.obkdD8K-k9ksYDSRzI_KEHTXp2Zoz2myZPrz5qMxnQ0",supabaseEmailRedirectTo:"",geolocationApiUrl:"https://geocode.maps.co/search",geolocationApiKey:"682efa0dcfb23065951951wlud01092"};var ml=class extends Error{};var fs=class{supabaseClient;constructor(n){this.supabaseClient=n}};var vl=class extends fs{profileDetails=we(null);constructor(n){super(n),this.loadProfileDetails().then(t=>{this.profileDetails.set(t)})}async signUpUser(n,t,r){let i=await this.supabaseClient.auth.signUp({email:t,password:r,options:{emailRedirectTo:Yr.supabaseEmailRedirectTo}});return await this.createProfile(i,n),{id:i.data.user?.id,error:i.error?.code,message:i.error?.message}}async signInUser(n,t){let r=await this.supabaseClient.auth.signInWithPassword({email:n,password:t});return{id:r.data.user?.id,error:r.error?.code,message:r.error?.message}}async signOut(){await this.supabaseClient.auth.signOut()}async changeUserName(n){let t=this.profileDetails()?.user_id;if(!(!t||(await this.supabaseClient.from("profiles").update({user_name:n}).eq("user_id",t)).error))return this.profileDetails.update(i=>Z(A({},i),{user_name:n})),{newName:n}}async getUserName(n){let r=(await this.supabaseClient.from("profiles").select("user_name").eq("user_id",n)).data?.at(0);return r?{userName:r.user_name}:null}async getProfileById(n){let r=(await this.supabaseClient.from("profiles").select().eq("user_id",n)).data?.at(0);if(!r)return null;let i=await this.getProfileImageUrl(n);return{user_id:r.user_id,user_name:r.user_name,profileImageUrl:i}}async uploadProfileImage(n){let t=this.profileDetails()?.user_id;if(!t)return;this.profileDetails()?.profileImageUrl!==null?await this.supabaseClient.storage.from("profile-avatars.storage").update(`${t}/avatar.jpg`,n):await this.supabaseClient.storage.from("profile-avatars.storage").upload(`${t}/avatar.jpg`,n);let i=await this.getProfileImageUrl(t);this.profileDetails.update(s=>Z(A({},s),{profileImageUrl:i}))}async getProfileImageUrl(n){return this.supabaseClient.storage.from("profile-avatars.storage").getPublicUrl(`${n}/avatar.jpg`).data.publicUrl}async isLoggedIn(){return(await this.supabaseClient.auth.getSession()).data.session!==null}async loadProfileDetails(){let n=await this.supabaseClient.auth.getUser();return n.data.user?await this.getProfileById(n.data.user.id):null}async createProfile(n,t){let r=n.data.user;if(!r)return;let i={user_id:r.id,user_name:t};await this.supabaseClient.from("profiles").insert(i)}};var _l=class extends fs{constructor(t,r){super(t);this.userController=r;this.loadPosts(),console.log("PostController initialized")}POSTS_TABLE_NAME="posts";posts=we([]);async createPost(t){t.longitude&&t.latitude&&(t.geo_location=`POINT(${t.longitude} ${t.latitude})`,delete t.longitude,delete t.latitude);let{data:r,error:i}=await this.supabaseClient.from(this.POSTS_TABLE_NAME).insert(t).select();if(i)throw console.error("Fehler beim Erstellen des Posts:",i),i;let s=r[0];if(r&&s){let a=await this.userController.getProfileById(s.creator_id);return a&&(s.creator_profile=a),this.posts.update(u=>[...u,s]),s}return null}async deletePost(t){let{error:r}=await this.supabaseClient.from(this.POSTS_TABLE_NAME).delete().eq("id",t);if(r)throw console.error("Fehler beim L\xF6schen des Posts:",r),r;this.posts.update(i=>i.filter(s=>s.id!==t))}async joinPostChat(t){let r=this.userController.profileDetails()?.user_id;r&&await this.supabaseClient.from("post_participants").insert({post_id:t,user_id:r})}async getPostChatId(t){let i=(await this.supabaseClient.from("post_chat").select().eq("post_id",t)).data?.at(0);return i?i.id:null}async hasJoinedPostChat(t){let r=this.userController.profileDetails()?.user_id;if(!r)return!1;console.log(r);let i=await this.supabaseClient.from("post_participants").select().eq("post_id",t).eq("user_id",r);return i.data?i.data?.length>0:!1}async loadPostsByLocation(t,r,i=500){let{data:s,error:a}=await this.supabaseClient.rpc("nearby_posts",{longitude:t,latitude:r,radius_meters:i});return a?(console.error("Fehler beim Laden der Posts nach Standort:",a),[]):s}async loadPostById(t){let{data:r,error:i}=await this.supabaseClient.from(this.POSTS_TABLE_NAME).select().eq("id",t).single();return i?(console.error("Fehler beim Laden des Posts:",i),null):r}async loadPosts(){let{data:t,error:r}=await this.supabaseClient.from(this.POSTS_TABLE_NAME).select();if(r){console.error("Fehler beim Laden der Posts:",r);return}let i=t;for(let s of i){let a=await this.userController.getProfileById(s.creator_id);a&&(s.creator_profile=a)}this.posts.set(i)}};var Xe=class e{supabaseClient;userController;postController;constructor(){this.supabaseClient=Yd(Yr.supabaseUrl,Yr.supabaseKey),this.userController=new vl(this.supabaseClient),this.postController=new _l(this.supabaseClient,this.getUserController())}getUserController(){if(!this.userController)throw new ml(`${vl.name} not initialized`);return this.userController}getPostController(){if(!this.postController)throw new ml(`${_l.name} not initialized`);return this.postController}static \u0275fac=function(t){return new(t||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var Kd=class e{constructor(n){this.router=n}map;markersData=we([]);locationMarker=null;supabaseService=P(Xe);isLocating=!1;locationErrorCount=0;maxLocationErrors=3;lastLocationFound=!1;hasLocationPermission=!1;currentUserLocation=null;radius=we(5e3);markerClicked=new je;ngAfterViewInit(){console.log("NG after view init"),this.initMap(),setTimeout(()=>{this.resizeMap()},200),window.addEventListener("resize",()=>{this.resizeMap()})}ngOnDestroy(){console.log("NG on destroy"),window.removeEventListener("resize",this.resizeMap),this.map&&(this.map.stopLocate(),this.map.off(),this.map.remove())}locationControlInstance;postsControlInstance;radiusControlInstance;radiusCircle;initMap(){if(this.map)return;this.map=$.map("map",{center:[49.47457750584654,8.534245487974458],zoom:12}),setTimeout(()=>{this.map&&this.map.invalidateSize()},100);let n=$.latLngBounds($.latLng(47.2701,5.8663),$.latLng(55.0992,15.0419));this.map.setMaxBounds(n),this.map.on("drag",()=>{this.map?.panInsideBounds(n,{animate:!0})}),this.map.options.minZoom=5,$.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{minZoom:0,maxZoom:20,attribution:'&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.locateUser(),this.addLocationAndPostsButtons()}addLocationAndPostsButtons(){if(console.log("Add location and posts buttons in Method"),!this.map)return;this.locationControlInstance&&(this.map.removeControl(this.locationControlInstance),this.locationControlInstance=void 0),this.postsControlInstance&&(this.map.removeControl(this.postsControlInstance),this.postsControlInstance=void 0),this.radiusControlInstance&&(this.map.removeControl(this.radiusControlInstance),this.radiusControlInstance=void 0);let n=$.Control.extend({options:{position:"bottomright"},onAdd:()=>{let s=$.DomUtil.create("div","leaflet-bar leaflet-control radius-button");return s.innerHTML=`
          <div style="display: flex; flex-direction: column; align-items: center; gap: 5px; padding: 10px; background-color: white; border-radius: 5px; border: 1px solid #ccc; min-width: 200px;">
            <input id="radius-slider" type="range" min="500" max="30000" value="5000" step="500" style="width: 180px;" />
            <div style="display: flex; justify-content: space-between; width: 180px; font-size: 10px; color: #666;">
              <span>500m</span>
              <span>10km</span>
              <span>20km</span>
              <span>30km</span>
            </div>
            <div id="radius-value" style="font-size: 12px; font-weight: bold; color: #333;">5.0km</div>
          </div>
        `,$.DomEvent.disableClickPropagation(s),$.DomEvent.disableScrollPropagation(s),s}});this.radiusControlInstance=new n,this.map.addControl(this.radiusControlInstance);let t=$.Control.extend({options:{position:"bottomright"},onAdd:()=>{let s=$.DomUtil.create("div","leaflet-bar leaflet-control posts-button");return s.innerHTML='<a href="#" title="Posts in der Umgebung laden"><span class="posts-icon">\u{1F4CB}</span></a>',s.onclick=()=>{if(this.map){let a=this.map.getCenter();this.loadPostsNearLocation(a.lng,a.lat)}return!1},s}});this.postsControlInstance=new t,this.map.addControl(this.postsControlInstance),document.getElementById("radius-slider")?.addEventListener("input",s=>{let a=s.target,u=parseInt(a.value),d=document.getElementById("radius-value");d&&(u>=1e3?d.textContent=`${(u/1e3).toFixed(1)}km`:d.textContent=`${u}m`);let h;this.radiusCircle?h=this.radiusCircle.getLatLng():h=$.latLng(49.47457750584654,8.534245487974458),this.radiusCircle&&this.radiusCircle.setRadius(u);let g=this.calculateZoomFromRadius(u);this.map&&this.map.setView(h,g),console.log("Radius changed to:",u,"Zoom level:",g,"Centered on:",h)});let r=document.getElementById("radius-slider");r&&(r.addEventListener("mousedown",s=>{s.stopPropagation()}),r.addEventListener("touchstart",s=>{s.stopPropagation()}),r.addEventListener("mousemove",s=>{s.stopPropagation()}),r.addEventListener("touchmove",s=>{s.stopPropagation()}),r.addEventListener("mouseup",s=>{s.stopPropagation()}),r.addEventListener("touchend",s=>{s.stopPropagation()}));let i=$.Control.extend({options:{position:"bottomright"},onAdd:()=>{let s=$.DomUtil.create("div","leaflet-bar leaflet-control location-button");return s.innerHTML='<a href="#" title="Zeige meinen Standort"><span class="location-icon">\u{1F4CD}</span></a>',s.onclick=()=>(console.log("Location button clicked"),this.currentUserLocation?(console.log("Centering on stored user location:",this.currentUserLocation),this.map?.setView(this.currentUserLocation,this.map.getZoom()||14)):(console.log("No stored user location, calling locateUser()"),this.locateUser()),!1),s}});this.locationControlInstance=new i,this.map.addControl(this.locationControlInstance)}addMarkers(){let n=$.icon({iconUrl:"assets/marker-icon-2x.png",iconSize:[26,35],iconAnchor:[13,35],popupAnchor:[1,-34],shadowUrl:"assets/marker-shadow.png",shadowSize:[41,41]});this.markersData().forEach(t=>{let r=$.marker([t.lat,t.lng],{icon:n}).addTo(this.map);r.bindPopup(`
         <div class="marker-popup">
           <h3>${t.title}</h3>
           <p>${t.description}</p>
           <button class="btn-details" data-marker-title="${t.title}">
             More Details
           </button>
         </div>
       `),r.on("popupopen",()=>{setTimeout(()=>{let s=r.getPopup()?.getElement()?.querySelector(".btn-details");s&&s.addEventListener("click",()=>{let a=s.getAttribute("data-marker-title");a&&this.markerClicked.emit(a)},{once:!0})},0)})})}addNewMarker(n){let t=[...this.markersData(),n];this.markersData.set(t);let r=$.icon({iconUrl:"assets/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"assets/marker-shadow.png",shadowSize:[41,41]}),i=$.marker([n.lat,n.lng],{icon:r}).addTo(this.map);i.bindPopup(`
      <div class="marker-popup">
        <h3>${n.title}</h3>
        <p>${n.description}</p>
        <button class="btn-details" data-marker-title="${n.title}">
          More Details
        </button>
      </div>
    `),i.on("popupopen",()=>{setTimeout(()=>{let a=i.getPopup()?.getElement()?.querySelector(".btn-details");a&&a.addEventListener("click",()=>{let u=a.getAttribute("data-marker-title");u&&this.markerClicked.emit(u)},{once:!0})},0)}),this.map?.flyTo([n.lat,n.lng],10)}focusMarker(n){let t=this.markersData().find(r=>r.title===n);t&&this.map?.flyTo([t.lat,t.lng],10)}getMarkers(){return this.markersData()}locateUser(){if(this.map){if(this.lastLocationFound&&this.hasLocationPermission){console.log("Location already found, skipping new location request");return}this.map.off("locationfound"),this.map.off("locationerror"),this.locationMarker&&(this.map.removeLayer(this.locationMarker),this.locationMarker=null),this.showLocatingAnimation(),this.isLocating=!0,this.map.locate({setView:!0,maxZoom:14,watch:!1,enableHighAccuracy:!0,timeout:1e4,maximumAge:5e3}),this.map.on("locationfound",n=>{this.hideLocatingAnimation(),this.lastLocationFound=!0,this.hasLocationPermission=!0,this.currentUserLocation=n.latlng,this.locationErrorCount=0,this.isLocating=!1,console.log("Standort gefunden:",n.latlng,"Genauigkeit:",n.accuracy),this.map?.stopLocate(),this.locationMarker&&(this.map?.removeLayer(this.locationMarker),this.locationMarker=null),this.showRadiusCircleAtLocation(n.latlng)}),this.map.on("locationerror",n=>{if(this.locationErrorCount++,this.isLocating=!1,console.error(`Standortbestimmung fehlgeschlagen (${this.locationErrorCount}/${this.maxLocationErrors}):`,n.message),this.map?.stopLocate(),n.message.toLowerCase().includes("permission")||n.message.toLowerCase().includes("denied")||this.locationErrorCount>=this.maxLocationErrors){this.hideLocatingAnimation(),this.hasLocationPermission=!1;let t=$.latLng(49.47457750584654,8.534245487974458);this.showRadiusCircleAtLocation(t),this.map?.setView(t,12),console.log("Permission denied or max errors reached, showing radius at default location")}else setTimeout(()=>{this.locationErrorCount<this.maxLocationErrors&&this.locateUser()},3e3)})}}showRadiusCircleAtLocation(n){if(!this.map)return;this.locationMarker&&(this.map.removeLayer(this.locationMarker),this.locationMarker=null);let t=$.layerGroup(),r=$.circle(n,{radius:this.radius(),color:"var(--color-palette-light-teal)",fillColor:"var(--color-palette-light-teal)",fillOpacity:.15,weight:1}).addTo(t);if(this.radiusCircle=r,this.hasLocationPermission){let i=$.circle(n,{radius:15,color:"var(--color-palette-dark-teal)",fillColor:"var(--color-palette-teal)",fillOpacity:.8,weight:2,className:"location-marker-inner"}).addTo(t)}else{let i=$.circle(n,{radius:25,color:"#666",fillColor:"#999",fillOpacity:.6,weight:2}).addTo(t)}t.addTo(this.map),this.locationMarker=t}showLocatingAnimation(){let n=$.DomUtil.get("map");if(!n)return;this.hideLocatingAnimation();let t=$.DomUtil.create("div","location-loading-animation");t.id="locationLoadingAnimation",t.innerHTML=`
      <div class="location-spinner">
        <div class="spinner"></div>
        <p>Suche Standort...</p>
      </div>
    `,n.appendChild(t)}hideLocatingAnimation(){let n=$.DomUtil.get("map"),t=document.getElementById("locationLoadingAnimation");n&&t&&n.contains(t)&&n.removeChild(t)}showLocationErrorMessage(){let n=$.DomUtil.get("map");if(!n)return;let t=document.getElementById("locationErrorMessage");t&&n.contains(t)&&n.removeChild(t);let r=$.DomUtil.create("div","location-error-message");r.id="locationErrorMessage",r.innerHTML=`
      <div class="error-container">
        <strong>Standortbestimmung nicht m\xF6glich</strong>
        <p>Bitte \xFCberpr\xFCfe, ob die Standortdienste aktiviert sind und du der Anwendung Zugriff erlaubt hast.</p>
      </div>
    `,n.appendChild(r),setTimeout(()=>{n.contains(r)&&n.removeChild(r)},5e3)}updateLocationButtonState(n){let t=document.querySelector(".location-button a");if(t&&(n?t.classList.add("active"):t.classList.remove("active")),!this.map)return;let r=$.Control.extend({options:{position:"bottomright"},onAdd:()=>{let s=$.DomUtil.create("div","leaflet-bar leaflet-control location-button");return s.innerHTML='<a href="#" title="Zeige meinen Standort"><span class="location-icon">\u{1F4CD}</span></a>',s.onclick=()=>(this.locateUser(),!1),s}});this.map.addControl(new r);let i=$.Control.extend({options:{position:"bottomright"},onAdd:()=>{let s=$.DomUtil.create("div","leaflet-bar leaflet-control posts-button");return s.innerHTML='<a href="#" title="Posts in der Umgebung laden"><span class="posts-icon">\u{1F4CB}</span></a>',s.onclick=()=>{if(this.map){let a=this.map.getCenter();this.loadPostsNearLocation(a.lng,a.lat)}return!1},s}});this.map.addControl(new i)}async loadPostsNearLocation(n,t,r=5e4){if(this.map){console.log("Lade Posts in der N\xE4he...");try{this.showLoadingAnimation("Lade Posts...");let i=await this.supabaseService.getPostController().loadPostsByLocation(n,t,r);console.log(`${i.length} Posts in der N\xE4he gefunden.`),this.clearPostMarkers(),i.forEach(s=>this.addPostMarker(s)),this.hideLoadingAnimation()}catch(i){if(console.error("Fehler beim Laden der Posts:",i),this.hideLoadingAnimation(),this.map){let s=$.DomUtil.create("div","location-error-message");s.id="postsErrorMessage",s.innerHTML=`
          <div class="error-container">
            <strong>Fehler beim Laden der Posts</strong>
            <p>Die Posts konnten nicht geladen werden. Bitte versuchen Sie es sp\xE4ter erneut.</p>
          </div>
        `;let a=$.DomUtil.get("map");a&&(a.appendChild(s),setTimeout(()=>{a.contains(s)&&a.removeChild(s)},5e3))}}}}addPostMarker(n){if(!this.map)return;let t=$.icon({iconUrl:"assets/marker-icon-2x.png",iconSize:[26,35],iconAnchor:[13,35],popupAnchor:[1,-34],shadowUrl:"assets/marker-shadow.png",shadowSize:[41,41]}),r=t.options.iconUrl?t:new $.Icon.Default,i=n.latitude||0,s=n.longitude||0,a=$.marker([i,s],{icon:r}).addTo(this.map);a.bindPopup(`
      <div class="marker-popup post-marker">
        <h3>${n.title}</h3>
        <p>${n.description||"Keine Beschreibung"}</p>
        <div class="post-tags">
          ${n.tags?n.tags.map(d=>`<span class="tag">${d}</span>`).join(" "):""}
        </div>
        <button class="btn-details" data-post-id="${n.id}">
          Details anzeigen
        </button>
      </div>
    `),a.on("popupopen",()=>{setTimeout(()=>{let h=a.getPopup()?.getElement()?.querySelector(".btn-details");h&&h.addEventListener("click",()=>{let g=h.getAttribute("data-post-id");g&&(this.markerClicked.emit(n.title),console.log(`Post-Details angefordert f\xFCr ID: ${g}`),this.router.navigate(["/posts",g]))},{once:!0})},0)});let u=[...this.markersData(),{lat:i,lng:s,title:n.title,description:n.description||""}];this.markersData.set(u)}clearPostMarkers(){this.map&&(this.markersData.set([]),this.map.eachLayer(n=>{n instanceof $.Marker&&this.map?.removeLayer(n)}))}showLoadingAnimation(n="L\xE4dt..."){let t=$.DomUtil.get("map");if(!t)return;this.hideLoadingAnimation();let r=$.DomUtil.create("div","posts-loading-animation");r.id="postsLoadingAnimation",r.innerHTML=`
      <div class="location-spinner">
        <div class="spinner"></div>
        <p>${n}</p>
      </div>
    `,t.appendChild(r)}hideLoadingAnimation(){let n=$.DomUtil.get("map"),t=document.getElementById("postsLoadingAnimation");n&&t&&n.contains(t)&&n.removeChild(t)}resizeMap(){this.map&&this.map.invalidateSize()}calculateZoomFromRadius(n){return n<=1e3?16:n<=2e3?15:n<=3e3?14:n<=5e3?13:n<=8e3?12:n<=12e3?11:10}static \u0275fac=function(t){return new(t||e)(F(Ge))};static \u0275cmp=Ee({type:e,selectors:[["app-map"]],outputs:{markerClicked:"markerClicked"},decls:3,vars:0,consts:[[1,"map-container"],[1,"map-frame"],["id","map"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1),re(2,"div",2),C()())},dependencies:[$n],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}.map-container[_ngcontent-%COMP%]{position:relative;height:100vh;width:100%;border-radius:8px;overflow:hidden;box-shadow:0 0 10px #0000001a}.map-frame[_ngcontent-%COMP%], #map[_ngcontent-%COMP%]{height:100%;width:100%}.marker-popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.marker-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px}.btn-details[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:8px 12px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 2px;cursor:pointer;border-radius:4px}.btn-details[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-teal)}.location-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:36px;height:36px;background-color:#fff;color:var(--color-palette-dark-teal);border-radius:4px;box-shadow:0 1px 5px #0003;transition:all .2s ease}.location-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-light-gray)}.location-button[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--color-palette-light-teal);color:#fff}.location-icon[_ngcontent-%COMP%]{font-size:18px;line-height:1}.location-marker-inner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%{stroke-width:2;stroke-opacity:1;fill-opacity:.8}50%{stroke-width:3;stroke-opacity:.5;fill-opacity:.5}to{stroke-width:2;stroke-opacity:1;fill-opacity:.8}}.location-loading-animation[_ngcontent-%COMP%]{position:absolute;bottom:60px;right:10px;z-index:1000;background-color:#fff;border-radius:4px;box-shadow:0 1px 5px #0003;padding:8px 12px}.location-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px}.location-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 8px;color:var(--color-palette-dark-teal)}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid var(--color-palette-light-teal);border-top:2px solid var(--color-palette-teal);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.location-error-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000}.error-container[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border-radius:4px;box-shadow:0 2px 5px #0003;max-width:300px;border-left:5px solid #d9534f}.error-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#d9534f}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}"]})};var ON=e=>({visibility:e}),Jd=class e{isHovered=!1;onMouseEnter(){this.isHovered=!0}onMouseLeave(){this.isHovered=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ee({type:e,selectors:[["app-menu-button"]],decls:14,vars:6,consts:[["rel","stylesheet","href",Sw`https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=close`],[1,"menu-container"],[1,"menu-dropdown",3,"mouseenter","mouseleave"],[1,"material-symbols-outlined"],[1,"menu-content",3,"mouseenter","mouseleave"],["id","editProfileBtn",1,"menu-buttons"],["id","changePasswordBtn",1,"menu-buttons"],["id","changeEmailBtn",1,"menu-buttons"],["id","signOutBtn",1,"menu-buttons"]],template:function(t,r){t&1&&(re(0,"link",0),b(1,"div",1)(2,"button",2),z("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),b(3,"span",3),M(4," close "),C()(),b(5,"div",4),z("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),b(6,"button",5),M(7,"Neuer Post"),C(),b(8,"button",6),M(9,"Platz 2"),C(),b(10,"button",7),M(11,"Platz 3"),C(),b(12,"button",8),M(13,"Platz 4"),C()()()),t&2&&(O(3),zg("transform",r.isHovered?"rotate(0deg)":"rotate(135deg)"),O(2),xb(Mu(4,ON,r.isHovered?"visible":"hidden")))},styles:['.menu-container[_ngcontent-%COMP%]{margin:1em}.menu-dropdown[_ngcontent-%COMP%]{display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;justify-self:right;justify-content:center;align-items:center;width:3em;height:3em;margin:1em;background:blur(5px);border-radius:50%;border:none;transition:.5s ease}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24;transform:rotate(90deg);transition:transform 1s ease}.menu-content[_ngcontent-%COMP%]{display:flex;visibility:hidden;background:#028090;box-shadow:0 15px 30px #0003;border-radius:1em;flex-direction:column;justify-content:center;justify-self:right;align-items:center;width:12em;height:auto;transition:opacity .5s cubic-bezier(.68,-.55,.265,1.55),transform .5s cubic-bezier(.68,-.55,.265,1.55),visibility .5s ease;z-index:100}.menu-buttons[_ngcontent-%COMP%]{display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;width:90%;justify-content:center;margin:.5em;padding:.5em 1em;border:none;background:#fff;border-radius:.5em;font-size:1em}.menu-buttons[_ngcontent-%COMP%]:hover{filter:brightness(90%)}']})};var Qd="",sn="map",hs="login",ps="register",RD="settings",gs="group-chat",ND="posts";function AN(e,n){if(e&1&&(b(0,"a",4),M(1,"Zum Dashboard"),C()),e&2){let t=W();Fo("href","/",t.ROUTE_DASHBOARD,"",mn)}}function kN(e,n){if(e&1&&(b(0,"a",4),M(1,"Login"),C(),b(2,"a",4),M(3,"Registrieren"),C()),e&2){let t=W();Fo("href","/",t.ROUTE_LOGIN,"",mn),O(2),Fo("href","/",t.ROUTE_REGISTER,"",mn)}}function RN(e,n){e&1&&(b(0,"a",11),M(1," Jetzt starten "),C())}var Xd=class e{constructor(n){this.supabaseService=n}isLoggedIn=we(!1);async ngOnInit(){this.isLoggedIn.set(await this.supabaseService.getUserController().isLoggedIn())}ROUTE_DASHBOARD=sn;ROUTE_LOGIN=hs;ROUTE_REGISTER=ps;static \u0275fac=function(t){return new(t||e)(F(Xe))};static \u0275cmp=Ee({type:e,selectors:[["app-landing-page"]],decls:83,vars:2,consts:[[1,"landing-container"],[1,"navbar"],["src","/assets/img/linkup_logo.png","alt","LinkUp Logo",1,"logo"],[1,"nav-links"],[3,"href"],[1,"section","hero"],[1,"video-background"],["onloadedmetadata","this.muted=true","autoplay","","loop","","preload","auto"],["src","/assets/img/startvideo.mp4","type","video/mp4"],[1,"overlay"],[1,"hero-content","centered"],["href","/register",1,"cta-button"],[1,"section","features-section"],[1,"section-content-one"],[1,"section-text"],[1,"main-text"],[1,"feature-details"],[1,"section","activities-section"],[1,"section-content"],[1,"category-container"],[1,"category-box"],[1,"section","community-section"],["src","/assets/img/friends_cheering.mp4","type","video/mp4"],[1,"community-features"],[1,"feature-point"],[1,"footer"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"nav",1),re(2,"img",2),b(3,"div",3),Ve(4,AN,2,2,"a",4)(5,kN,4,4),C()(),b(6,"section",5)(7,"div",6)(8,"video",7),re(9,"source",8),C(),re(10,"div",9),C(),b(11,"div",10)(12,"h1"),M(13,"Willkommen bei LinkUp"),C(),b(14,"p"),M(15,"Deine neue Social Media Plattform zum Vernetzen."),C(),Ve(16,RN,2,0,"a",11),C()(),b(17,"section",12)(18,"div",13)(19,"div",14)(20,"h2"),M(21,"Vernetze dich"),C(),b(22,"p",15),M(23,"Finde neue Freunde und bleibe mit deinen Kontakten verbunden."),C(),b(24,"div",16)(25,"p"),M(26,"Erstelle dein pers\xF6nliches Profil und zeige deine Interessen"),C(),b(27,"p"),M(28,"Finde Gleichgesinnte durch unsere intelligente Matching-Funktion"),C(),b(29,"p"),M(30,"Baue echte Verbindungen auf, online und offline"),C()()()()(),b(31,"section",17)(32,"div",18)(33,"div",14)(34,"h2"),M(35,"Starte Aktivit\xE4ten"),C(),b(36,"p"),M(37,"Finde deine Community und erlebe gemeinsame Momente"),C(),b(38,"div",19)(39,"div",20)(40,"h3"),M(41,"Gaming Turniere"),C(),b(42,"p"),M(43,"Organisiere spannende Gaming-Events oder finde deine perfekte Squad f\xFCr den n\xE4chsten Match"),C()(),b(44,"div",20)(45,"h3"),M(46,"Lokale Events"),C(),b(47,"p"),M(48,"Von Spieleabenden bis hin zu Outdoor-Aktivit\xE4ten - entdecke Events in deiner N\xE4he"),C()(),b(49,"div",20)(50,"h3"),M(51,"Online Meet-ups"),C(),b(52,"p"),M(53,"Vernetze dich online in Interessengruppen und plane gemeinsame Aktivit\xE4ten"),C()()()()()(),b(54,"section",21)(55,"div",18)(56,"div",6)(57,"video",7),re(58,"source",22),C()(),b(59,"div",14)(60,"h2"),M(61,"Entdecke neue Freunde"),C(),b(62,"p",15),M(63,"Sieh dir an, was aktuell angesagt ist \u2013 alles an einem Ort"),C(),b(64,"div",23)(65,"div",24)(66,"h3"),M(67,"Echte Verbindungen"),C(),b(68,"p"),M(69,"Keine Fake-Profile, sondern echte Menschen mit \xE4hnlichen Interessen"),C()(),b(70,"div",24)(71,"h3"),M(72,"Aktive Community"),C(),b(73,"p"),M(74,"T\xE4glich neue Events und Aktivit\xE4ten in deiner Region"),C()(),b(75,"div",24)(76,"h3"),M(77,"Gemeinsam statt Einsam"),C(),b(78,"p"),M(79,"Finde neue Freundschaften und bleibende Verbindungen"),C()()()()()(),b(80,"footer",25)(81,"p"),M(82,"\xA9 2025 HobbyMedia. Alle Rechte vorbehalten."),C()()()),t&2&&(O(4),He(r.isLoggedIn()?4:5),O(12),He(r.isLoggedIn()?-1:16))},styles:['.landing-container[_ngcontent-%COMP%]{width:100%;height:100vh;position:relative;overflow-x:hidden;background-color:var(--color-palette-dark-gray);scrollbar-width:none;-ms-overflow-style:none}.landing-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;width:100%;background:transparent;padding:1rem 4rem;align-items:center;justify-content:space-between;font-family:var(--font-secondary-wide);transition:all .3s ease;display:flex;gap:1.5rem;margin-left:auto;flex-wrap:wrap}.nav-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin-left:auto}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-palette-white);background:#0003;text-decoration:none;font-weight:500;font-size:1.1rem;padding:.5rem 1rem;border-radius:.5rem;transition:all .3s ease;mix-blend-mode:exclusion;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px);mix-blend-mode:exclusion}.logo[_ngcontent-%COMP%]{position:fixed;height:60px;width:auto;object-fit:contain;padding-left:100px}.hero[_ngcontent-%COMP%]{position:relative;height:100vh;width:100vw;overflow:hidden;display:flex;justify-content:center;align-items:center}.video-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;overflow:hidden}.video-background[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;transform:translate(-50%) translateY(-50%);object-fit:cover;z-index:0}.overlay[_ngcontent-%COMP%]{position:absolute;opacity:.5;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#05668db3,#02809080,#00a8964d);z-index:2}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:3;text-align:center;color:var(--color-palette-white);padding:0 2rem;max-width:800px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:6rem;max-width:fit-content;font-family:var(--font-secondary-wide);font-weight:800;margin-bottom:1.5rem;color:var(--color-palette-cream);transition:transform .3s ease}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-family:var(--font-secondary);margin-bottom:2rem;transition:transform .3s ease}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.cta-button[_ngcontent-%COMP%]{display:inline-block;background-color:var(--color-palette-light-green);color:var(--color-palette-white);font-family:var(--font-secondary-wide);font-size:1.2rem;padding:1rem 2rem;border-radius:.5rem;text-decoration:none;transition:all .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-light-teal);transform:translateY(-2px)}.section[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;align-items:center;justify-content:center;scroll-snap-align:start;padding:2rem;position:relative}.section-content[_ngcontent-%COMP%]{max-width:1400px;width:100%;display:flex;align-items:center;gap:4rem;padding:2rem}.section-content-one[_ngcontent-%COMP%]{background-position:center center;background-attachment:fixed;background-size:cover;background-repeat:no-repeat;margin-top:0;margin-left:0;top:0;left:0}.section[_ngcontent-%COMP%]   feature[_ngcontent-%COMP%]   .reverse[_ngcontent-%COMP%]{flex-direction:row-reverse}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.section-text[_ngcontent-%COMP%]{flex:1;opacity:0;animation:_ngcontent-%COMP%_fadeInDown .8s ease-out forwards;animation-delay:.2s;padding:2rem;border-radius:1rem;background:#fffffff2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 4px 6px #0000001a}.section-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:6.5rem;color:var(--color-palette-dark-teal);margin-bottom:1.5rem;font-family:var(--font-secondary-wide);font-weight:800;transition:transform .3s ease;background:radial-gradient(circle,#028090 50%,#00a896);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.section-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.section-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--color-palette-dark-gray);font-family:var(--font-secondary);line-height:1.6;transition:transform .3s ease;font-style:var(--font-secondary-wide);letter-spacing:.02em}.section-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.features-section[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to bottom,#fdfdfdf7,#fdfdfd3b),url(/assets/img/map2.jpg);background-color:var(--color-palette-white);background-attachment:fixed;background-size:cover;background-repeat:no-repeat;max-height:fit-content;margin-top:0;margin-left:0;opacity:.9;top:0;left:0}.features-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 4px 15px #ffffff1a}.features-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--color-palette-dark-teal)}.features-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-palette-dark-teal);font-size:1.8rem}.activities-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-palette-light-yellow) 40%,var(--color-palette-cream) 60%)}.activities-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]{background:transparent;box-shadow:none}.activities-section[_ngcontent-%COMP%]   .category-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;width:100%;margin-top:2rem}.activities-section[_ngcontent-%COMP%]   .category-box[_ngcontent-%COMP%]{background:#fffffff2;padding:2rem;border-radius:1rem;box-shadow:0 4px 15px #0000001a;transition:transform .5s cubic-bezier(.4,0,.2,1),box-shadow .3s ease;animation:_ngcontent-%COMP%_float 5s ease-in-out infinite}.activities-section[_ngcontent-%COMP%]   .category-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-secondary-wide);font-size:2rem;font-weight:600;color:var(--color-palette-dark-teal);margin-bottom:1rem}.activities-section[_ngcontent-%COMP%]   .category-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-size:1.4rem;color:var(--color-palette-dark-gray);line-height:1.6;font-weight:400}.activities-section[_ngcontent-%COMP%]   .category-box[_ngcontent-%COMP%]:hover{transform:translateY(-15px);box-shadow:0 8px 25px #0003}@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0)}50%{transform:translateY(-8px)}to{transform:translateY(0)}}.community-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdfdfd4d,#fdfdfd33)}.community-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]{background:linear-gradient(to right,#ffffff1a,#ffffff26,#ffffff1a);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 4px 15px #ffffff1a;position:relative}.community-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.15) 0%,rgba(255,255,255,.05) 70%,transparent 100%);pointer-events:none;z-index:-1}.community-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--color-palette-cream);text-shadow:0px 0px 0px rgba(0,0,0,.2)}.community-section[_ngcontent-%COMP%]   .section-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-palette-light-yellow);font-size:1.8rem;position:relative;z-index:1}.community-section[_ngcontent-%COMP%]   .feature-point[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.community-section[_ngcontent-%COMP%]   .feature-point[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--color-palette-light-yellow);font-size:2rem;font-family:var(--font-secondary-wide)}.community-section[_ngcontent-%COMP%]   .feature-point[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-palette-white);font-size:1.4rem;font-family:var(--font-secondary);line-height:1.6}.feature-details[_ngcontent-%COMP%]{margin-top:2rem}.feature-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin:1rem 0;padding-left:1.5rem;position:relative}.feature-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0;color:var(--color-palette-light-teal)}.activity-categories[_ngcontent-%COMP%], .community-features[_ngcontent-%COMP%]{margin-top:2rem;display:grid;gap:2rem;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.category[_ngcontent-%COMP%], .feature-point[_ngcontent-%COMP%]{background:#ffffff1a;padding:1.5rem;border-radius:1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:transform .3s ease}.category[_ngcontent-%COMP%]:hover, .feature-point[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .feature-point[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--color-palette-dark-teal);margin-bottom:1rem;font-family:var(--font-secondary-wide);font-weight:600}.category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .feature-point[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;line-height:1.6}.main-text[_ngcontent-%COMP%]{font-size:1.8rem!important;margin-bottom:2rem!important;font-weight:500}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;scrollbar-width:thin;scrollbar-color:var(--color-palette-light-teal) transparent}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-palette-light-teal);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color-palette-teal)}.footer[_ngcontent-%COMP%]{width:100%;padding:1rem;text-align:center;background:#0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:var(--color-palette-cream);font-family:var(--font-secondary);font-size:.9rem;margin-top:auto}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8;transition:opacity .3s ease}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 1024px){.section-content[_ngcontent-%COMP%]{gap:2rem;padding:1rem}.section-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.section-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px){.section-content[_ngcontent-%COMP%]{flex-direction:column!important;padding:1rem}.section[_ngcontent-%COMP%]{padding:1rem}.section-image[_ngcontent-%COMP%]{order:-1}.feature-image[_ngcontent-%COMP%]{max-width:100%}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.nav-links[_ngcontent-%COMP%]{gap:1rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;padding:.4rem .8rem}.logo[_ngcontent-%COMP%]{height:32px}}.community-section[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;overflow:hidden;opacity:.8}.community-section[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;transform:translate(-50%) translateY(-50%);object-fit:cover;z-index:0}']})};var Zi=class e{constructor(n,t){this.supabaseService=n;this.router=t}async canActivate(n,t){let r=await this.supabaseService.getUserController().isLoggedIn();return r||this.router.parseUrl(Qd)}static \u0275fac=function(t){return new(t||e)(U(Xe),U(Ge))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var yl=class e{constructor(n,t){this.supabaseService=n;this.router=t}async canActivate(n,t){return await this.supabaseService.getUserController().isLoggedIn()?this.router.parseUrl(sn):!0}static \u0275fac=function(t){return new(t||e)(U(Xe),U(Ge))};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var NN=["imageInput"],LN=["nameInput"],ef=class e{constructor(n,t){this.supabaseService=n;this.router=t}imageInput;nameInput;async handleSubmit(){await this.handleUserNameChange(),await this.handleImageUpload()}async handleSignOut(){await this.supabaseService.getUserController().signOut(),await this.router.navigate(["/"])}getProfileDetails(){return this.supabaseService.getUserController().profileDetails()}async handleUserNameChange(){let t=(this.nameInput?.nativeElement).value;console.log(t),t&&await this.supabaseService.getUserController().changeUserName(t)}async handleImageUpload(){let t=(this.imageInput?.nativeElement).files;if(!t||t.length==0)return;let r=t[0];r.size!=0&&await this.supabaseService.getUserController().uploadProfileImage(r)}ROUTE_DASHBOARD=sn;static \u0275fac=function(t){return new(t||e)(F(Xe),F(Ge))};static \u0275cmp=Ee({type:e,selectors:[["app-user-settings"]],viewQuery:function(t,r){if(t&1&&(yn(NN,5),yn(LN,5)),t&2){let i;Qt(i=Xt())&&(r.imageInput=i.first),Qt(i=Xt())&&(r.nameInput=i.first)}},decls:27,vars:3,consts:[["nameInput",""],["imageInput",""],[1,"container"],[1,"header"],[1,"title"],[1,"rating-text"],[1,"bi","bi-hand-thumbs-up-fill","rating"],[1,"avatar"],[3,"href"],[3,"src"],[1,"settings"],[1,"name-setting"],["for","name"],["name","name","id","name","type","text",3,"placeholder"],[1,"image-setting"],["for","image"],["name","image","id","image","type","file","accept","image/jpeg, image/png"],[1,"submit"],[3,"click"],[1,"sign-out"]],template:function(t,r){if(t&1){let i=ct();b(0,"div",2)(1,"div",3)(2,"div",4),M(3,"Profil - Einstellungen"),C(),b(4,"div",5),M(5," Social score: 99% "),re(6,"i",6),C(),b(7,"div",7)(8,"a",8),re(9,"img",9),C()()(),b(10,"div",10)(11,"div",11)(12,"label",12),M(13,"Benutzername:"),C(),re(14,"input",13,0),C(),b(16,"div",14)(17,"label",15),M(18,"Profilbild:"),C(),re(19,"input",16,1),C(),b(21,"div",17)(22,"button",18),z("click",function(){return te(i),ne(r.handleSubmit())}),M(23,"\xC4nderungen speichern"),C()(),b(24,"div",19)(25,"button",18),z("click",function(){return te(i),ne(r.handleSignOut())}),M(26,"Abmelden"),C()()()()}if(t&2){let i,s;O(8),xi("href",r.ROUTE_DASHBOARD,mn),O(),xi("src",(i=r.getProfileDetails())==null?null:i.profileImageUrl,mn),O(5),xi("placeholder",(s=r.getProfileDetails())==null?null:s.user_name)}},styles:[".container[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-palette-white);margin:25px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;align-items:center;margin-bottom:30px;padding-bottom:1rem;padding-left:1.5rem;padding-right:1.5rem;border-bottom:1px solid var(--color-palette-white)}.rating[_ngcontent-%COMP%]{color:var(--color-palette-light-green)}.rating-text[_ngcontent-%COMP%]{margin-left:auto;align-self:end}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid var(--color-palette-white);border-radius:50%;vertical-align:middle}.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:300px;gap:2rem;padding-left:1.5rem;padding-right:1.5rem}.name-setting[_ngcontent-%COMP%]{font-size:1.25rem;gap:10px;display:flex;flex-direction:column}input[type=text][_ngcontent-%COMP%]{font-size:1rem;height:25px;background-color:var(--color-palette-white);border:2px solid var(--color-palette-dark-teal);border-radius:10px;padding:10px}button[_ngcontent-%COMP%]{font-size:1rem;background-color:var(--color-palette-dark-teal);border:1px solid var(--color-palette-gray);padding:10px;border-radius:10px}button[_ngcontent-%COMP%]:hover{filter:grayscale(50%);cursor:pointer}.sign-out[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--color-palette-warning)}.title[_ngcontent-%COMP%]{font-size:3rem}"]})};var ms=class e{supabaseClient;constructor(){this.supabaseClient=Yd(Yr.supabaseUrl,Yr.supabaseKey)}async getGroupChat(n){if(!this.supabaseClient)throw new Error("Supabase client not initialized");console.log(n);let{data:t,error:r}=await this.supabaseClient.from("post_chat").select("*").eq("id",n);if(r)throw new Error(r.message);return t[0]}async getGroupChatDetails(n){if(!this.supabaseClient)throw new Error("Supabase client not initialized");let{data:t,error:r}=await this.supabaseClient.rpc("get_post_chat_details",{p_post_chat_id:n});if(r)throw new Error(r.message);return t}async getGroupChatFromChatId(n){if(!this.supabaseClient)throw new Error("Supabase client not initialized");let{data:t,error:r}=await this.supabaseClient.rpc("get_post_chat_messages",{post_chat_id:n});if(r)throw new Error(r.message);return t}async getGroupChatWithLastMessage(){if(!this.supabaseClient)throw new Error("Supabase client not initialized");let n=(await this.supabaseClient.auth.getUser()).data.user?.id;if(!n)throw new Error("User not found");let{data:t,error:r}=await this.supabaseClient.rpc("get_user_chat_threads",{input_user_id:n});if(r)throw new Error(r.message);if(!t||t.length===0)return[];let i=t.map(async a=>{let u=await this.getGroupChatNotReadCount(a.post_chat_id);return Z(A({},a),{unread_count:u})}),s=await Promise.all(i);return console.log(s),s}async getGroupChatNotReadCount(n){if(!this.supabaseClient)throw new Error("Supabase client not initialized");let t=(await this.supabaseClient.auth.getUser()).data.user?.id;if(!t)throw new Error("User not found");let{data:r,error:i}=await this.supabaseClient.rpc("get_unread_message_count",{p_user_id:t,p_post_chat_id:n});if(i)throw new Error(i.message);return r}async sendMessage(n,t){if(!this.supabaseClient)throw new Error("Supabase client not initialized");let r=(await this.supabaseClient.auth.getUser()).data.user?.id;if(!r)throw new Error("User not found");let{data:i,error:s}=await this.supabaseClient.from("post_chat_messages").insert({message:n,post_chat_id:t,sender_id:r});if(s)throw new Error(s.message);return!s}async markAsRead(n){if(!this.supabaseClient)throw new Error("Supabase client not initialized");let t=(await this.supabaseClient.auth.getUser()).data.user?.id;if(!t)throw new Error("User not found");let{data:r,error:i}=await this.supabaseClient.rpc("mark_chat_as_seen",{p_user_id:t,p_post_chat_id:n});if(i)throw new Error(i.message);return!i}static \u0275fac=function(t){return new(t||e)};static \u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})};var jN=e=>({id:e}),VN=(e,n)=>n.post_chat_id;function BN(e,n){if(e&1&&(b(0,"span",13),M(1),C()),e&2){let t=W().$implicit;O(),Se(t.unread_count)}}function UN(e,n){if(e&1&&(b(0,"a",6)(1,"li",5)(2,"div",7)(3,"span",8),M(4),C()(),b(5,"div",9)(6,"span",10),M(7),C(),b(8,"span",11),M(9),Br(10,"date"),C(),b(11,"span",12),M(12),C(),Ve(13,BN,2,1,"span",13),C()(),re(14,"hr",2),C()),e&2){let t=n.$implicit;ze("queryParams",Mu(9,jN,t.post_chat_id)),O(4),Se(t.title),O(3),Se(t.message||"No messages yet"),O(2),Se(Ur(10,6,t.message_created_at,"MMM d, yyyy")),O(3),Se(t.sender_email),O(),He(t.unread_count>0?13:-1)}}function $N(e,n){if(e&1&&Vn(0,UN,15,11,"a",6,VN),e&2){let t=W();Bn(t.events())}}function zN(e,n){e&1&&(b(0,"li",5)(1,"span",8),M(2,"No chats were found"),C()())}var tf=class e{constructor(n){this.groupChatService=n;this.groupChatService.getGroupChatWithLastMessage().then(t=>{console.log(t),this.events.set(t)})}events=we([]);static \u0275fac=function(t){return new(t||e)(F(ms))};static \u0275cmp=Ee({type:e,selectors:[["app-left-navbar"]],decls:10,vars:1,consts:[[1,"sidebar"],[1,"logo"],[1,"divider"],[1,"section-title"],[1,"event-list"],[1,"event-item"],["routerLink","/group-chat",1,"no-underline",3,"queryParams"],[1,"event-details"],[1,"event-title"],[1,"last-message"],[1,"last-message-text"],[1,"last-message-time"],[1,"last-message-sender"],[1,"last-message-count"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"h1",1),M(2,"Chats"),C(),re(3,"hr",2),b(4,"h2",3),M(5,"Event Group Chats"),C(),re(6,"hr",2),b(7,"ul",4),Ve(8,$N,2,0)(9,zN,3,0,"li",5),C()()),t&2&&(O(8),He(r.events().length>0?8:9))},dependencies:[$n,Pi,Cd],styles:[".sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;box-sizing:border-box;background-color:var(--color-palette-white);font-family:var(--font-primary);color:var(--color-palette-dark-gray);width:20vw;box-shadow:0 0 10px #0000000d}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--color-palette-dark-teal);margin:0;padding:19.75px 0;text-align:center}.divider[_ngcontent-%COMP%]{border:.5px solid var(--color-palette-light-gray);background-color:var(--color-palette-gray);margin:0;width:100%}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:12px 0;padding:0 15px;color:var(--color-palette-dark-gray);width:100%;box-sizing:border-box}.event-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;width:100%;overflow-y:auto;overflow-x:hidden}.event-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:4px;cursor:pointer;transition:background-color .2s;margin-bottom:0;border-bottom:1px solid var(--color-palette-extra-light-gray);padding:15px}.event-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.event-item[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-light-gray)}.event-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;object-fit:cover;margin-right:12px}.event-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:8px}.event-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:var(--color-palette-dark-gray);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:90%}.event-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--color-palette-gray);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.event-time[_ngcontent-%COMP%]{font-size:12px;color:var(--color-palette-dark-gray)}.event-count[_ngcontent-%COMP%]{margin-top:4px;background-color:var(--color-palette-light-green);color:var(--color-palette-white);font-size:12px;width:20px;height:20px;line-height:20px;border-radius:50%;text-align:center;font-weight:500}.last-message[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;position:relative}.last-message-text[_ngcontent-%COMP%]{font-size:13px;color:var(--color-palette-dark-gray);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin-bottom:5px}.last-message-time[_ngcontent-%COMP%]{font-size:11px;color:var(--color-palette-light-green);margin-right:10px}.last-message-sender[_ngcontent-%COMP%]{font-size:11px;color:var(--color-palette-gray);font-style:italic;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:60%}.no-underline[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.last-message-count[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;background-color:var(--color-palette-light-green);color:var(--color-palette-white);font-size:12px;width:20px;height:20px;line-height:20px;border-radius:50%;text-align:center;font-weight:400}"]})};var HD=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(F(Ei),F(gn))};static \u0275dir=$e({type:e})}return e})(),qD=(()=>{class e extends HD{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(e)))(i||e)}})();static \u0275dir=$e({type:e,features:[_n]})}return e})(),df=new j(""),HN={provide:df,useExisting:dr(()=>lv),multi:!0},lv=(()=>{class e extends qD{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(e)))(i||e)}})();static \u0275dir=$e({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ii([HN]),_n]})}return e})(),qN={provide:df,useExisting:dr(()=>ws),multi:!0};function GN(){let e=en()?en().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var WN=new j(""),ws=(()=>{class e extends HD{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!GN())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(F(Ei),F(gn),F(WN,8))};static \u0275dir=$e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&z("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Ii([qN]),_n]})}return e})();function ZN(e){return e==null||YN(e)===0}function YN(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var ff=new j(""),cv=new j("");function KN(e){return ZN(e.value)?{required:!0}:null}function LD(e){return null}function GD(e){return e!=null}function WD(e){return Di(e)?Re(e):e}function ZD(e){let n={};return e.forEach(t=>{n=t!=null?A(A({},n),t):n}),Object.keys(n).length===0?null:n}function YD(e,n){return n.map(t=>t(e))}function JN(e){return!e.validate}function KD(e){return e.map(n=>JN(n)?n:t=>n.validate(t))}function QN(e){if(!e)return null;let n=e.filter(GD);return n.length==0?null:function(t){return ZD(YD(t,n))}}function uv(e){return e!=null?QN(KD(e)):null}function XN(e){if(!e)return null;let n=e.filter(GD);return n.length==0?null:function(t){let r=YD(t,n).map(WD);return kh(r).pipe(le(ZD))}}function dv(e){return e!=null?XN(KD(e)):null}function FD(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function JD(e){return e._rawValidators}function QD(e){return e._rawAsyncValidators}function ov(e){return e?Array.isArray(e)?e:[e]:[]}function rf(e,n){return Array.isArray(e)?e.includes(n):e===n}function jD(e,n){let t=ov(n);return ov(e).forEach(i=>{rf(t,i)||t.push(i)}),t}function VD(e,n){return ov(n).filter(t=>!rf(e,t))}var of=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=uv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},ys=class extends of{name;get formDirective(){return null}get path(){return null}},Yi=class extends of{_parent=null;name=null;valueAccessor=null},sf=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},eL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eG=Z(A({},eL),{"[class.ng-submitted]":"isSubmitted"}),hf=(()=>{class e extends sf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(F(Yi,2))};static \u0275dir=$e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&No("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_n]})}return e})(),XD=(()=>{class e extends sf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(F(ys,10))};static \u0275dir=$e({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&No("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_n]})}return e})();var wl="VALID",nf="INVALID",vs="PENDING",bl="DISABLED",Jr=class{},af=class extends Jr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},El=class extends Jr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Dl=class extends Jr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},_s=class extends Jr{status;source;constructor(n,t){super(),this.status=n,this.source=t}},sv=class extends Jr{source;constructor(n){super(),this.source=n}},av=class extends Jr{source;constructor(n){super(),this.source=n}};function ex(e){return(pf(e)?e.validators:e)||null}function tL(e){return Array.isArray(e)?uv(e):e||null}function tx(e,n){return(pf(n)?n.asyncValidators:e)||null}function nL(e){return Array.isArray(e)?dv(e):e||null}function pf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function rL(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[t])throw new R(1001,"")}function iL(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new R(1002,"")})}var lf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(n){Un(()=>this.statusReactive.set(n))}_status=Vo(()=>this.statusReactive());statusReactive=we(void 0);get valid(){return this.status===wl}get invalid(){return this.status===nf}get pending(){return this.status==vs}get disabled(){return this.status===bl}get enabled(){return this.status!==bl}errors;get pristine(){return Un(this.pristineReactive)}set pristine(n){Un(()=>this.pristineReactive.set(n))}_pristine=Vo(()=>this.pristineReactive());pristineReactive=we(!0);get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(n){Un(()=>this.touchedReactive.set(n))}_touched=Vo(()=>this.touchedReactive());touchedReactive=we(!1);get untouched(){return!this.touched}_events=new ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(jD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(jD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(VD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(VD(n,this._rawAsyncValidators))}hasValidator(n){return rf(this._rawValidators,n)}hasAsyncValidator(n){return rf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Z(A({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Dl(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Dl(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Z(A({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new El(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new El(!0,r))}markAsPending(n={}){this.status=vs;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new _s(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Z(A({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=bl,this.errors=null,this._forEachChild(i=>{i.disable(Z(A({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new af(this.value,r)),this._events.next(new _s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(A({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=wl,this._forEachChild(r=>{r.enable(Z(A({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Z(A({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wl||this.status===vs)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new af(this.value,t)),this._events.next(new _s(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Z(A({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bl:wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=vs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=WD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new _s(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?bl:this.errors?nf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vs)?vs:this._anyControlsHaveStatus(nf)?nf:wl}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new El(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Dl(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){pf(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=tL(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=nL(this._rawAsyncValidators)}},cf=class extends lf{constructor(n,t,r){super(ex(t),tx(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){iL(this,!0,n),Object.keys(n).forEach(r=>{rL(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var xl=new j("",{providedIn:"root",factory:()=>gf}),gf="always";function oL(e,n){return[...n.path,e]}function fv(e,n,t=gf){nx(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),lL(e,n),uL(e,n),cL(e,n),sL(e,n)}function BD(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),aL(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function uf(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function sL(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function nx(e,n){let t=JD(e);n.validator!==null?e.setValidators(FD(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=QD(e);n.asyncValidator!==null?e.setAsyncValidators(FD(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();uf(n._rawValidators,i),uf(n._rawAsyncValidators,i)}function aL(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=JD(e);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==n.validator);s.length!==i.length&&(t=!0,e.setValidators(s))}}if(n.asyncValidator!==null){let i=QD(e);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==n.asyncValidator);s.length!==i.length&&(t=!0,e.setAsyncValidators(s))}}}let r=()=>{};return uf(n._rawValidators,r),uf(n._rawAsyncValidators,r),t}function lL(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&rx(e,n)})}function cL(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&rx(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function rx(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function uL(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function dL(e,n){e==null,nx(e,n)}function ix(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function fL(e){return Object.getPrototypeOf(e.constructor)===qD}function hL(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ox(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(s=>{s.constructor===ws?t=s:fL(s)?r=s:i=s}),i||r||t||null}var pL={provide:ys,useExisting:dr(()=>hv)},Cl=Promise.resolve(),hv=(()=>{class e extends ys{callSetDisabledState;get submitted(){return Un(this.submittedReactive)}_submitted=Vo(()=>this.submittedReactive());submittedReactive=we(!1);_directives=new Set;form;ngSubmit=new je;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new cf({},uv(t),dv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),fv(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Cl.then(()=>{let r=this._findContainer(t.path),i=new cf({});dL(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Cl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),hL(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new sv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new av(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(F(ff,10),F(cv,10),F(xl,8))};static \u0275dir=$e({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&z("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ii([pL]),_n]})}return e})();function UD(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function $D(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var pv=class extends lf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(ex(t),tx(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pf(t)&&(t.nonNullable||t.initialValueIsDefault)&&($D(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){UD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){UD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){$D(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var gL={provide:Yi,useExisting:dr(()=>gv)},zD=Promise.resolve(),gv=(()=>{class e extends Yi{_changeDetectorRef;callSetDisabledState;control=new pv;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new je;constructor(t,r,i,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ox(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ix(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Si(r);zD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?oL(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(F(ys,9),F(ff,10),F(cv,10),F(df,10),F(jo,8),F(xl,8))};static \u0275dir=$e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ii([gL]),_n,pr]})}return e})();var sx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=$e({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var ax=new j(""),mL={provide:Yi,useExisting:dr(()=>mv)},mv=(()=>{class e extends Yi{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new je;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=ox(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&BD(r,this,!1),fv(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ix(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&BD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||e)(F(ff,10),F(cv,10),F(df,10),F(ax,8),F(xl,8))};static \u0275dir=$e({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Ii([mL]),_n,pr]})}return e})();var vL=(()=>{class e{_validator=LD;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):LD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=$e({type:e,features:[pr]})}return e})();var _L={provide:ff,useExisting:dr(()=>vv),multi:!0};var vv=(()=>{class e extends vL{required;inputName="required";normalizeInput=Si;createValidator=t=>KN;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(e)))(i||e)}})();static \u0275dir=$e({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ha("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ii([_L]),_n]})}return e})();var lx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=jn({type:e});static \u0275inj=Nn({})}return e})();var cx=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:xl,useValue:t.callSetDisabledState??gf}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jn({type:e});static \u0275inj=Nn({imports:[lx]})}return e})(),ux=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ax,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xl,useValue:t.callSetDisabledState??gf}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=jn({type:e});static \u0275inj=Nn({imports:[lx]})}return e})();function _v(e){e||(D0(_v),e=P(Nr));let n=new ge(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(Pr(n))}var yL=["messageContainer"],wL=(e,n)=>n.message_id;function bL(e,n){if(e&1&&(b(0,"span",6),M(1),C()),e&2){let t=n.$implicit;O(),Se(t+"	")}}function CL(e,n){if(e&1&&(b(0,"b"),M(1),Br(2,"date"),C()),e&2){let t,r=W(2);O(),Et("am ",Ur(2,1,(t=r.chat())==null||t[0]==null?null:t[0].event_date,"MMM d, yyyy"),"")}}function EL(e,n){if(e&1&&(b(0,"div",14)(1,"div",16)(2,"div",17)(3,"p"),M(4),C()(),b(5,"span",18),M(6),Br(7,"date"),C()()()),e&2){let t=W().$implicit;O(4),Se(t.message_content),O(2),Se(Ur(7,2,t.message_created_at,"MMM d, yyyy"))}}function DL(e,n){if(e&1&&(b(0,"div",15)(1,"div",16)(2,"p",19),M(3),C(),b(4,"div",17)(5,"p"),M(6),C()(),b(7,"span",18),M(8),Br(9,"date"),C()()()),e&2){let t=W().$implicit;O(3),Se(t.profile_name?t.profile_name:t.user_email),O(3),Se(t.message_content),O(2),Se(Ur(9,3,t.message_created_at,"MMM d, yyyy"))}}function xL(e,n){if(e&1&&Ve(0,EL,8,5,"div",14)(1,DL,10,6,"div",15),e&2){let t=n.$implicit,r=W(2);He(t.message_sender_id===r.userId()?0:1)}}function ML(e,n){if(e&1){let t=ct();b(0,"div",1)(1,"header",3)(2,"div",4)(3,"h1"),M(4),C(),b(5,"p"),M(6),C()(),b(7,"div",5),Vn(8,bL,2,1,"span",6,Lo),Ve(10,CL,3,4,"b"),C()(),b(11,"main",7,0),Vn(13,xL,2,1,null,null,wL),C(),b(15,"footer",8)(16,"div",9)(17,"button",10),z("click",function(){te(t);let i=W();return ne(i.messageFormControl.setValue("Ich bin dabei!"))}),M(18,"Ich bin dabei!"),C(),b(19,"button",10),z("click",function(){te(t);let i=W();return ne(i.messageFormControl.setValue("Ich komme sp\xE4ter"))}),M(20," Ich komme sp\xE4ter "),C(),b(21,"button",10),z("click",function(){te(t);let i=W();return ne(i.messageFormControl.setValue("Ich kann nicht kommen"))}),M(22," Ich kann nicht kommen "),C(),b(23,"button",10),z("click",function(){te(t);let i=W();return ne(i.messageFormControl.setValue("Ich brauche eine Wegbeschreibung"))}),M(24," Ich brauche eine Wegbeschreibung "),C(),b(25,"button",10),z("click",function(){te(t);let i=W();return ne(i.messageFormControl.setValue("Was soll ich mitbringen?"))}),M(26," Was soll ich mitbringen? "),C()(),b(27,"div",11)(28,"input",12),z("keyup.enter",function(){te(t);let i=W();return ne(i.sendMessage())}),C(),b(29,"button",13),z("click",function(){te(t);let i=W();return ne(i.sendMessage())}),M(30,"\u25B6"),C()()()()}if(e&2){let t,r,i,s,a=W();O(4),Se((t=a.chat())==null||t[0]==null?null:t[0].title),O(2),Et("",(r=a.chat())==null||r[0]==null?null:r[0].participant_count," participants"),O(2),Bn((i=a.chat())==null||i[0]==null?null:i[0].tags),O(2),He(!((s=a.chat())==null||s[0]==null)&&s[0].event_date?10:-1),O(3),Bn(a.messages()),O(15),ze("formControl",a.messageFormControl)}}function IL(e,n){e&1&&(b(0,"div",2)(1,"h1",20),M(2,"There is no group chat open"),C()())}var mf=class e{groupChatService=P(ms);supabaseClient=this.groupChatService.supabaseClient;activatedRoute=P(Cn);destroyRef=P(Nr);messageContainer;messageFormControl=new pv("");messages=we([]);chat=we(null);userId=we(null);groupChatExists=we(!1);postChatId=we(null);subscription=null;async ngOnInit(){this.activatedRoute.queryParams.pipe(_v(this.destroyRef)).subscribe(async n=>{let t=n.id;t&&(this.chat.set(await this.groupChatService.getGroupChatDetails(t)),this.messages.set(await this.groupChatService.getGroupChatFromChatId(t))),this.userId.set((await this.supabaseClient?.auth.getUser())?.data.user?.id??null),this.groupChatExists.set(this.chat()!==null),this.postChatId.set(t),t&&this.userId()&&await this.groupChatService.markAsRead(t),this.setupRealtimeSubscription(t),setTimeout(()=>this.scrollToBottom(),100)})}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.messageContainer.nativeElement.scrollTop=this.messageContainer.nativeElement.scrollHeight}catch{}}ngOnDestroy(){this.subscription?.unsubscribe()}setupRealtimeSubscription(n){this.supabaseClient&&(this.subscription?.unsubscribe(),this.subscription=this.supabaseClient.channel("post_chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"post_chat_messages",filter:`post_chat_id=eq.${n}`},async t=>{let r=await this.groupChatService.getGroupChatFromChatId(n);this.messages.set(r),setTimeout(()=>this.scrollToBottom(),100)}).subscribe())}async sendMessage(){if(this.messageFormControl.value&&this.postChatId()){let n=this.messageFormControl.value,t=this.postChatId()??"",r={post_id:"",message_id:"temp-"+Date.now(),message_created_at:new Date().toISOString(),message_content:n,message_sender_id:this.userId()??"",profile_name:"",profile_id:"",user_email:""};this.messages.update(i=>[...i,r]),this.messageFormControl.reset(),setTimeout(()=>this.scrollToBottom(),50),await this.groupChatService.sendMessage(n,t)}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ee({type:e,selectors:[["app-chat-window"]],viewQuery:function(t,r){if(t&1&&yn(yL,5),t&2){let i;Qt(i=Xt())&&(r.messageContainer=i.first)}},decls:2,vars:1,consts:[["messageContainer",""],[1,"chat-window-container"],[1,"not-found-container"],[1,"chat-header"],[1,"chat-header-info"],[1,"chat-header-options"],[1,"chat-tag"],[1,"chat-messages"],[1,"chat-footer"],[1,"quick-replies"],[1,"quick-reply-btn",3,"click"],[1,"message-input-area"],["type","text","placeholder","Schreib eine Nachricht...",1,"message-input",3,"keyup.enter","formControl"],[1,"send-button",3,"click"],[1,"message-item","sent"],[1,"message-item","received"],[1,"message-content"],[1,"message-bubble"],[1,"timestamp"],[1,"sender-name"],[1,"no-chat-message"]],template:function(t,r){t&1&&Ve(0,ML,31,4,"div",1)(1,IL,3,0,"div",2),t&2&&He(r.groupChatExists()?0:1)},dependencies:[Pi,ux,ws,hf,mv],styles:[".chat-window-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:var(--color-palette-white);color:var(--color-palette-gray);font-family:var(--font-primary);width:100%;margin:0 auto;border-right:1px solid var(--color-palette-light-gray);border-left:1px solid var(--color-palette-light-gray)}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background-color:var(--color-palette-white);border-bottom:1px solid var(--color-palette-light-gray)}.chat-header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.2em;font-weight:600;color:var(--color-palette-dark-teal)}.chat-header-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8em;color:var(--color-palette-dark-gray)}.chat-header-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;color:var(--color-palette-teal)}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:15px;background-color:var(--color-palette-white)}.message-item[_ngcontent-%COMP%]{display:flex;max-width:70%;align-items:flex-end}.message-item.received[_ngcontent-%COMP%]{align-self:flex-start}.message-item.sent[_ngcontent-%COMP%]{align-self:flex-end}.message-item.sent[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{align-items:flex-end}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px;object-fit:cover}.message-item.sent[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:none}.message-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sender-name[_ngcontent-%COMP%]{font-size:.8em;color:var(--color-palette-dark-gray);margin-bottom:4px}.message-item.sent[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%]{display:none}.message-bubble[_ngcontent-%COMP%]{padding:10px 15px;border-radius:18px;line-height:1.4;font-size:.95em}.message-item.received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background-color:var(--color-palette-light-gray);color:var(--color-palette-dark-gray);border-top-left-radius:5px}.message-item.sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background-color:var(--color-palette-dark-teal);color:var(--color-palette-white);border-top-right-radius:5px}.timestamp[_ngcontent-%COMP%]{font-size:.75em;color:var(--color-palette-gray);margin-top:5px}.message-item.received[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{align-self:flex-start;margin-left:50px;color:var(--color-palette-dark-gray)}.message-item.sent[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{align-self:flex-end;color:var(--color-palette-dark-gray)}.map-image[_ngcontent-%COMP%]{max-width:100%;border-radius:10px;margin-top:8px}.chat-footer[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--color-palette-gray);border-top:1px solid var(--color-palette-light-gray)}.quick-replies[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px;overflow-x:auto;padding-bottom:5px}.quick-reply-btn[_ngcontent-%COMP%]{background-color:var(--color-palette-light-teal);color:var(--color-palette-white);border:none;border-radius:15px;padding:8px 15px;font-size:.85em;cursor:pointer;white-space:nowrap}.quick-reply-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-teal)}.message-input-area[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--color-palette-white);border:1px solid var(--color-palette-light-gray);border-radius:25px;padding:5px 10px}.input-icons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-right:10px;align-items:center}.input-icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2em;color:var(--color-palette-teal);cursor:pointer}.message-input[_ngcontent-%COMP%]{flex-grow:1;background:transparent;border:none;color:var(--color-palette-dark-gray);font-size:.95em;padding:10px;font-family:var(--font-primary)}.message-input[_ngcontent-%COMP%]::placeholder{color:var(--color-palette-dark-gray);opacity:.7}.message-input[_ngcontent-%COMP%]:focus{outline:none}.send-button[_ngcontent-%COMP%]{background-color:var(--color-palette-light-green);color:var(--color-palette-white);border:none;border-radius:50%;width:40px;height:40px;font-size:1.5em;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-left:10px}.send-button[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-teal)}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-palette-light-gray);border-radius:4px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--color-palette-white)}.quick-replies[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.quick-replies[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-palette-light-gray);border-radius:3px}.quick-replies[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--color-palette-gray)}[_nghost-%COMP%]{flex-grow:1}.no-chat-message[_ngcontent-%COMP%]{color:var(--color-palette-dark-gray)!important;text-align:center;align-self:center;display:inline}.not-found-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;flex-grow:1}.chat-tag[_ngcontent-%COMP%]{color:var(--color-palette-white);padding:5px 10px;border-radius:15px;font-size:.7em!important}"]})};var vf=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ee({type:e,selectors:[["app-group-chat"]],decls:3,vars:0,consts:[[1,"group-chat-container"]],template:function(t,r){t&1&&(b(0,"div",0),re(1,"app-left-navbar")(2,"app-chat-window"),C())},dependencies:[tf,mf],styles:["[_nghost-%COMP%]{display:block;height:100vh;background-color:var(--color-palette-white);overflow-x:hidden}.group-chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:var(--color-palette-white);color:var(--color-palette-dark-gray);font-family:var(--font-primary)}"]})};var SL=["passwordInput"],_f=class e{constructor(n,t){this.supabaseService=n;this.router=t;this.response=we(void 0)}response;email;name;password;hasTriedSubmit=!1;showPassword=!1;passwordInput;handleMailInput(n){let t=n.target;this.email=t.value}handleNameInput(n){let t=n.target;this.name=t.value}handlePasswordInput(n){let t=n.target;this.password=t.value}async registerUser(){if(!this.name||!this.email||!this.password)return;let n=await this.supabaseService.getUserController().signUpUser(this.name,this.email,this.password);if(!n.error){await this.router.navigate(["/",sn]);return}this.response.set(n)}handleSubmit(){return this.hasTriedSubmit=!0,this.registerUser()}togglePasswordVisibility(){this.showPassword=!this.showPassword,(this.passwordInput?.nativeElement).type=this.showPassword?"text":"password"}static \u0275fac=function(t){return new(t||e)(F(Xe),F(Ge))};static \u0275cmp=Ee({type:e,selectors:[["app-user-registration-form"]],viewQuery:function(t,r){if(t&1&&yn(SL,5),t&2){let i;Qt(i=Xt())&&(r.passwordInput=i.first)}},decls:29,vars:8,consts:[["passwordInput",""],[1,"container"],[1,"title"],[1,"sub-container"],[1,"input"],["for","name"],["name","name","id","name","type","text","placeholder","Dein Name",3,"keyup"],["for","email"],["name","email","id","email","type","email","placeholder","Deine E-Mail",3,"keyup"],["for","password"],[1,"password-container"],["name","password","id","password","type","password","placeholder","Dein Passwort",3,"keyup"],[3,"click","ngClass"],[1,"response-container"],[1,"info"],["href","/login"],[1,"submit"],["type","submit",3,"click"]],template:function(t,r){if(t&1){let i=ct();b(0,"div",1)(1,"div",2),M(2,"LinkUp - Registrieren"),C(),b(3,"div",3)(4,"div",4)(5,"label",5),M(6,"Name"),C(),b(7,"input",6),z("keyup",function(a){return te(i),ne(r.handleNameInput(a))}),C()(),b(8,"div",4)(9,"label",7),M(10,"E-Mail"),C(),b(11,"input",8),z("keyup",function(a){return te(i),ne(r.handleMailInput(a))}),C()(),b(12,"div",4)(13,"label",9),M(14,"Passwort"),C(),b(15,"div",10)(16,"input",11,0),z("keyup",function(a){return te(i),ne(r.handlePasswordInput(a))}),C(),b(18,"i",12),z("click",function(){return te(i),ne(r.togglePasswordVisibility())}),C()()(),b(19,"div",13),M(20),C(),b(21,"div",14),M(22,"Du bist bereits registiert? Hier "),b(23,"a",15),M(24,"anmelden"),C(),M(25,"."),C(),b(26,"div",16)(27,"button",17),z("click",function(){return te(i),ne(r.handleSubmit())}),M(28,"Konto erstellen"),C()()()()}if(t&2){let i;O(7),gr(!r.name&&r.hasTriedSubmit?"required":""),O(4),gr(!r.email&&r.hasTriedSubmit?"required":""),O(5),gr(!r.password&&r.hasTriedSubmit?"required":""),O(2),ze("ngClass",r.showPassword?"bi bi-eye":"bi bi-eye-slash"),O(2),Et(" ",(i=r.response())==null?null:i.message," ")}},dependencies:[Ti],styles:[".container[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;background-color:var(--color-palette-white);position:absolute;inset:0;margin:auto;padding:20px;width:400px;height:500px;border-radius:var(--border-radius);border:1px solid var(--color-palette-dark-teal)}.title[_ngcontent-%COMP%]{font-size:1.3rem;text-align:center;border-bottom:2px solid var(--color-palette-dark-teal);padding-bottom:var(--border-radius);margin:auto auto 20px;width:75%}.sub-container[_ngcontent-%COMP%]{font-size:1.1rem;display:flex;flex-direction:column;gap:25px;height:90%}.input[_ngcontent-%COMP%]{font-size:1.25rem;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%]{font-size:1rem;height:25px;background-color:var(--color-palette-white);border:2px solid var(--color-palette-dark-gray);border-radius:10px;padding:10px}.input[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{border:2px solid var(--color-palette-warning)}.response-container[_ngcontent-%COMP%]{text-align:center;color:var(--color-palette-warning)}.info[_ngcontent-%COMP%]{margin-top:auto;text-align:center}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-palette-dark-gray)}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.password-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:100%}.password-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:2rem}.submit[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:1rem;background-color:var(--color-palette-light-green);border:none;padding:15px;border-radius:10px;margin-bottom:10px}button[_ngcontent-%COMP%]:hover{filter:grayscale(50%);cursor:pointer}"]})};var TL=["passwordInput"],yf=class e{constructor(n,t){this.supabaseService=n;this.router=t;this.response=we(void 0)}response;email;password;hasTriedSubmit=!1;showPassword=!1;passwordInput;handleMailInput(n){let t=n.target;this.email=t.value}handlePasswordInput(n){let t=n.target;this.password=t.value}async loginUser(){if(!this.email||!this.password)return;let n=await this.supabaseService.getUserController().signInUser(this.email,this.password);if(!n.error){await this.router.navigate(["/",sn]);return}this.response.set(n)}handleSubmit(){return this.hasTriedSubmit=!0,this.loginUser()}togglePasswordVisibility(){this.showPassword=!this.showPassword,(this.passwordInput?.nativeElement).type=this.showPassword?"text":"password"}static \u0275fac=function(t){return new(t||e)(F(Xe),F(Ge))};static \u0275cmp=Ee({type:e,selectors:[["app-user-login-form"]],viewQuery:function(t,r){if(t&1&&yn(TL,5),t&2){let i;Qt(i=Xt())&&(r.passwordInput=i.first)}},decls:25,vars:6,consts:[["passwordInput",""],[1,"container"],[1,"title"],[1,"sub-container"],[1,"input"],["for","email"],["name","email","id","email","type","email","placeholder","Deine E-Mail",3,"keyup"],["for","password"],[1,"password-container"],["name","password","id","password","type","password","placeholder","Dein Passwort",3,"keyup"],[3,"click","ngClass"],[1,"response-container"],[1,"info"],["href","/register"],[1,"submit"],["type","submit",3,"click"]],template:function(t,r){if(t&1){let i=ct();b(0,"div",1)(1,"div",2),M(2,"LinkUp - Anmelden"),C(),b(3,"div",3)(4,"div",4)(5,"label",5),M(6,"E-Mail"),C(),b(7,"input",6),z("keyup",function(a){return te(i),ne(r.handleMailInput(a))}),C()(),b(8,"div",4)(9,"label",7),M(10,"Passwort"),C(),b(11,"div",8)(12,"input",9,0),z("keyup",function(a){return te(i),ne(r.handlePasswordInput(a))}),C(),b(14,"i",10),z("click",function(){return te(i),ne(r.togglePasswordVisibility())}),C()()(),b(15,"div",11),M(16),C(),b(17,"div",12),M(18,"Du hast noch kein Konto? Hier "),b(19,"a",13),M(20,"registrieren"),C(),M(21,"."),C(),b(22,"div",14)(23,"button",15),z("click",function(){return te(i),ne(r.handleSubmit())}),M(24,"Anmelden"),C()()()()}if(t&2){let i;O(7),gr(!r.email&&r.hasTriedSubmit?"required":""),O(5),gr(!r.password&&r.hasTriedSubmit?"required":""),O(2),ze("ngClass",r.showPassword?"bi bi-eye":"bi bi-eye-slash"),O(2),Et(" ",(i=r.response())==null?null:i.message," ")}},dependencies:[Ti],styles:[".container[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;background-color:var(--color-palette-white);position:absolute;inset:0;margin:auto;padding:20px;width:400px;height:500px;border-radius:var(--border-radius);border:1px solid var(--color-palette-dark-teal)}.title[_ngcontent-%COMP%]{font-size:1.3rem;text-align:center;border-bottom:2px solid var(--color-palette-dark-teal);padding-bottom:var(--border-radius);margin:auto auto 20px;width:75%}.sub-container[_ngcontent-%COMP%]{font-size:1.1rem;display:flex;flex-direction:column;gap:25px;height:90%}.input[_ngcontent-%COMP%]{font-size:1.25rem;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%]{font-size:1rem;height:25px;background-color:var(--color-palette-white);border:2px solid var(--color-palette-dark-gray);border-radius:10px;padding:10px}.input[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{border:2px solid var(--color-palette-warning)}.response-container[_ngcontent-%COMP%]{text-align:center;color:var(--color-palette-warning)}.info[_ngcontent-%COMP%]{margin-top:auto;text-align:center}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-palette-dark-gray)}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.password-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:100%}.password-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:2rem}.submit[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{font-size:1rem;background-color:var(--color-palette-light-green);border:none;padding:15px;border-radius:10px;margin-bottom:10px}button[_ngcontent-%COMP%]:hover{filter:grayscale(50%);cursor:pointer}"]})};function PL(e,n){if(e&1&&M(0),e&2){let t=n.$implicit;Et(" #",t," ")}}function OL(e,n){if(e&1&&re(0,"img",15),e&2){let t=W();xi("src",t.post==null||t.post.creator_profile==null?null:t.post.creator_profile.profileImageUrl,mn)}}function AL(e,n){if(e&1){let t=ct();b(0,"button",19),z("click",function(){te(t);let i=W(2);return ne(i.navigateToPostChat(i.post==null?null:i.post.id))}),re(1,"i",20),C()}}function kL(e,n){if(e&1){let t=ct();b(0,"button",21),z("click",function(){te(t);let i=W(2);return ne(i.joinPost())}),M(1,"Beitreten"),C()}}function RL(e,n){if(e&1&&Ve(0,AL,2,0,"button",17)(1,kL,2,0,"button",18),e&2){let t=W();He(t.hasJoinedChat()?0:1)}}var wf=class e{constructor(n,t){this.subabaseService=n;this.router=t;this.setRandomBackground()}post;hasJoinedChat=we(!1);randomBackgroundUrl="";async ngOnInit(){this.hasJoinedChat.set(await this.hasJoinedPostChat())}async hasJoinedPostChat(){return this.post?await this.subabaseService.getPostController().hasJoinedPostChat(this.post?.id):!1}async joinPost(){let n=this.post?.id;n&&(await this.subabaseService.getPostController().joinPostChat(n),await this.navigateToPostChat(n))}async navigateToPostChat(n){if(!n){await this.router.navigate([`/${gs}`]);return}let t=await this.subabaseService.getPostController().getPostChatId(n);if(!t){await this.router.navigate([`/${gs}`]);return}await this.router.navigateByUrl(`/${gs}?id=${t}`)}async deletePost(){if(!this.post)return;let n=this.post.id;await this.subabaseService.getPostController().deletePost(n)}setRandomBackground(){let r=Math.floor(Math.random()*10)+1;this.randomBackgroundUrl=`/assets/event-backgrounds/background${r}.jpg`}get eventStatusText(){return this.post?.open_to_join?"\xD6ffentlich beitretbar":"Geschlossen"}get eventStatusClass(){return this.post?.open_to_join?"status-open":"status-closed"}static \u0275fac=function(t){return new(t||e)(F(Xe),F(Ge))};static \u0275cmp=Ee({type:e,selectors:[["app-post"]],inputs:{post:"post"},decls:26,vars:10,consts:[[1,"container"],[1,"post-image-wrapper"],["alt","Event Image",1,"post-image",3,"src"],[1,"post-content"],[1,"post-header"],[1,"post-date"],[1,"post-title"],[1,"post-meta"],[1,"post-location"],[1,"post-tags"],[1,"post-description"],[1,"post-status"],[1,"status-badge",3,"ngClass"],[1,"post-footer"],[1,"user-profile"],["alt","User Profile",1,"profile-pic",3,"src"],[1,"user-name"],[1,"joinButton","chat"],[1,"joinButton"],[1,"joinButton","chat",3,"click"],[1,"bi","bi-chat-fill"],[1,"joinButton",3,"click"]],template:function(t,r){if(t&1&&(b(0,"div",0)(1,"div",1),re(2,"img",2),C(),b(3,"div",3)(4,"div",4)(5,"span",5),M(6),C(),b(7,"h3",6),M(8),C()(),b(9,"div",7)(10,"span",8),M(11),C(),b(12,"span",9),Vn(13,PL,1,1,null,null,Lo),C()(),b(15,"p",10),M(16),C(),b(17,"div",11)(18,"span",12),M(19),C()(),b(20,"div",13)(21,"div",14),Ve(22,OL,1,1,"img",15),b(23,"span",16),M(24),C()(),Ve(25,RL,2,1),C()()()),t&2){let i;O(2),ze("src",r.randomBackgroundUrl,mn),O(4),Se(r.post==null?null:r.post.date),O(2),Se(r.post==null?null:r.post.title),O(3),Se(r.post==null?null:r.post.location),O(2),Bn(r.post==null?null:r.post.tags),O(3),Se(r.post==null?null:r.post.description),O(2),ze("ngClass",r.eventStatusClass),O(),Se(r.eventStatusText),O(3),He(r.post!=null&&r.post.creator_profile?22:-1),O(2),Se((i=r.post==null||r.post.creator_profile==null?null:r.post.creator_profile.user_name)!==null&&i!==void 0?i:"Nicht gefunden"),O(),He(r.post!=null&&r.post.open_to_join?25:-1)}},dependencies:[$n,Ti],styles:['.container[_ngcontent-%COMP%]{background-color:var(--color-palette-white);border-radius:10px;box-shadow:0 4px 16px #0000001a;font-family:var(--font-primary);color:var(--color-palette-dark-gray);display:flex;flex-direction:column;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.container[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.post-image-wrapper[_ngcontent-%COMP%]{width:100%;padding-bottom:50%;position:relative;overflow:hidden}.post-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-top-left-radius:10px;border-top-right-radius:10px}.post-content[_ngcontent-%COMP%]{padding:15px 20px;display:flex;flex-direction:column;gap:12px}.post-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.post-date[_ngcontent-%COMP%]{font-size:.9em;font-weight:600;color:var(--color-palette-teal);text-transform:uppercase;letter-spacing:.5px}.post-title[_ngcontent-%COMP%]{font-family:var(--font-secondary-wide);font-size:1.5em;color:var(--color-palette-dark-teal);margin:0;line-height:1.3}.post-meta[_ngcontent-%COMP%]{font-size:.9em;color:var(--color-palette-gray);display:flex;flex-wrap:wrap;gap:8px}.post-location[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:var( --color-palette-light-teal)}.post-tags[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:var( --color-palette-light-green)}.post-location[_ngcontent-%COMP%]:before{content:"\\1f4cd";font-size:1.1em}.post-tags[_ngcontent-%COMP%]:before{content:"\\1f3f7\\fe0f";font-size:1.1em}.post-description[_ngcontent-%COMP%]{font-size:.95em;line-height:1.6;margin:0;color:var(--color-palette-dark-gray);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.post-status[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:flex-end}.status-badge[_ngcontent-%COMP%]{font-size:.8em;font-weight:700;padding:6px 10px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px}.status-open[_ngcontent-%COMP%]{background-color:var(--color-palette-light-teal);color:var(--color-palette-dark-teal)}.status-closed[_ngcontent-%COMP%]{background-color:#ffe0e0;color:#c00}.post-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:15px;padding-top:15px;border-top:1px solid var(--color-palette-light-gray)}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid var(--color-palette-teal)}.user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--color-palette-dark-gray);font-family:var(--font-secondary)}.delete-button[_ngcontent-%COMP%]{background-color:#ff4d4d;color:#fff;border:none;border-radius:6px;padding:8px 12px;cursor:pointer;transition:background-color .2s ease;font-size:.9em;font-weight:600}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c00}.joinButton[_ngcontent-%COMP%]{width:110px;padding:10px;background-color:var(--color-palette-teal);color:var(--color-palette-white);border:none;border-radius:9px;cursor:pointer;font-size:1em;font-weight:600;font-family:var(--font-secondary-wide);transition:background-color .3s ease,transform .1s ease}.joinButton[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-dark-teal);transform:translateY(-2px)}.joinButton[_ngcontent-%COMP%]:active{transform:translateY(0)}']})};var NL=["openToJoinInput"],LL=(e,n)=>n.id;function FL(e,n){if(e&1){let t=ct();b(0,"app-post",6),z("click",function(){let i=te(t).$implicit,s=W(2);return ne(s.showPostDetail(i))}),C()}if(e&2){let t=n.$implicit;ze("post",t)}}function jL(e,n){if(e&1){let t=ct();b(0,"div",3),Vn(1,FL,1,1,"app-post",4,LL),C(),b(3,"button",5),z("click",function(){te(t);let i=W();return ne(i.toggleForm())}),M(4,"Event erstellen"),C()}if(e&2){let t=W();O(),Bn(t.getPosts())}}function VL(e,n){e&1&&re(0,"div",29)}function BL(e,n){if(e&1){let t=ct();b(0,"div",32),z("click",function(){let i=te(t).$implicit,s=W(3);return ne(s.selectAddress(i))})("keydown.enter",function(){let i=te(t).$implicit,s=W(3);return ne(s.selectAddress(i))}),M(1),C()}if(e&2){let t=n.$implicit;O(),Et(" ",t.display_name," ")}}function UL(e,n){if(e&1&&(b(0,"div",30),Ve(1,BL,2,1,"div",31),C()),e&2){let t=W(2);O(),ze("ngForOf",t.addressSuggestions)}}function $L(e,n){e&1&&(b(0,"small",33),M(1," Mindestens 3 Zeichen eingeben, um die Suche zu starten. "),C())}function zL(e,n){e&1&&(b(0,"small",34),Fn(),b(1,"svg",35),re(2,"path",36)(3,"path",37),C(),M(4," Adresse mit Geokoordinaten ausgew\xE4hlt "),C())}function HL(e,n){if(e&1){let t=ct();b(0,"div",7),z("click",function(){te(t);let i=W();return ne(i.toggleForm())}),C(),b(1,"div",8)(2,"h2"),M(3,"Erstelle eine neuen Post"),C(),b(4,"form",9),z("click",function(i){return te(t),ne(i.stopPropagation())}),b(5,"label",10),M(6,"Titel:"),C(),b(7,"input",11),Vr("ngModelChange",function(i){te(t);let s=W();return Mi(s.newPost.title,i)||(s.newPost.title=i),ne(i)}),C(),b(8,"label",12),M(9,"Tags:"),C(),b(10,"input",13),Vr("ngModelChange",function(i){te(t);let s=W();return Mi(s.tagsInput,i)||(s.tagsInput=i),ne(i)}),C(),b(11,"label",14),M(12,"Ort:"),C(),b(13,"div",15)(14,"input",16),Vr("ngModelChange",function(i){te(t);let s=W();return Mi(s.newPost.location,i)||(s.newPost.location=i),ne(i)}),z("input",function(){let i;te(t);let s=W();return ne(s.searchAddress((i=s.newPost.location)!==null&&i!==void 0?i:""))}),C(),Ve(15,VL,1,0,"div",17)(16,UL,2,1,"div",18)(17,$L,2,0,"small",19)(18,zL,5,0,"small",20),C(),b(19,"label",21),M(20,"Datum:"),C(),b(21,"input",22),Vr("ngModelChange",function(i){te(t);let s=W();return Mi(s.newPost.date,i)||(s.newPost.date=i),ne(i)}),C(),b(22,"label",23),M(23,"Beschreibung:"),C(),b(24,"input",24),Vr("ngModelChange",function(i){te(t);let s=W();return Mi(s.newPost.description,i)||(s.newPost.description=i),ne(i)}),C(),b(25,"div",25)(26,"input",26,0),Vr("ngModelChange",function(i){te(t);let s=W();return Mi(s.newPost.open_to_join,i)||(s.newPost.open_to_join=i),ne(i)}),C(),b(28,"label",27),M(29,"\xD6ffentlich beitretbar"),C()(),b(30,"button",28),z("click",function(){te(t);let i=W();return ne(i.createPost())}),M(31,"Post erstellen"),C()()()}if(e&2){let t=W();O(7),gr(!t.newPost.title&&t.hasTriedSubmit?"required":""),jr("ngModel",t.newPost.title),O(3),jr("ngModel",t.tagsInput),O(4),No("with-suggestions",t.addressSuggestions.length>0),jr("ngModel",t.newPost.location),O(),ze("ngIf",t.isSearching),O(),ze("ngIf",t.addressSuggestions.length>0),O(),ze("ngIf",!t.isSearching&&!t.addressSuggestions.length&&t.newPost.location&&t.newPost.location.length>0&&!t.selectedAddress),O(),ze("ngIf",t.selectedAddress),O(3),jr("ngModel",t.newPost.date),O(3),jr("ngModel",t.newPost.description),O(2),jr("ngModel",t.newPost.open_to_join)}}function qL(e,n){if(e&1&&(b(0,"span",44),M(1),C()),e&2){let t=n.$implicit;O(),Se(t)}}function GL(e,n){if(e&1){let t=ct();b(0,"button",47),z("click",function(){te(t);let i=W(2);return ne(i.joinPost())}),b(1,"span",41),M(2,"\u{1F91D}"),C(),M(3," Teilnehmen"),C()}}function WL(e,n){if(e&1){let t=ct();b(0,"div",2)(1,"button",38),z("click",function(){te(t);let i=W();return ne(i.closePostDetail())}),M(2,"\u2190 Zur\xFCck zur \xDCbersicht"),C(),b(3,"h2"),M(4),C(),b(5,"div",39)(6,"div",40)(7,"p")(8,"span",41),M(9,"\u{1F4C5}"),C(),b(10,"span")(11,"strong"),M(12,"Datum:"),C(),M(13),Br(14,"date"),C()(),b(15,"p")(16,"span",41),M(17,"\u{1F4CD}"),C(),b(18,"span")(19,"strong"),M(20,"Ort:"),C(),M(21),C()(),b(22,"p",42)(23,"span",41),M(24,"\u{1F4DD}"),C(),b(25,"span"),M(26),C()(),b(27,"div",43),Vn(28,qL,2,1,"span",44,Lo),C()(),b(30,"div",45),Ve(31,GL,4,0,"button",46),C()()()}if(e&2){let t,r,i,s,a,u,d=W();O(4),Se((t=d.selectedPost())==null?null:t.title),O(9),Et(" ",Ur(14,5,(r=d.selectedPost())==null?null:r.date,"dd.MM.yyyy"),""),O(8),Et(" ",(i=d.selectedPost())==null?null:i.location,""),O(5),Se((s=d.selectedPost())==null?null:s.description),O(2),Bn((a=d.selectedPost())==null?null:a.tags),O(3),He((u=d.selectedPost())!=null&&u.open_to_join&&!d.hasJoinedChat()?31:-1)}}var Ml=class e{constructor(n,t){this.subabaseService=n;this.http=t}openToJoinInput;shouldShowCreationForm=!1;hasTriedSubmit=!1;showAllPosts=!0;newPost={title:"",date:new Date(Date.now()),creator_id:""};tagsInput="";addressSuggestions=[];isSearching=!1;selectedAddress=null;searchTerms=new ke;destroy$=new ke;selectedPost=we(null);hasJoinedChat=we(!1);async ngOnInit(){this.searchTerms.pipe(Pr(this.destroy$),Rh(500),Nh()).subscribe(i=>{this.performAddressSearch(i)});let n=location.pathname,t=/\/posts\/([a-zA-Z0-9-]+)/,r=n.match(t);if(r){let i=r[1];console.log("Post ID:",i),this.showAllPosts=!1;let s=await this.getPostById(i);this.selectedPost.set(s);let a=await this.subabaseService.getPostController().hasJoinedPostChat(i);this.hasJoinedChat.set(a)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleForm(){this.shouldShowCreationForm=!this.shouldShowCreationForm}async createPost(){if(this.hasTriedSubmit=!0,!this.newPost.title||!this.newPost.location||!this.tagsInput||!this.newPost.date)return;let t=(await this.subabaseService.supabaseClient?.auth.getUser())?.data.user?.id;if(!t)return;this.newPost.open_to_join=(this.openToJoinInput?.nativeElement).checked,this.newPost.creator_id=t;let r=this.tagsInput.split(",").map(a=>a.trim()).filter(a=>a.length>0);console.log(this.newPost);let i=this.selectedAddress?parseFloat(this.selectedAddress.lon):void 0,s=this.selectedAddress?parseFloat(this.selectedAddress.lat):void 0;i!==void 0&&s!==void 0&&(this.newPost.latitude=s,this.newPost.longitude=i),this.newPost||console.log("Post wird ohne Geokoordinaten erstellt"),await this.subabaseService.getPostController().createPost(Z(A({},this.newPost),{tags:r})),this.resetForm(),this.shouldShowCreationForm=!1}resetForm(){this.newPost={creator_id:"",date:new Date(Date.now()),title:"",tags:[],location:"",description:"",open_to_join:!1},this.tagsInput="",this.selectedAddress=null}getPosts(){return this.subabaseService.getPostController().posts()}async getPostById(n){return await this.subabaseService.getPostController().loadPostById(n)}JSON=JSON;searchAddress(n){this.searchTerms.next(n)}performAddressSearch(n){let t=n?n.replace(/\s/g,""):"";if(!t||t.length<3){this.addressSuggestions=[];return}this.isSearching=!0;let r=`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(n)}&format=json&addressdetails=1&limit=5`;this.http.get(r).subscribe({next:i=>{this.addressSuggestions=i,this.isSearching=!1},error:i=>{console.error("Fehler bei der Adresssuche:",i),this.addressSuggestions=[],this.isSearching=!1}})}selectAddress(n){this.selectedAddress=n,this.newPost.location=n.display_name,this.newPost.longitude=parseFloat(n.lon),this.newPost.latitude=parseFloat(n.lat),console.log(`Adresse ausgew\xE4hlt: ${n.display_name}`),console.log(`Geokoordinaten: Lat ${n.lat}, Lng ${n.lon}`),this.addressSuggestions=[]}async showPostDetail(n){this.selectedPost.set(n);let t=await this.subabaseService.getPostController().hasJoinedPostChat(n.id);this.hasJoinedChat.set(t)}closePostDetail(){this.selectedPost.set(null),this.showAllPosts=!0}async joinPost(){let n=this.selectedPost()?.id;n&&await this.subabaseService.getPostController().joinPostChat(n)}static \u0275fac=function(t){return new(t||e)(F(Xe),F(Zu))};static \u0275cmp=Ee({type:e,selectors:[["app-posts-form"]],viewQuery:function(t,r){if(t&1&&yn(NL,5),t&2){let i;Qt(i=Xt())&&(r.openToJoinInput=i.first)}},decls:4,vars:3,consts:[["openToJoinInput",""],[1,"page-wrapper"],[1,"post-detail","large-view"],["id","post-grid",1,"post-grid"],[3,"post"],[1,"toggle-btn",3,"click"],[3,"click","post"],[1,"modal-overlay",3,"click"],[1,"modal"],[1,"form",3,"click"],["for","postTitle"],["type","text","id","postTitle","name","title","required","",3,"ngModelChange","ngModel"],["for","postTags"],["type","text","id","postTags","name","tags","required","",3,"ngModelChange","ngModel"],["for","postLocation"],[1,"location-search-container"],["type","text","id","postLocation","name","location","placeholder","Adresse eingeben (mindestens 3 Zeichen)...","autocomplete","off","required","true",3,"ngModelChange","input","ngModel"],["class","loading-spinner",4,"ngIf"],["class","address-suggestions","role","listbox","aria-label","Adressvorschl\xE4ge",4,"ngIf"],["class","hint-text",4,"ngIf"],["class","success-text",4,"ngIf"],["for","postDate"],["type","date","id","postDate","name","date","required","true",3,"ngModelChange","ngModel"],["for","postDescription"],["type","text","id","postDescription","name","description",3,"ngModelChange","ngModel"],[1,"checkbox-group"],["type","checkbox","id","postOpenToJoin","name","open_to_join",3,"ngModelChange","ngModel"],["for","postOpenToJoin"],[1,"createButton",3,"click"],[1,"loading-spinner"],["role","listbox","aria-label","Adressvorschl\xE4ge",1,"address-suggestions"],["class","suggestion-item","role","option","tabindex","0",3,"click","keydown.enter",4,"ngFor","ngForOf"],["role","option","tabindex","0",1,"suggestion-item",3,"click","keydown.enter"],[1,"hint-text"],[1,"success-text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["d","M22 4 12 14.01l-3-3"],[1,"back-button",3,"click"],[1,"post-content"],[1,"post-info"],[1,"emoji"],[1,"post-description"],[1,"post-tags"],[1,"tag"],[1,"post-actions"],[1,"join-button"],[1,"join-button",3,"click"]],template:function(t,r){t&1&&(b(0,"div",1),Ve(1,jL,5,0)(2,HL,32,14)(3,WL,32,8,"div",2),C()),t&2&&(O(),He(r.selectedPost()?-1:1),O(),He(r.shouldShowCreationForm?2:-1),O(),He(r.selectedPost()?3:-1))},dependencies:[$n,Lu,Jg,Pi,wf,cx,sx,ws,lv,hf,XD,vv,gv,hv],styles:["body[_ngcontent-%COMP%]{font-family:var(--font-primary);margin:0;padding:20px;background-color:var(--color-palette-light-gray);color:var(--color-palette-dark-gray);display:flex;justify-content:center;align-items:flex-start;min-height:100vh;box-sizing:border-box}.container[_ngcontent-%COMP%]{background-color:var(--color-palette-white);padding:25px 35px;border-radius:10px;box-shadow:0 4px 20px #00000026;max-width:550px;width:100%;box-sizing:border-box}h2[_ngcontent-%COMP%]{font-family:var(--font-secondary-wide);text-align:center;color:var(--color-palette-dark-teal);margin-bottom:15px;font-size:1.7rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:600;color:var(--color-palette-dark-gray);font-family:var(--font-secondary);font-size:.95em}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:10px;border:1px solid var(--color-palette-gray);border-radius:6px;box-sizing:border-box;font-size:1em;font-family:var(--font-primary);color:var(--color-palette-dark-gray);background-color:var(--color-palette-light-gray);transition:border-color .3s ease,box-shadow .3s ease}.location-search-container[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.address-suggestions[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid var(--color-palette-gray);border-radius:4px;max-height:200px;overflow-y:auto;z-index:1000;box-shadow:0 4px 8px #0000001a;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.suggestion-item[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;border-bottom:1px solid #f0f0f0;font-size:14px;transition:background-color .2s ease}.suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestion-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:var(--color-palette-teal)}.suggestion-item[_ngcontent-%COMP%]:focus{background-color:#e9f5fb;outline:none}.with-suggestions[_ngcontent-%COMP%]{border-color:var(--color-palette-teal)!important;box-shadow:0 0 0 1px #00808033!important}.hint-text[_ngcontent-%COMP%]{display:block;margin-top:4px;color:#6c757d;font-style:italic;font-size:.85rem}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);width:16px;height:16px;border:2px solid #f3f3f3;border-top:2px solid var(--color-palette-teal);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.success-text[_ngcontent-%COMP%]{display:flex;align-items:center;color:#28a745;margin-top:4px;font-size:.85rem}.success-text[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px}input[type=text][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-palette-light-teal);box-shadow:0 0 0 3px #00a89633;background-color:var(--color-palette-white)}textarea[_ngcontent-%COMP%]{resize:vertical;height:80px;min-height:60px;max-height:95px}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;align-items:center}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;margin-left:10px;font-weight:400;font-family:var(--font-primary)}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.3);margin-right:5px;accent-color:var(--color-palette-light-teal)}.createButton[_ngcontent-%COMP%]{width:100%;padding:11px;background-color:var(--color-palette-teal);color:var(--color-palette-white);border:none;border-radius:9px;cursor:pointer;font-size:1em;font-weight:600;font-family:var(--font-secondary-wide);transition:background-color .3s ease,transform .1s ease}.createButton[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-dark-teal);transform:translateY(-2px)}.createButton[_ngcontent-%COMP%]:active{transform:translateY(0)}.page-wrapper[_ngcontent-%COMP%]{position:relative;z-index:0;padding:90px;overflow-y:scroll;max-height:70vh}.post-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-bottom:40px}.toggle-btn[_ngcontent-%COMP%]{position:fixed;top:20px;right:150px;z-index:100;padding:12px 24px;background-color:var(--color-palette-teal);color:#fff;border:none;border-radius:10px;font-weight:600;font-size:1rem;font-family:var(--font-secondary-wide);cursor:pointer;box-shadow:0 4px 12px #0003;transition:background-color .3s ease,transform .1s ease}.toggle-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-dark-teal);transform:translateY(-2px)}.toggle-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006;z-index:99}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--color-palette-white);padding:25px;border-radius:12px;box-shadow:0 10px 40px #0000004d;z-index:100;max-width:500px;width:90%;box-sizing:border-box;max-height:90vh}.modal[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.post-detail[_ngcontent-%COMP%]{max-width:600px;padding:30px}.post-content[_ngcontent-%COMP%]{margin-top:20px}.post-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;line-height:1.5}.post-tags[_ngcontent-%COMP%]{margin:15px 0;display:flex;flex-wrap:wrap;gap:8px}.tag[_ngcontent-%COMP%]{background-color:var(--color-palette-light-teal);color:#fff;padding:4px 12px;border-radius:16px;font-size:.9em}.post-actions[_ngcontent-%COMP%]{margin-top:25px;display:flex;gap:10px;justify-content:flex-end}.join-button[_ngcontent-%COMP%], .close-button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;border:none;cursor:pointer;font-family:var(--font-secondary);font-weight:600;transition:all .2s ease}.join-button[_ngcontent-%COMP%]{background-color:var(--color-palette-teal);color:#fff}.join-button[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-dark-teal)}.close-button[_ngcontent-%COMP%]{background-color:var(--color-palette-light-gray);color:var(--color-palette-dark-gray)}.close-button[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-gray)}.large-view[_ngcontent-%COMP%]{background-color:var(--color-palette-white);border-radius:15px;box-shadow:0 4px 20px #0000001a;padding:30px;margin:20px auto;max-width:800px;width:100%}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 20px;background-color:var(--color-palette-teal);color:#fff;border:none;border-radius:8px;font-family:var(--font-secondary-wide);font-weight:600;cursor:pointer;margin-bottom:20px;transition:all .2s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-dark-teal);transform:translate(-5px)}.large-view[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--color-palette-dark-teal);font-size:2.2rem;margin:20px 0}.post-info[_ngcontent-%COMP%]{background-color:var(--color-palette-light-gray);border-radius:12px;padding:25px;margin:20px 0}.post-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.1rem;margin:15px 0}.post-info[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:1.3rem;min-width:24px}.post-description[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;color:var(--color-palette-dark-gray);margin:20px 0;padding:15px;background-color:#fff;border-radius:8px}.post-tags[_ngcontent-%COMP%]{margin:20px 0;display:flex;flex-wrap:wrap;gap:10px}.tag[_ngcontent-%COMP%]{background-color:var(--color-palette-light-teal);color:#fff;padding:6px 15px;border-radius:20px;font-size:.95rem;font-weight:500;transition:transform .2s ease}.tag[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.post-actions[_ngcontent-%COMP%]{margin-top:30px;display:flex;gap:15px;justify-content:flex-end}.join-button[_ngcontent-%COMP%]{background-color:var(--color-palette-teal);color:#fff;padding:12px 25px;border-radius:8px;font-family:var(--font-secondary-wide);font-weight:600;font-size:1.1rem;border:none;cursor:pointer;transition:all .2s ease}.join-button[_ngcontent-%COMP%]:hover{background-color:var(--color-palette-dark-teal);transform:translateY(-2px)}"]})};var fx=[{path:Qd,component:Xd,pathMatch:"full"},{path:sn,component:Kd,canActivate:[Zi],pathMatch:"full"},{path:gs,component:vf,canActivate:[Zi],pathMatch:"full"},{path:RD,component:ef,canActivate:[Zi],pathMatch:"full"},{path:ND,component:Ml,canActivate:[Zi],pathMatch:"full"},{path:ps,component:_f,canActivate:[yl],pathMatch:"full"},{path:hs,component:yf,canActivate:[yl],pathMatch:"full"},{path:"menu",component:Jd,pathMatch:"full"},{path:"posts/:id",component:Ml,pathMatch:"full"}];var hx={providers:[jb(),km(fx),cm()]};var bf=class e{constructor(n){this.router=n}isCollapsed=!1;isSettingsVisible=!1;isColored=!1;toggleSidebar(){this.isCollapsed=!this.isCollapsed;let n=document.getElementById("sidebarBox");n&&(this.isCollapsed?n.classList.add("collapsed"):n.classList.remove("collapsed"))}openSettings(){this.isSettingsVisible=!this.isSettingsVisible;let n=document.getElementById("settingsbox");n&&(this.isSettingsVisible?n.classList.add("visible"):n.classList.remove("visible"))}toggleColor(){this.isColored=!this.isColored;let n=document.getElementById("sidebarBox"),t=document.getElementById("settingsbox"),r=document.querySelector(".sidebarProfileBox");n&&(this.isColored?(n.classList.add("colored-bg"),n.querySelectorAll("*").forEach(s=>{s.classList.add("colored-bg")})):(n.classList.remove("colored-bg"),n.querySelectorAll("*").forEach(s=>{s.classList.remove("colored-bg")}))),t&&(this.isColored?(t.classList.add("colored-bg"),t.querySelectorAll("*").forEach(s=>{s.classList.add("colored-bg")})):(t.classList.remove("colored-bg"),t.querySelectorAll("*").forEach(s=>{s.classList.remove("colored-bg")}))),r&&(this.isColored?(r.classList.add("colored-bg"),r.querySelectorAll("*").forEach(s=>{s.classList.add("colored-bg")})):(r.classList.remove("colored-bg"),r.querySelectorAll("*").forEach(s=>{s.classList.remove("colored-bg")}))),document.querySelectorAll("#sidebarBox svg, #settingsbox svg, .sidebarProfileBox svg").forEach(s=>{this.isColored?s.setAttribute("stroke","#fff"):s.setAttribute("stroke","#000")})}static \u0275fac=function(t){return new(t||e)(F(Ge))};static \u0275cmp=Ee({type:e,selectors:[["app-sidebar"]],decls:64,vars:1,consts:[["id","sidebarBox",1,"sidebarBox"],["id","sidebarEinklappen",1,"sidebarEinklappen",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","1","stroke-linecap","round","stroke-linejoin","round"],["d","M11 7l-5 5l5 5"],["d","M17 7l-5 5l5 5"],[1,"sidebarLinkBox"],[1,"sidebarLinks"],["href","/map",1,"sidebarLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","1","stroke-linecap","round","stroke-linejoin","round"],["d","M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"],["d","M9 4v13"],["d","M15 7v5.5"],["d","M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"],["d","M19 18v.01"],["href","/posts",1,"sidebarLink"],["d","M11 6h9"],["d","M11 12h9"],["d","M11 18h9"],["d","M4 10v-4.5a1.5 1.5 0 0 1 3 0v4.5"],["d","M4 8h3"],["d","M4 20h1.5a1.5 1.5 0 0 0 0 -3h-1.5h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6z"],["href","/group-chat",1,"sidebarLink"],["d","M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10"],["d","M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"],["href","group-chat",1,"sidebarLink"],["d","M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"],["d","M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1"],["d","M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"],["d","M17 10h2a2 2 0 0 1 2 2v1"],["d","M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"],["d","M3 13v-1a2 2 0 0 1 2 -2h2"],[1,"sidebarProfileBox"],[1,"profileButton",3,"click"],["d","M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"],["d","M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"],[1,"profileText"],[1,"settingsButton",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","1","stroke-linecap","round","stroke-linejoin","round",1,"settingsWheel"],["d","M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"],["d","M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"],["id","settingsbox",1,"settingsbox"],[1,"toggle-switch"],["type","checkbox","id","toggle",1,"toggle-input",3,"change","checked"],["for","toggle",1,"toggle-label"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"button",1),z("click",function(){return r.toggleSidebar()}),Fn(),b(2,"svg",2),re(3,"path",3)(4,"path",4),C()(),Rr(),b(5,"div",5)(6,"div",6)(7,"a",7),Fn(),b(8,"svg",8),re(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13),C(),Rr(),b(14,"span"),M(15,"Map"),C()()(),b(16,"div",6)(17,"a",14),Fn(),b(18,"svg",8),re(19,"path",15)(20,"path",16)(21,"path",17)(22,"path",18)(23,"path",19)(24,"path",20),C(),Rr(),b(25,"span"),M(26,"Posts"),C()()(),b(27,"div",6)(28,"a",21),Fn(),b(29,"svg",8),re(30,"path",22)(31,"path",23),C(),Rr(),b(32,"span"),M(33,"Chat"),C()()(),b(34,"div",6)(35,"a",24),Fn(),b(36,"svg",8),re(37,"path",25)(38,"path",26)(39,"path",27)(40,"path",28)(41,"path",29)(42,"path",30),C(),Rr(),b(43,"span"),M(44,"Gruppe"),C()()()(),b(45,"div",31)(46,"button",32),z("click",function(){return r.router.navigate(["/settings"])}),Fn(),b(47,"svg",8),re(48,"path",33)(49,"path",34),C(),Rr(),b(50,"p",35),M(51,"Profil"),C()(),b(52,"button",36),z("click",function(){return r.openSettings()}),Fn(),b(53,"svg",37),re(54,"path",38)(55,"path",39),C()()(),Rr(),b(56,"div",40)(57,"h3"),M(58,"Einstellungen"),C(),b(59,"p"),M(60,"Sidebar Darkmode"),C(),b(61,"div",41)(62,"input",42),z("change",function(){return r.toggleColor()}),C(),re(63,"label",43),C()()()),t&2&&(O(62),ze("checked",r.isColored))},styles:['.sidebarBox[_ngcontent-%COMP%]{position:relative;height:100vh;width:20vw;background-color:var(--color-palette-light-green);transition:all .3s ease}.sidebarBox.collapsed[_ngcontent-%COMP%]{width:5vw;transition:all .3s ease}.sidebarEinklappen[_ngcontent-%COMP%]{background-color:var(--color-palette-light-green);border:none;cursor:pointer;position:absolute;right:1vw;top:1vh;transition:transform .3s ease}.sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarEinklappen[_ngcontent-%COMP%]{transform:rotate(180deg)}.sidebarLinkBox[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;position:absolute;top:8vh;left:50%;transform:translate(-50%);height:75vh;width:18vw;background-color:var(--color-palette-light-green);border-radius:5px;transition:all .3s ease}.sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarLinkBox[_ngcontent-%COMP%], .sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarProfileBox[_ngcontent-%COMP%]{width:4vw}.sidebarLinks[_ngcontent-%COMP%]:hover > .sidebarLink[_ngcontent-%COMP%]{font-size:32px}.sidebarLink[_ngcontent-%COMP%]{margin-left:2.5vw;text-decoration:none;color:#000;font-family:var(--font-primary);font-size:30px;display:flex;align-items:center;gap:.5vw;transition:all .3s ease;white-space:nowrap}.sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarLink[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebarBox.collapsed[_ngcontent-%COMP%]   .profileText[_ngcontent-%COMP%]{display:none}.sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarLink[_ngcontent-%COMP%]{font-size:0;gap:0;margin-left:1vw}.sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarLink[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px}.sidebarProfileBox[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;bottom:3vh;left:50%;transform:translate(-50%);height:10vh;width:18vw;background-color:var(--color-palette-light-green);border-radius:5px;transition:all .3s ease;z-index:1001}.sidebarBox.collapsed[_ngcontent-%COMP%]   .sidebarProfileBox[_ngcontent-%COMP%]{width:4vw;flex-direction:column;gap:1vh}.profileButton[_ngcontent-%COMP%]{width:10vw;margin:2vh;display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:var(--color-palette-light-green);border:none;cursor:pointer}.sidebarBox.collapsed[_ngcontent-%COMP%]   .profileButton[_ngcontent-%COMP%]{width:4vw;margin:0}.settingsButton[_ngcontent-%COMP%]{width:4vw;margin:2vh;background-color:var(--color-palette-light-green);border:none;cursor:pointer;display:flex;justify-content:center;align-items:center;z-index:1001}.sidebarBox.collapsed[_ngcontent-%COMP%]   .settingsButton[_ngcontent-%COMP%]{width:100%;margin:0}.settingsButton[_ngcontent-%COMP%]:hover > .settingsWheel[_ngcontent-%COMP%]{transform:rotate(360deg)}.settingsWheel[_ngcontent-%COMP%]{transition:transform 1s;z-index:1001}.profileText[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-family:var(--font-primary);font-size:30px;display:flex;align-items:center;gap:.5vw;transition:font-size .1s}.sidebarBox.collapsed[_ngcontent-%COMP%]   .profileText[_ngcontent-%COMP%]{display:none}.profileButton[_ngcontent-%COMP%]:hover   .profileText[_ngcontent-%COMP%]{font-size:32px}.profileButton[_ngcontent-%COMP%]{justify-content:center}.sidebarBox.collapsed[_ngcontent-%COMP%]   .profileButton[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .sidebarBox.collapsed[_ngcontent-%COMP%]   .settingsWheel[_ngcontent-%COMP%]{width:32px;height:32px}.settingsbox[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;gap:2vh;top:0;left:0;width:20vw;height:100vh;background-color:var(--color-palette-light-green);z-index:1000;transform:translate(-100%);transition:transform .3s ease-in-out}.settingsbox.visible[_ngcontent-%COMP%]{transform:translate(0)}.settingsbox[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:30px;text-align:center;margin-top:2vh}.settingsbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:20px;text-align:center;margin-top:2vh}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:28px}.toggle-input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-label[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.toggle-label[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.toggle-input[_ngcontent-%COMP%]:checked + .toggle-label[_ngcontent-%COMP%]{background-color:#028090}.toggle-input[_ngcontent-%COMP%]:checked + .toggle-label[_ngcontent-%COMP%]:before{transform:translate(32px)}.colored-bg[_ngcontent-%COMP%]{background-color:#222831!important;color:#fff!important}.colored-bg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#fff!important}']})};function ZL(e,n){e&1&&re(0,"app-sidebar")}var Cf=class e{isSideBarCompatible(){return location.pathname!=="/"&&!location.pathname.startsWith(`/${hs}`)&&!location.pathname.startsWith(`/${ps}`)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ee({type:e,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"main"],[1,"sub-container"]],template:function(t,r){t&1&&(b(0,"main",0),Ve(1,ZL,1,0,"app-sidebar"),b(2,"div",1),re(3,"router-outlet"),C()()),t&2&&(O(),He(r.isSideBarCompatible()?1:-1))},dependencies:[Ha,bf],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:relative;height:100vh}.sub-container[_ngcontent-%COMP%]{width:100%}"]})};sm(Cf,hx).catch(e=>console.error(e));
